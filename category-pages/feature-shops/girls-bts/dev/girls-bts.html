 
<!-- dev css -->
<!-- <link rel="stylesheet" type="text/css" href="../css/girls-bts.css">   -->
 
<!-- ref --> 
<!-- <img src="http://www.teacollection.com/mas_assets/media/tea_collection/feature-shops/2018/0726/back-to-school/girl/bg-m.png" class="ref" />   -->

<div class="bts"> 
	<h1 class="mobile">Back to School Checklist</h1>
	<header> 
		<!-- desktop -->
		<img src="http://www.teacollection.com/mas_assets/media/tea_collection/feature-shops/2018/0726/back-to-school/girl/header-d.png?nocache=2" class="desktop" alt="Back to School Checklist"/>
		<!-- mobile -->
		<img src="http://www.teacollection.com/mas_assets/media/tea_collection/feature-shops/2018/0726/back-to-school/girl/header-m.png?nocache=2" class="mobile" alt="Back to School Checklist"/>
	</header>
	<nav class="desktop">
		<ul>
			<li><a href="#dresses">dresses</a></li>
			<li><a href="#leggings">leggings</a></li>
			<li><a href="#tops">tops</a></li>
			<li><a href="#bottoms">bottoms</a></li>
			<li><a href="#layering">layering</a></li>
			<li><a href="#shoes">shoes + accessories</a></li>
		</ul>
	</nav>

	<!-- <div class="loading">loading...</div> -->
	
</div>

<!-- toolkit -->
<style>
	include "../css/girls-bts.css"
</style>

<!-- <script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<!-- bx slick development-->
<!-- <script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/slick/slick.min.js"></script>
<link rel="stylesheet" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/slick/slick.css"/>
<link rel="stylesheet" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/slick/slick-theme.css"/> -->

<!-- bx slick production-->
<script src="/mas_assets/theme/tea_collection/js/slick/slick.min.js"></script>
<link rel="stylesheet" href="/mas_assets/theme/tea_collection/js/slick/slick.css"/>
<link rel="stylesheet" href="/mas_assets/theme/tea_collection/js/slick/slick-theme.css"/>

<script>
$(document).ready(function() {
	// $('img[usemap]').rwdImageMaps();

	var items = [];

	var dresses = {
		className:'c1', 
		name: 'dresses',
		alt: 'Twirl-worthy dresses', 
		skus:[
			{num:'8F12307-917', sizes:'2 to 8'},
			{num:'8F12306-065', sizes:'2 to 8'},
			{num:'8F12304-F53', sizes:'2 to 8'},
			{num:'8F12321-E39', sizes:'2 to 8'},
			{num:'8F12313-F59', sizes:'2 to 8'},
			{num:'8F13301-F92', sizes:'2 to 8'},
			{num:'8F12311-F96', sizes:'2 to 8'},
			{num:'8F12322-F54', sizes:'2 to 8'},
			{num:'8F13302-E77', sizes:'2 to 8'},
			{num:'8F12310-F97', sizes:'2 to 8'},
		]
	};

	var leggings = {
		className:'c2', 
		name: 'leggings',
		alt: 'Wear-with-everything leggings',  
		skus:[
			{num:'8F12219-405', sizes:'2 to 8'},
			{num:'8F12219-181', sizes:'2 to 8'},
			{num:'8F12221-F90', sizes:'2 to 8'},
			{num:'8F12220-G35', sizes:'2 to 8'},
			{num:'8F12203-065', sizes:'2 to 8'},
			{num:'8F12204-983', sizes:'2 to 8'},
			{num:'8F12214-F91', sizes:'2 to 8'},
			{num:'8F12224-231', sizes:'2 to 8'},
			{num:'8F12223-554', sizes:'2 to 8'},
			{num:'8F12222-109', sizes:'2 to 8'},
		]
	};

	var tops = {
		className:'c3', 
		name: 'tops', 
		alt: 'Unique tops and tees, please', 
		skus:[
			{num:'8F12110-971', sizes:'2 to 8'},
			{num:'8F12111-B43', sizes:'2 to 8'},
			{num:'8F12131-061', sizes:'2 to 8'},
			{num:'8F12121-452', sizes:'2 to 8'},
			{num:'8F12122-917', sizes:'2 to 8'},
			{num:'8F12130-014', sizes:'2 to 8'},
			{num:'8F12102-F52', sizes:'2 to 8'},
			{num:'8F12102-F51', sizes:'2 to 8'},
			{num:'8F12117-983', sizes:'2 to 16'},
			{num:'8F12115-061', sizes:'2 to 8'},
		]
	};

	var bottoms = {
		className:'c4', 
		name: 'bottoms', 
		alt: 'Sweet skirts and pants', 
		skus:[
			{num:'8F12210-E63', sizes:'2 to 8'},
			{num:'8F12229-917', sizes:'2 to 8'},
			{num:'8F13201-D16', sizes:'2 to 8'},
			{num:'8F12213-H52', sizes:'2 to 16'},
			{num:'8F12212-917', sizes:'2 to 16'},
			{num:'8F12207-983', sizes:'2 to 8'},
			{num:'8F12228-357', sizes:'2 to 16'},
			{num:'8F12228-676', sizes:'2 to 16'},
			{num:'8F12206-166', sizes:'2 to 8'},
			{num:'8F12206-405', sizes:'2 to 8'},
		]
	};

	
	var layering = {
		className:'c5', 
		name: 'layering', 
		alt: 'Lovable layers', 
		skus:[
			{num:'8F11101-097', sizes:'XS to L'},
			{num:'8F12125-H52', sizes:'2 to 8'},
			{num:'8F12126-917', sizes:'2 to 16'},
			{num:'8F12127-405', sizes:'2 to 16'},
			{num:'8F11100-633', sizes:'XS to L'},
			{num:'8F11100-486', sizes:'XS to L'},
			{num:'8F13100-D10', sizes:'XS to L'},
			{num:'8F22143-E41', sizes:'2 to 12'},
			{num:'8F22118-E63', sizes:'2 to 16'},
			{num:'8F22119-486', sizes:'2 to 16'},
		]
	};


	var shoes = {
		className:'c6', 
		name: 'shoes',
		alt: 'Finishing touches',  
		skus:[
			{num:'8F12800-633', sizes:'2_3 to 10_12'},
			{num:'8F12802-061', sizes:'2_3 to 10_12'},
			{num:'8F13800-G28', sizes:'OS'},
			{num:'8F23800-G37', sizes:'OS'},
			{num:'VANZU49-NVY', sizes:'11 to 4Y'},
			{num:'OLD6029-GLD', sizes:'25 to 34'},
			{num:'HER1312-BLK', sizes:'OS'},
			{num:'VANIU4W-COP', sizes:'4 to 4Y'},
			{num:'HER1036-ROS', sizes:'OS'}
		]
	};

	items.push(dresses, leggings, tops, bottoms, layering, shoes);

	// console.log(items);

	//make the pdp
	$.each(items, function(i,val){
		var elem = '<a name="'+ val.name +'"></a><div class="'+ val.className +'"><img src="http://www.teacollection.com/mas_assets/media/tea_collection/feature-shops/2018/0726/back-to-school/girl/'+ val.className +'-d.png?nocache=2" class="desktop" alt="'+ val.alt +'" /><img src="http://www.teacollection.com/mas_assets/media/tea_collection/feature-shops/2018/0726/back-to-school/girl/'+ val.className +'-m.png?nocache=2" class="mobile" alt="'+ val.alt +'" /><ul></ul></div>';

		//make the get call
		$.each(val.skus, function(j,obj){
			var sku = obj.num.split('-')[0];
			var theSize = obj.sizes;
			// console.log(sku, theSize);
			
			$.get('https://www.teacollection.com/product/' + sku, function(data){
				var mpd = $(data).find('#the-mpd').text()
				var json = JSON.parse(mpd);
				// console.log(json.parent_data); 

				//find the matching sku
				$.each(json.parent_data, function(k, pdp){ 
					var matchSku = pdp.sku;
					// matchSku = matchSku.slice(0,-2);
					// console.log(matchSku);
					
					//DON'T FORGET TO ADJUST THIS!!!!!!!!!!!!!!!!
					if (matchSku.indexOf('8F13800-G28') !== -1 || matchSku.indexOf('8F23800-G37') !== -1 || matchSku.indexOf('VANZU49-NVY') !== -1 || matchSku.indexOf('OLD6029-GLD') !== -1 || matchSku.indexOf('OLD6029-SVR') !== -1){
						matchSku = matchSku.slice(0,-3);
					}
					else if (matchSku.indexOf('8F12800-633') !== -1 || matchSku.indexOf('8F12802-061') !== -1){
						matchSku = matchSku.slice(0,-4);
					}	
					else {
						matchSku = matchSku.slice(0,-2);
					}

					// console.log(matchSku);
					
					//found the matching sku
					if(matchSku == obj.num){
						// console.log(matchSku, obj);
						// console.log(pdp)
						var thisSku = pdp.sku;
						thisSku = thisSku.split('-')[0];
						var urlModel = pdp.model;
						urlModel = urlModel.replace(/ /g,'-');
						// console.log('the urlModel: ' + urlModel);
						var li = '<li data-num="'+ k +'"><a href="https://www.teacollection.com/product/'+ thisSku +'/'+ urlModel +'.html?nocache=2"><img style="position: absolute; z-index: 999; display:none" class="badges comingsoon-badge" src="https://s.tea-global.net/mas_assets/theme/tea_collection/images/misc/ComingSoonBadge_lrg.gif"><img src="'+ pdp.small_image_url +'" alt="'+ pdp.model +'"><h2><span style="display:none">new</span> '+ pdp.model +'</h2><h3>'+ pdp.retail_price +'</h3><h4>sizes '+ theSize +'  <span class="desktop">â€¢ more colors</span></h4></a></li>';
						$('.'+ val.className + ' ul').append(li);

						//if new arrival show the new span
						if(pdp.is_new_arrival){
							$('.' + val.className + ' ul li[data-num="'+ k +'"] a h2 span').show();
						}
						//if coming soon
						if(pdp.badge == 'comingsoon'){
							$('.' + val.className + ' ul li[data-num="'+ k +'"] a img.badges').show();
						}

						return false;
					}

				});

			});
		});

		$('.bts').append(elem);

	});

	setTimeout(function(){
		if($(window).width() > 737){
			$('.bts .c1 ul, .bts .c2 ul, .bts .c3 ul, .bts .c4 ul, .bts .c5 ul, .bts .c6 ul').slick({
        		infinite:true,
        		slidesToShow: 3,
        		slidesToScroll:1,
        		dots: false,
        		autoplay:true,
        		autoplaySpeed: 2000
    		});
		}
		else {
			$('.bts .c1 ul, .bts .c2 ul, .bts .c3 ul, .bts .c4 ul, .bts .c5 ul, .bts .c6 ul').slick({
        		infinite:true,
        		slidesToShow: 2,
        		slidesToScroll:1,
        		dots: false,
        		autoplay:true,
        		autoplaySpeed: 2000
    		});
		}
		
	},5000);

	//window scroll
	$(window).scroll(function(){
		// console.log($(window).scrollTop());
		if($(window).scrollTop() > 450){
			$('.bts nav').addClass('fixed');
		} else {
			$('.bts nav').removeClass('fixed');
		}
	});

});
</script>