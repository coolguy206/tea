<!-- dev styles -->
<!-- <link rel="stylesheet" type="text/css" href="../css/girls-clothing.css"> -->

<!--toolkit -->
<style>
	include "../css/girls-clothing.css"
</style>

<style>
	/*c1*/
	.gift-shop-container .c1 .cta, .gift-shop-container .c1 .tip {
		color:#690046 !important;
	}
	.gift-shop-container .c1 .cta:hover {
		background:#690046;
		color:#fff !important;
	}

/*---------------------------------------------------------------------*/

	/*c2*/
	.gift-shop-container .c2 .cta, .gift-shop-container .c2 .tip, .gift-shop-container .c2 #pj-fineprint {
		color:#0097B7 !important;
	}
	.gift-shop-container .c2 .cta:hover {
		background:#0097B7;
		color:#fff !important;
	}
	.gift-shop-container .c2 #pj-fineprint {
		text-decoration:underline;
	}
	.gift-shop-container .c2 div:first-of-type p {
		margin:11px 0 11px 0 !important;
	}

/*---------------------------------------------------------------------*/

	/*c3*/
	.gift-shop-container .c3 .cta, .gift-shop-container .c3 .tip {
		color:#122E7A !important;
	}
	.gift-shop-container .c3 .cta:hover {
		background:#122E7A;
		color:#fff !important;
	}

/*---------------------------------------------------------------------*/

	/*c4
	*/.gift-shop-container .c4 .cta, .gift-shop-container .c4 .tip {
		color:#8A7AA0 !important;
	}
	.gift-shop-container .c4 .cta:hover {
		background:#8A7AA0;
		color:#fff !important;
	}

/*---------------------------------------------------------------------*/

	/*c5*/
	.gift-shop-container .c5 .cta, .gift-shop-container .c5 .tip {
		color:#122E7A !important;
	}
	.gift-shop-container .c5 .cta:hover {
		background:#122E7A;
		color:#fff !important;
	}

/*---------------------------------------------------------------------*/

	/*c6*/
	.gift-shop-container .c6 .cta, .gift-shop-container .c6 .tip {
		color:#A30065 !important;
	}
	.gift-shop-container .c6 .cta:hover {
		background:#A30065;
		color:#fff !important;
	}
	.gift-shop-container .c6 div:first-of-type p {
		margin:11px 0 11px 0 !important;
	}
</style>

<div id="pj-details">
	<div class="pj-container">
		<p>Enter code GETCOZY during checkout to receive 2 PJ sets for $65. Offer available online at teacollection.com until 12/26/2017 at 11:59PM. No adjustments on previous purchases. Not redeemable for cash. Discount taken will be pre-tax. Limited to stock on hand.</p>
		<p class="close-pj">close</p>
	</div>
</div>

<div class="top">
	<!-- <img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/top-d.jpg" alt="give them tea" /> -->
	<div class="text">
		<h1>Give Them Tea,<br> Give Them the World<br> <span>Globally Inspired Gifts<br> for Little Citizens.</span></h1>
	</div>
	<h2>gifts under $50</h2>
</div>

<div class="gift-shop-container">
	<!-- cell 1 -->
	<div class="c1 cell">
		<div>
			<!--desktop-->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c1a-d.jpg" alt="" class="desktop" />
			<!--mobile -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c1-m.jpg" alt="" class="mobile" />
		</div>
		<div>
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c1b-d.jpg" alt=""  class="desktop"/>

			<p>
				Whimsical butterfly wings and a very Tea print make for magically easy outfitting!<br>

				<!-- <span class="tip"><span>Gifting Tip:</span>Deck the family in Scots-inspired style! We<br> have holiday sweaters for all her siblings.</span> -->
			</p>
			<a href="#" class="cta gift-it">gift it</a>
		</div>
	</div>

	<!-- cell 2 -->
	<div class="c2 cell">
		<div>
			<!-- desktop image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c2a-d.jpg" alt=""  class="desktop"/>
			<!-- mobile image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c2-m.gif" alt=""  class="mobile"/>

			<p>
				Just like Scotland’s seaside cliffs,<br> this easygoing PJ onesie is packed with<br> playful puffins.<br>

				<span class="tip"><span>Gifting Tip:</span> We have PJs for all the kids on your list!<br> Get any 2 sets for $65. <a href="#pj-details" id="pj-fineprint">see details</a></span>
			</p>
			
			<a href="#" class="cta gift-it">gift it</a>
		</div>
		<div class="desktop">
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c2b-d.gif" alt="" />
		</div>
	</div>

	<!-- cell 3 -->
	<div class="c3 cell">
		<div>
			<!-- desktop -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c3a-d.jpg" alt="" class="desktop" />
			<!-- mobile -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c3-m.jpg" alt="" class="mobile" />
		</div>
		<div>
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c3b-d.jpg" alt=""  class="desktop"/>

			<p>
				‘Tis the season for tulle! Give a whirling,<br> twirling gift to the littlest one on your list.

				<br> 

				<span class="tip"><span>Gifting Tip:</span> A picture perfect pair – big sister has tulle<br> dresses and skirts, too.</span>
			</p>
			<a href="#" class="cta gift-it">gift it</a>
		</div>
	</div>

	<h2>gifts under $100</h2>

	<!-- cell 4 -->
	<div class="c4 cell">
		<div>
			<!-- desktop image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c4a-d.jpg" alt=""  class="desktop"/>
			<!-- mobile image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c4-m.gif" alt=""  class="mobile"/>

			<p>
				Inspired by a sweet Scottish tale<br> about cat fairies, this darling duo of<br> graphics pairs perfectly with our<br> made-to-last striped leggings.

				<!-- <br> -->
			
				<!-- <span class="tip"><span>Gifting Tip:</span>We have a matching flannel<br> for baby bro, too!</span> -->
			</p>
			
			<a href="#" class="cta gift-it">gift it</a>
		</div>
		<div class="desktop">
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c4b-d.gif" alt="" />
		</div>
	</div>

	<!-- cell 5 -->
	<div class="c5 cell">
		<div>
			<!-- desktop -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c5a-d.jpg" alt="" class="desktop" />
			<!-- mobile -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c5-m.jpg" alt="" class="mobile" />
		</div>
		<div>
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c5b-d.jpg" alt="" class="desktop"/>
			<p>
				We’re making gifting a snap! Moms, dads<br> and, most importantly, little ones love our<br> fuss-free rompers.

				<br>

				<!-- <span class="tip"><span>Gifting Tip:</span>We have a matching flannel<br> for baby bro, too!</span> -->
			</p>
			<a href="#" class="cta gift-it">gift it</a>
		</div>
	</div>

	<!-- cell 6 -->
	<div class="c6 cell">
		<div>
			<!-- desktop image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c6a-d.jpg" alt=""  class="desktop"/>
			<!-- mobile image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c6-m.gif" alt=""  class="mobile"/>

			<p>
				Heirloom quality. Timeless style.<br> Give the gift of traditional Fair Isle<br> with this snuggly sweater!<br>

				<span class="tip"><span>Gifting Tip:</span> Deck the family in Scots-inspired style!<br> We have holiday sweaters for all her siblings.</span>
			</p>
			
			<a href="#" class="cta gift-it">gift it</a>
		</div>
		<div class="desktop">
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/c6b-d.gif" alt="" />
		</div>
	</div>

	<div class="bottom">
		<a href="/product/EGIFTCARD-999-NS/tea-collection-gift-certificate-gift-card.html">
			<h2>Think they'll know best?<span class="cta">gift<br class="mobile"> cards</span></h2>

			<!-- mobile image -->
			<img src="/mas_assets/theme/tea_collection/images/categories/gift-shop/171102/baby-girl/bottom-m.jpg" class="mobile" alt="think they'll know best? " />
		</a>
	</div>

	<a href="/childrens-clothing-gift-shop" class="return cta">Go Back to the Gift Shop &#62;</a>
</div>



<!-- dev -->
<!-- <link rel="stylesheet" type="text/css" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script> -->
<!-- <script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<!-- prod -->
<link rel="stylesheet" type="text/css" href="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<!-- <script src="/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<script>
	$(document).ready(function(){
		/*jQuery('img[usemap]').rwdImageMaps();*/

		/*************************************************************************************/

		//dev image src
		// var imgs = $('.top img, .gift-shop-container img');
		// $.each(imgs, function(i,val){
		// 	var src = $(val).attr('src');
		// 	var newSrc = 'https://www.teacollection.com' + src;
		// 	$(val).attr('src', newSrc)
		// });

		//desktop fineprint
		if($(window).width()>737){
			//lightbox for fineprint
			$('#pj-fineprint').fancybox({
				afterClose: function(){
					$('.fancybox-overlay').remove();
				}
			});
		}

		//mobile fineprint
		if($(window).width()<737){
			// slide toggle the fineprint
			$('#pj-fineprint').click(function(e){
				e.preventDefault();
				$('#pj-details').slideToggle();
				var pos = $(this).offset();
				$('.pj-container').css({position:'relative', top: pos.top - 500});
			});

			$('.close-pj').click(function(e){
				e.preventDefault();
				$('#pj-details').slideToggle();
			});
		}

		var bundle = [];

		var outfit = function(sku1, sku2, sku3){
			var obj = {};
			obj.skus = [sku1,sku2,sku3];
			bundle.push(obj)
		};

		// PROD BUNDLE
		// outfit 1
		outfit('7w32904-a55', '', '');

		// outfit 2
		outfit('7w32700-474', '', '');

		// outfit 3
		outfit('7w32312-a96', '', '');

		// outfit 4
		outfit('7w32105-061', '7w32106-014', '7w32203-672');

		// outfit 5
		outfit('7w32515-941', '7w32509-a55', '');

		// outfit 6
		outfit('7w31300-941', '7w32205-065', '');

		/*************************************************************************************/

		// DEV BUNDLE
		// outfit 1
		// outfit('7F12332-474', '', '');
		// // outfit 2
		// outfit('7F12336-324', '', '');
		// // outfit 3
		// outfit('7F12335-936', '7F12336-324', '');
		// // outfit 4
		// outfit('7F13305-001', '7F12338-014', '7F12218-633');
		// // outfit 5
		// outfit('7F12322-577', '7F12319-948', '6F12200-633');
		// // outfit 6
		// outfit('7F12332-474', '', '');

		// console.log(bundle);

		//add bundle to divs
		$.each(bundle, function(i,val){
			var cell = i + 1;
			var skus = val.skus;
			$.each(skus, function(j,arr){
				if(arr !== ""){
					var num = j + 1;
					var data = 'data-sku-' + num;
					$('.c' + cell).attr(data, arr);
				}
			});
		});

		//gift-it click
		$('.gift-it').click(function(e){
			e.preventDefault();

			//remove any .drop on the page
			$('.drop').remove();

			//variables
			var div = $(this).closest('.cell');
			var sku1 = $(div).attr('data-sku-1');
			var sku2 = $(div).attr('data-sku-2');
			var sku3 = $(div).attr('data-sku-3');
			var skus = [sku1, sku2, sku3];

			// close svg element
			var closeSvg = '<span class="close"><svg width="15" height="15" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>X to close</title><desc>Created using Figma</desc><g id="Canvas" transform="translate(4130 14276)"><g id="X to close"><g id="Rectangle"><use xlink:href="#path0_fill" transform="matrix(-0.707974 -0.706238 0.706284 -0.707928 -4129.23 -14261)" fill="#666666"/></g><g id="Rectangle"><use xlink:href="#path1_fill" transform="matrix(-0.706284 0.707928 -0.707974 -0.706238 -4115 -14261.8)" fill="#666666"/></g></g></g><defs><path id="path0_fill" d="M 0 0L 1.05949 0L 1.05949 20.1303L 0 20.1303L 0 0Z"/><path id="path1_fill" d="M 0 0L 1.05949 0L 1.05949 20.1303L 0 20.1303L 0 0Z"/></defs></svg></span>'; 

			//add the .drop element
			$(div).after('<div class="drop"><ul><li class="close-svg">'+closeSvg+'</li><li class="loading" style="width:100% !important"><h3>LOADING...</h3></li></ul></div>');

			//hide the close icon
			$('.close-svg').hide();

			//.close click
			$('.close').click(function(){
				$('.drop').remove();
			});

			//console.log(skus);

			//get the items
			$.each(skus, function(i,val){
				if(val !== undefined){
					var sku = val.split('-')[0];
					$.get('/product/' + sku, function(data){
						// console.log(data);
						//desktop
						if($(window).width()>737){
							var details = $(data).find('#pdp-item-details');
							var title = $(details).find('h1[itemprop="name"]').html();
							var price = $(details).find('span[itemprop="price"]').html();
							var sizes = $(details).find('.size-swatches ol li input');
							var img = $(data).find('#pdp-left').find('img[itemprop="image"]').attr('src');
							var imgSrc = img.split('800x');
							var imgSize = '416x416' + imgSrc[1];
							imgSrc = imgSrc[0] + imgSize;
						}

						//mobile
						else if($(window).width()<737){
							// var details = $(data).find('.common-wrap');
							var title = $(data).find('.common-wrap').find('span.heading').text();
							title = title.replace('Coming Soon','');
							title = title.replace('Currently Unavailable', '');
							title = title.replace('Sold Out', '');

							var price = $(data).find('#price_placeholder .new-price').text();
							if(price == ''){
								price = $(data).find('#price_placeholder .price').text();
								price = price.replace('$','');
							} else {
								price = price.replace(' $','');
							}
							
							var sizes = $(data).find('.size-section').find('input');
							var img = $(data).find('.product-images').attr('data-product-img');
							var imgSrc = img.split('800x');
							var imgSize = '416x416' + imgSrc[1];
							imgSrc = imgSrc[0] + imgSize;
							
						}
						
						//get the sizes
						var sizesArray = [];
						$.each(sizes, function(j,arr){
							var active = $(arr).hasClass('disabled');
							
							if(active == false){
								var size = $(arr).val();
								sizesArray.push(size);
							}
						});

						var dropdownIcon = '<svg width="10" height="6" viewBox="0 0 10 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Vector</title><desc>Created using Figma</desc><g id="Canvas" transform="translate(371 14198)"><g id="Vector"><use xlink:href="#path0_fill" transform="translate(-371 -14198)" fill="#999999"/></g></g><defs><path id="path0_fill" d="M 8.98305 0L 5.08475 3.83333L 1.01695 0L 0 1L 5.08475 6L 10 1L 8.98305 0Z"/></defs></svg>';

						//desktop
						if($(window).width() > 737){
							var li = '<li class="li-'+i+'"><div><img src="'+imgSrc+'" alt="'+title+'"/><h3><span class="title">'+title+'</span><br><span class="price">$'+price+'</span></h3><div class="sizes-container sizes-wrap-'+i+'"><ul class="sizes-'+i+'"><li>size</li></ul></div><a href="#" class="cta add-to-bag-'+i+' disabled">add to bag</a><h4 class="size-error error-'+i+'">Please select a size</h4></div></li>';
						}
						//mobile
						else if($(window).width() < 737){
							var li = '<li class="li-'+i+'"><div><img src="'+imgSrc+'" alt="'+title+'"/><h3><span class="title">'+title+'</span><br><span class="price">$'+price+'</span></h3><select class="sizes-'+i+'"><option>size</option></select><a href="#" class="cta add-to-bag-'+i+' disabled">add to bag</a><h4 class="size-error error-'+i+'">Please select a size</h4></div></li>';
						}  

						

						//make the drop down element
						$('.drop > ul').append(li);

						//show the close svg icon
						$('.close-svg').show();

						//desktop output sizes dropdown
						if($(window).width()> 737){
							//add the sizes to the dropdown
							$.each(sizesArray, function(k, size){
								$('.sizes-' + i).append('<li value="'+size+'">'+size+'</li>');
							});

							//hide show the sizes dropdown
							$('.sizes-' + i).click(function(){
								$(this).closest('.sizes-container').toggleClass('show-sizes');
							});

							//sizes dropdown li click
							$('.sizes-' + i + ' li').click(function(){
								$('.sizes-' + i + ' li').removeAttr('class');
								var text = $(this).text();
								if(text !== 'size') {
									$(this).addClass('selected');
									var num = $(this).text();
									$('.sizes-' + i + ' li:first-of-type').text(num);
									$('.add-to-bag-' + i).removeClass('disabled');
									$('.error-' + i).hide();
								}
							
							});
						}

						// mobile output sizes dropdown
						else if($(window).width()< 737) {
							//add the sizes to the dropdown
							$.each(sizesArray, function(k, size){
								$('.sizes-' + i).append('<option value="'+size+'">'+size+'</option>');
							});
						}
						

						//remove the loading
						$('.loading').remove();

						//desktop only adjust width of .drop ul
						if($(window).width()>737){
							//adjust the width of .drop > ul
							var theLength = $('.drop > ul > li');
						
							var count = 0;
							$.each(theLength, function(j,arr){
								if(j !== 0) {
									var width = $(arr).outerWidth();
									count = count + width;
								}
							});

							$('.drop > ul').css('width', count + 'px');
						}
						
						

						//select change
						$('.sizes-' + i).change(function(){
							var theVal = $(this).val();
							// if select is a number remove .disable from the add to bag
							if(theVal !== 'size') {
								$('.add-to-bag-' + i).removeClass('disabled');
								$('.error-' + i).hide();
							} else {
								$('.add-to-bag-' + i).addClass('disabled');
							}
						});

						//add to bag click
						$('.add-to-bag-' + i).click(function(e){
							e.preventDefault();
							var li = $(this).closest('li');
							var title = $(li).find('.title').text();

							//desktop
							if($(window).width()>737){
								var select = $(this).siblings('.sizes-container').find('.selected').html();
							}

							//mobile
							else if($(window).width()<737){
								var select = $(this).siblings('select').val();
							}

							//if size not selected
							if(select == undefined || select == 'size'){
								$('.error-' + i).show();
								$('.sizes-' + i).focus();
							} else {
								$('.error-' + i).hide();
								//build the url
								var buyUrl = '/?page=item&action=buy&id[0]=' + val + '-' + select + '&qty[0]=1';

								//hide the cta
								$('.add-to-bag-' + i).hide();
								//add the processing message
								$('.add-to-bag-' + i).after('<h4 class="processing">PROCESSING...</h4>');
								//add to bag function
								$.post(buyUrl, function(){
									$('.processing').html('SUCCESS!!!');

									$(li).append('<div class="success"><h3>'+title+' added to cart.</h3><i>'+closeSvg+'</i></div>');
									// close the popup on click
									$('.success i').click(function(){
										$('.success').remove();
										$('.processing').remove();
										$('.add-to-bag-' + i).fadeIn();
									});

									setTimeout(function(){
										$('.processing').remove();
										$('.success').fadeOut();
										$('.add-to-bag-' + i).fadeIn();
									},2000);
								});

							}
						});
					});
				} 

			});

		});
	});	
</script>

