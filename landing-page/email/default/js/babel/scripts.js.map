{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","a","url","window","location","href","c","find","e","listId","companyId","emailIsValid","email","test","indexOf","f","split","each","b","d","console","log","g","hide","append","show","h","click","preventDefault","val","ac","theData","data","type","attributes","list_id","custom_source","JSON","stringify","ajax","headers","revision","success","status","xhr","error"],"mappings":"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","sourcesContent":["\r\n$(document).ready(function () {\r\n\r\n  var a;\r\n  var url = window.location.href;\r\n  var c = $(\".email-wrap\").find(\"button\");\r\n  var e = null;\r\n\r\n  var listId = `WiTjSE`;\r\n  var companyId = `RAd6JR`;\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  if (url.indexOf(\"?\") !== -1) {\r\n\r\n    var f = url.split(\"?\")[1].split(\"&\");\r\n\r\n    $.each(f, function (b, c) {\r\n      if (c.indexOf(\"utm_campaign\") !== -1) {\r\n        var d = c.split(\"=\")[1];\r\n        a = d;\r\n      } else if (c.indexOf(\"p\") !== -1) {\r\n        var f = c.split(\"=\")[1];\r\n        e = f;\r\n      }\r\n    });\r\n\r\n    console.log(`e = ${e}`);\r\n\r\n    //? ONLY EXECUTE IF E EQUALS A VALUE NOT NULL\r\n    if (e !== null) {\r\n\r\n      var g = `<p>Sign up for exclusive offers, new<br> styles, and ${e}% off your first order!*</p>`;\r\n      $(\".email-wrap .sign-up .default\").hide();\r\n      $(\".email-wrap .sign-up .promo-message\").append(g);\r\n      $(\".email-wrap .new-customers\").show();\r\n\r\n      var h = `<p>Keep an eye on your<br class=\"br-m\"> inbox for ${e}% off.</p>`;\r\n      $(\".email-wrap .thanks .default\").hide();\r\n      $(\".email-wrap .thanks .promo-message\").append(h);\r\n\r\n    }\r\n\r\n  } else {\r\n    a = \"email sign up landing page\";\r\n  }\r\n\r\n\r\n  $(c).click(function (c) {\r\n    c.preventDefault();\r\n    var e = $(\".email-wrap\").find(\"input\").val();\r\n    $(\".email-wrap .error\").hide();\r\n    var f = emailIsValid(e);\r\n\r\n    if (f) {\r\n\r\n      $(\".email-wrap .sign-up .load-more-wrap\").show();\r\n      $(\".email-wrap .input-fields\").hide();\r\n\r\n      var ac = a;\r\n\r\n      var theData = {\r\n        data: {\r\n          type: \"subscription\",\r\n          attributes: {\r\n            list_id: listId,\r\n            custom_source: ac,\r\n            email: e\r\n          }\r\n        }\r\n      };\r\n\r\n      theData = JSON.stringify(theData);\r\n\r\n      $.ajax({\r\n        url: `https://a.klaviyo.com/client/subscriptions/?company_id=${companyId}`,\r\n        type: 'post',\r\n        data: theData,\r\n        headers: {\r\n          revision: '2023-02-22',\r\n          'content-type': 'application/json'\r\n        },\r\n        success: function (data, status, xhr) {\r\n          console.log('klaviyo email sign up page success');\r\n          $(\".email-wrap .sign-up\").hide();\r\n          $(\".email-wrap .thanks\").show();\r\n        },\r\n        error: function () {\r\n          $(\".email-wrap .error\").show();\r\n          $(\".email-wrap .input-fields\").show();\r\n          $(\".email-wrap .sign-up .load-more-wrap\").hide();\r\n        }\r\n      });\r\n\r\n    } else {\r\n\r\n      $(\".email-wrap .error\").show();\r\n      $(\".email-wrap .input-fields\").show();\r\n      $(\".email-wrap .sign-up .load-more-wrap\").hide();\r\n    }\r\n\r\n  });\r\n\r\n});"],"file":"scripts.js"}