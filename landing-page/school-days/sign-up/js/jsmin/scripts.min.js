!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.inview=void 0;c.inview=function(a){$(a).on("inview",function(a,b){if(b){var c=$(this).find("img");$.each(c,function(a,b){var c=$(b).attr("data-set");c&&$(b).attr("src",c),$(b).removeAttr("data-set")}),$(this).css("visibility","visible")}})}},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.phoneConvert=void 0;c.phoneConvert=function(a){var b=a.match(/[0-9]{0,14}/g);return null===b?"":(b=b.join(""),b=b[0].includes("1")?"+"+b:"+1"+b,b=b.substring(0,15))}},{}],3:[function(a,b,c){"use strict";var d=a("./phone.js"),e=a("./inview.js");$(document).ready(function(){function a(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}(0,e.inview)(".main-content .header .div-2");var b=(window.location.href,"RAd6JR"),c="XQN7pP",f="SGNXSc";$(".main-content a").click(function(a){var b=$(this).attr("href");$(".forms div").hide(),$(b).show()}),$(".forms button").click(function(e){e.preventDefault();var g=$(this).attr("data-list"),h=$(this).closest("form");console.log($(h).find('input[name="the-phone"]')),$(h).find('input[name="the-phone"]').on("input",function(a){$(this).val($(this).val().replace(/[^0-9]/g,""))});var i=$(h).find('input[name="user-email"]').val(),j=$(h).find('input[name="user-fname"]').val(),k=$(h).find('input[name="user-lname"]').val(),l=$(h).find('input[name="the-phone"]').val(),m=$(h).find('input[name="user-affiliation"]').val(),n=$(h).find('input[name="user-how"]').val(),o=$(h).find('input[name="user-refer-name"]').val(),p=$(h).find('input[name="org-name"]').val(),q=$(h).find('input[name="org-address"]').val(),r=$(h).find('input[name="org-ein"]').val(),s=$(h).find(".states").val(),t=$(h).find('input[name="org-city"]').val(),u=$(h).find('input[name="org-zip"]').val(),v=a(i);if(v&&""!==j&&""!==k&&""!==p&&""!==q&&""!==t&&""!==u&&"please choose"!==s){var w={data:{type:"subscription",attributes:{email:i,properties:{first_name:j,last_name:k,school_days_organization_name:p,school_days_organization_affiliation:m,school_days_organization_city:t,school_days_organization_region:s,school_days_organization_zip:u,school_days_organization_country:"United States"}}}};""!==l&&10==l.length&&(l=(0,d.phoneConvert)(l),w.data.attributes.phone_number=l),"school days sign up"==g&&""!==r?(w.data.attributes.custom_source=g,w.data.attributes.list_id=c,w.data.attributes.properties.school_days_organization_org_ein=r,w.data.attributes.properties.school_days_organization_address=q,w.data.attributes.properties.school_days_organization_how=n,console.log(w),w=JSON.stringify(w),$.ajax({url:"https://a.klaviyo.com/client/subscriptions/?company_id=".concat(b),type:"post",data:w,headers:{revision:"2023-02-22","content-type":"application/json"},success:function(a,b,c){console.log("klaviyo success register"),$(".forms .error, .forms .join-today").hide(),$(".forms .success h2").html("Successfully sent! <br> Look out for an email from <br> The School Days team shortly."),$(".forms .success").show()}})):"school days referral"==g?(w.data.attributes.custom_source=g,w.data.attributes.list_id=f,w.data.attributes.properties.school_days_organization_referer=o,console.log(w),w=JSON.stringify(w),$.ajax({url:"https://a.klaviyo.com/client/subscriptions/?company_id=".concat(b),type:"post",data:w,headers:{revision:"2023-02-22","content-type":"application/json"},success:function(a,b,c){console.log("klaviyo success register"),$(".forms .error, .forms .refer-org").hide(),$(".forms .success h2").html("Successfully sent!"),$(".forms .success").show()}})):$(".forms .error").show()}else $(".forms .error").show()})})},{"./inview.js":1,"./phone.js":2}]},{},[3]);