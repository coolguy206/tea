{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","url","window","location","href","click","e","id","attr","hide","show","getJSON","result","each","i","val","name","console","log","option","abbreviation","append","emailIsValid","email","test","preventDefault","ac","thisForm","closest","find","fname","lname","phone","affiliation","how","refer","orgName","orgAddress","orgEIN","states","city","valid","Sailthru","integration","html","dataLayer","push"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B,MAAMC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA5B;AAEAN,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBO,KAArB,CAA2B,UAASC,CAAT,EAAY;AACrC;AACA,QAAIC,EAAE,GAAGT,CAAC,CAAC,IAAD,CAAD,CAAQU,IAAR,CAAa,MAAb,CAAT;AACAV,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBW,IAAhB;AACAX,IAAAA,CAAC,CAACS,EAAD,CAAD,CAAMG,IAAN;AAED,GAND,EAH2B,CAW3B;;AACAZ,EAAAA,CAAC,CAACa,OAAF,CAAU,wHAAV,EAAoI,UAASC,MAAT,EAAiB;AACnJ;AACAd,IAAAA,CAAC,CAACe,IAAF,CAAOD,MAAP,EAAe,UAASE,CAAT,EAAYC,GAAZ,EAAiB;AAC9B;AACA,cAAQA,GAAG,CAACC,IAAZ;AACE,aAAK,gBAAL;AACA,aAAK,gCAAL;AACA,aAAK,MAAL;AACA,aAAK,kBAAL;AACA,aAAK,0BAAL;AACA,aAAK,OAAL;AACA,aAAK,aAAL;AACA,aAAK,gBAAL;AACEC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA;;AACF;AACE,cAAIC,MAAM,6BAAqBJ,GAAG,CAACK,YAAzB,gBAA0CL,GAAG,CAACC,IAA9C,cAAV;AACAlB,UAAAA,CAAC,CAAC,SAAD,CAAD,CAAauB,MAAb,CAAoBF,MAApB;AAbJ;AAgBD,KAlBD;AAmBD,GArBD;;AAuBA,WAASG,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,WAAO,6BAA6BC,IAA7B,CAAkCD,KAAlC,CAAP;AACD;;AAEDzB,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBO,KAAnB,CAAyB,UAASC,CAAT,EAAY;AACnC;AACAA,IAAAA,CAAC,CAACmB,cAAF;AACA,QAAIC,EAAE,GAAG5B,CAAC,CAAC,IAAD,CAAD,CAAQU,IAAR,CAAa,WAAb,CAAT;AACA,QAAImB,QAAQ,GAAG7B,CAAC,CAAC,IAAD,CAAD,CAAQ8B,OAAR,CAAgB,MAAhB,CAAf,CAJmC,CAKnC;;AACA,QAAIL,KAAK,GAAGzB,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,0BAAjB,EAA6Cd,GAA7C,EAAZ;AACA,QAAIe,KAAK,GAAGhC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,0BAAjB,EAA6Cd,GAA7C,EAAZ;AACA,QAAIgB,KAAK,GAAGjC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,0BAAjB,EAA6Cd,GAA7C,EAAZ;AACA,QAAIiB,KAAK,GAAGlC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,0BAAjB,EAA6Cd,GAA7C,EAAZ;AACA,QAAIkB,WAAW,GAAGnC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,gCAAjB,EAAmDd,GAAnD,EAAlB;AACA,QAAImB,GAAG,GAAGpC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,wBAAjB,EAA2Cd,GAA3C,EAAV;AACA,QAAIoB,KAAK,GAAGrC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,+BAAjB,EAAkDd,GAAlD,EAAZ,CAZmC,CAcnC;;AACA,QAAIqB,OAAO,GAAGtC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,wBAAjB,EAA2Cd,GAA3C,EAAd;AACA,QAAIsB,UAAU,GAAGvC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,2BAAjB,EAA8Cd,GAA9C,EAAjB;AACA,QAAIuB,MAAM,GAAGxC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,uBAAjB,EAA0Cd,GAA1C,EAAb;AACA,QAAIwB,MAAM,GAAGzC,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,SAAjB,EAA4Bd,GAA5B,EAAb;AACA,QAAIyB,IAAI,GAAG1C,CAAC,CAAC6B,QAAD,CAAD,CAAYE,IAAZ,CAAiB,wBAAjB,EAA2Cd,GAA3C,EAAX;AAEA,QAAI0B,KAAK,GAAGnB,YAAY,CAACC,KAAD,CAAxB,CArBmC,CAsBnC;;AAEA,QAAIkB,KAAK,IAAIX,KAAK,KAAK,EAAnB,IAAyBC,KAAK,KAAK,EAAnC,IAAyCK,OAAO,KAAK,EAArD,IAA2DC,UAAU,KAAK,EAA1E,IAAgFG,IAAI,KAAK,EAAzF,IAA+FD,MAAM,KAAK,eAA9G,EAA+H;AAC7H;AACA;AAEA,UAAIb,EAAE,IAAI,qBAAN,IAA+BY,MAAM,KAAK,EAA9C,EAAkD;AAEhDI,QAAAA,QAAQ,CAACC,WAAT,CAAqB,YAArB,EAAmC;AACjC,gBAAMpB,KAD2B;AAEjC,mBAASA,KAFwB;AAGjC,mBAAS;AACP,mCAAuB,CADhB,CAEP;;AAFO,WAHwB;AAOjC,kBAAQ;AACN,kCAAsBG,EADhB;AAEN,qDAAyCU,OAFnC;AAGN,wDAA4CC,UAHtC;AAIN,qDAAyCG,IAJnC;AAKN,sDAA0CD,MALpC;AAMN,oDAAwCD,MANlC;AAON,4DAAgDL,WAP1C;AAQN,8CAAkCH,KAR5B;AASN,6CAAiCC,KAT3B;AAUN,yCAA6BC,KAVvB;AAWN,uEAA2DE;AAXrD,WAPyB;AAoBjC,oBAAUR,EApBuB;AAqBjC,uBAAa,qBAAW;AACtBT,YAAAA,OAAO,CAACC,GAAR,gEACWK,KADX,sCAEYG,EAFZ,GADsB,CAItB;AACA;;AAEA5B,YAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuCW,IAAvC;AACAX,YAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwB8C,IAAxB,CAA6B,uFAA7B;AACA9C,YAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBY,IAArB;AAEAR,YAAAA,MAAM,CAAC2C,SAAP,CAAiBC,IAAjB,CAAsB;AACpB,uBAAS,UADW;AAEpB,wBAAU7C,GAFU;AAGpB,+BAAiBsB,KAHG;AAIpB,gCAAkBG;AAJE,aAAtB;AAOD;AAvCgC,SAAnC;AA0CD,OA5CD,MA4CO,IAAIA,EAAE,IAAI,sBAAV,EAAkC;AACvC;AACAgB,QAAAA,QAAQ,CAACC,WAAT,CAAqB,YAArB,EAAmC;AACjC,gBAAMpB,KAD2B;AAEjC,mBAASA,KAFwB;AAGjC,mBAAS;AACP,oCAAwB,CADjB,CAEP;;AAFO,WAHwB;AAOjC,kBAAQ;AACN,kCAAsBG,EADhB;AAEN,mDAAuCU,OAFjC;AAGN,mDAAuCI,IAHjC;AAIN,oDAAwCD,MAJlC;AAKN,0DAA8CN,WALxC;AAMN,4CAAgCH,KAN1B;AAON,2CAA+BC,KAPzB;AAQN,uCAA2BC,KARrB;AASN,4CAAgCG;AAT1B,WAPyB;AAmBjC,oBAAUT,EAnBuB;AAoBjC,uBAAa,qBAAW;AACtBT,YAAAA,OAAO,CAACC,GAAR,gEACWK,KADX,sCAEYG,EAFZ,GADsB,CAItB;AACA;;AAEA5B,YAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCW,IAAtC;AACAX,YAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwB8C,IAAxB,CAA6B,oBAA7B;AACA9C,YAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBY,IAArB;AAEAR,YAAAA,MAAM,CAAC2C,SAAP,CAAiBC,IAAjB,CAAsB;AACpB,uBAAS,UADW;AAEpB,wBAAU7C,GAFU;AAGpB,+BAAiBsB,KAHG;AAIpB,gCAAkBG;AAJE,aAAtB;AAOD;AAtCgC,SAAnC;AAyCD,OA3CM,MA2CA;AACL5B,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBY,IAAnB;AACD;AAEF,KA/FD,MA+FO;AACLZ,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBY,IAAnB;AACD;AACF,GA1HD;AA6HD,CApKD","sourcesContent":["$(document).ready(function() {\r\n  const url = window.location.href;\r\n\r\n  $('.main-content a').click(function(e) {\r\n    // e.preventDefault();\r\n    var id = $(this).attr('href');\r\n    $('.forms div').hide();\r\n    $(id).show();\r\n\r\n  });\r\n\r\n  //add the states\r\n  $.getJSON(\"https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_titlecase.json\", function(result) {\r\n    // console.log(result);\r\n    $.each(result, function(i, val) {\r\n      // console.log(val.name);\r\n      switch (val.name) {\r\n        case 'American Samoa':\r\n        case 'Federated States Of Micronesia':\r\n        case 'Guam':\r\n        case 'Marshall Islands':\r\n        case 'Northern Mariana Islands':\r\n        case 'Palau':\r\n        case 'Puerto Rico':\r\n        case 'Virgin Islands':\r\n          console.log('nope');\r\n          break;\r\n        default:\r\n          var option = `<option value=\"${val.abbreviation}\">${val.name}</option>`;\r\n          $('.states').append(option);\r\n      }\r\n\r\n    });\r\n  });\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  $('.forms button').click(function(e) {\r\n    // console.log(e.target);\r\n    e.preventDefault();\r\n    var ac = $(this).attr('data-list');\r\n    var thisForm = $(this).closest('form');\r\n    //user info\r\n    var email = $(thisForm).find('input[name=\"user-email\"]').val();\r\n    var fname = $(thisForm).find('input[name=\"user-fname\"]').val();\r\n    var lname = $(thisForm).find('input[name=\"user-lname\"]').val();\r\n    var phone = $(thisForm).find('input[name=\"user-phone\"]').val();\r\n    var affiliation = $(thisForm).find('input[name=\"user-affiliation\"]').val();\r\n    var how = $(thisForm).find('input[name=\"user-how\"]').val();\r\n    var refer = $(thisForm).find('input[name=\"user-refer-name\"]').val();\r\n\r\n    //org info\r\n    var orgName = $(thisForm).find('input[name=\"org-name\"]').val();\r\n    var orgAddress = $(thisForm).find('input[name=\"org-address\"]').val();\r\n    var orgEIN = $(thisForm).find('input[name=\"org-ein\"]').val();\r\n    var states = $(thisForm).find('.states').val();\r\n    var city = $(thisForm).find('input[name=\"org-city\"]').val();\r\n\r\n    var valid = emailIsValid(email);\r\n    // console.log('valid:' + valid);\r\n\r\n    if (valid && fname !== \"\" && lname !== \"\" && orgName !== \"\" && orgAddress !== \"\" && city !== \"\" && states !== \"please choose\") {\r\n      // $('.signup .form').hide();\r\n      // $('.signup .sending').show();\r\n\r\n      if (ac == \"school days sign up\" && orgEIN !== \"\") {\r\n\r\n        Sailthru.integration(\"userSignUp\", {\r\n          \"id\": email,\r\n          \"email\": email,\r\n          \"lists\": {\r\n            \"school days sign up\": 1\r\n            // \"test list\": 1\r\n          },\r\n          \"vars\": {\r\n            \"ACQUISITION_SOURCE\": ac,\r\n            \"school days sign up Organization name\": orgName,\r\n            \"school days sign up Organization address\": orgAddress,\r\n            \"school days sign up Organization city\": city,\r\n            \"school days sign up Organization state\": states,\r\n            \"school days sign up Organization EIN\": orgEIN,\r\n            \"school days sign up organization affiliation\": affiliation,\r\n            \"school days sign up First Name\": fname,\r\n            \"school days sign up Last Name\": lname,\r\n            \"school days sign up Phone\": phone,\r\n            \"School days sign up How did you hear about this program\": how,\r\n          },\r\n          \"source\": ac,\r\n          \"onSuccess\": function() {\r\n            console.log(`successfully sent to sailthru!\r\n              email: ${email},\r\n              source: ${ac}`)\r\n            // $('.signup .the-form').hide();\r\n            // $('.signup .thanks').show();\r\n\r\n            $('.forms .error, .forms .join-today').hide();\r\n            $('.forms .success h2').html('Successfully sent! <br> Look out for an email from <br> The School Days team shortly.');\r\n            $('.forms .success').show();\r\n\r\n            window.dataLayer.push({\r\n              'event': 'sailthru',\r\n              'theUrl': url,\r\n              'sailthruEmail': email,\r\n              'sailthruSource': ac\r\n            })\r\n\r\n          }\r\n        });\r\n\r\n      } else if (ac == \"school days referral\") {\r\n        // console.log(`state: ${states}`)\r\n        Sailthru.integration(\"userSignUp\", {\r\n          \"id\": email,\r\n          \"email\": email,\r\n          \"lists\": {\r\n            \"school days referral\": 1\r\n            // \"test list\": 1\r\n          },\r\n          \"vars\": {\r\n            \"ACQUISITION_SOURCE\": ac,\r\n            \"school days refer Organization name\": orgName,\r\n            \"school days refer Organization city\": city,\r\n            \"school days refer Organization state\": states,\r\n            \"school days refer Organization affiliation\": affiliation,\r\n            \"school days refer First Name\": fname,\r\n            \"school days refer Last Name\": lname,\r\n            \"school days refer Phone\": phone,\r\n            \"school days refer Refer Name\": refer\r\n\r\n          },\r\n          \"source\": ac,\r\n          \"onSuccess\": function() {\r\n            console.log(`successfully sent to sailthru!\r\n              email: ${email},\r\n              source: ${ac}`)\r\n            // $('.signup .the-form').hide();\r\n            // $('.signup .thanks').show();\r\n\r\n            $('.forms .error, .forms .refer-org').hide();\r\n            $('.forms .success h2').html('Successfully sent!');\r\n            $('.forms .success').show();\r\n\r\n            window.dataLayer.push({\r\n              'event': 'sailthru',\r\n              'theUrl': url,\r\n              'sailthruEmail': email,\r\n              'sailthruSource': ac\r\n            })\r\n\r\n          }\r\n        });\r\n\r\n      } else {\r\n        $('.forms .error').show();\r\n      }\r\n\r\n    } else {\r\n      $('.forms .error').show();\r\n    }\r\n  });\r\n\r\n\r\n});"],"file":"scripts.js"}