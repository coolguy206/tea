{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","url","window","location","href","click","e","id","attr","hide","show","emailIsValid","email","test","preventDefault","ac","thisForm","closest","find","val","fname","lname","phone","affiliation","how","refer","orgName","orgAddress","orgEIN","states","city","valid","Sailthru","integration","console","log","html","dataLayer","push"],"mappings":"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","sourcesContent":["$(document).ready(function() {\r\n  const url = window.location.href;\r\n\r\n  $('.main-content a').click(function(e) {\r\n    // e.preventDefault();\r\n    var id = $(this).attr('href');\r\n    $('.forms div').hide();\r\n    $(id).show();\r\n\r\n  });\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  $('.forms button').click(function(e) {\r\n    // console.log(e.target);\r\n    e.preventDefault();\r\n    var ac = $(this).attr('data-list');\r\n    var thisForm = $(this).closest('form');\r\n    //user info\r\n    var email = $(thisForm).find('input[name=\"user-email\"]').val();\r\n    var fname = $(thisForm).find('input[name=\"user-fname\"]').val();\r\n    var lname = $(thisForm).find('input[name=\"user-lname\"]').val();\r\n    var phone = $(thisForm).find('input[name=\"user-phone\"]').val();\r\n    var affiliation = $(thisForm).find('input[name=\"user-affiliation\"]').val();\r\n    var how = $(thisForm).find('input[name=\"user-how\"]').val();\r\n    var refer = $(thisForm).find('input[name=\"user-refer-name\"]').val();\r\n\r\n    //org info\r\n    var orgName = $(thisForm).find('input[name=\"org-name\"]').val();\r\n    var orgAddress = $(thisForm).find('input[name=\"org-address\"]').val();\r\n    var orgEIN = $(thisForm).find('input[name=\"org-ein\"]').val();\r\n    var states = $(thisForm).find('.states').val();\r\n    var city = $(thisForm).find('input[name=\"org-city\"]').val();\r\n\r\n    var valid = emailIsValid(email);\r\n    // console.log('valid:' + valid);\r\n\r\n    if (valid && fname !== \"\" && lname !== \"\" && orgName !== \"\" && orgAddress !== \"\" && city !== \"\" && states !== \"please choose\") {\r\n      // $('.signup .form').hide();\r\n      // $('.signup .sending').show();\r\n\r\n      if (ac == \"school days sign up\" && orgEIN !== \"\") {\r\n\r\n        Sailthru.integration(\"userSignUp\", {\r\n          \"id\": email,\r\n          \"email\": email,\r\n          \"lists\": {\r\n            \"school days sign up\": 1\r\n            // \"test list\": 1\r\n          },\r\n          \"vars\": {\r\n            \"ACQUISITION_SOURCE\": ac,\r\n            \"school days sign up Organization name\": orgName,\r\n            \"school days sign up Organization address\": orgAddress,\r\n            \"school days sign up Organization city\": city,\r\n            \"school days sign up Organization state\": states,\r\n            \"school days sign up Organization EIN\": orgEIN,\r\n            \"school days sign up organization affiliation\": affiliation,\r\n            \"school days sign up First Name\": fname,\r\n            \"school days sign up Last Name\": lname,\r\n            \"school days sign up Phone\": phone,\r\n            \"School days sign up How did you hear about this program\": how,\r\n          },\r\n          \"source\": ac,\r\n          \"onSuccess\": function() {\r\n            console.log(`successfully sent to sailthru! email: ${email} source: ${ac}`);\r\n            // $('.signup .the-form').hide();\r\n            // $('.signup .thanks').show();\r\n\r\n            $('.forms .error, .forms .join-today').hide();\r\n            $('.forms .success h2').html('Successfully sent! <br> Look out for an email from <br> The School Days team shortly.');\r\n            $('.forms .success').show();\r\n\r\n            window.dataLayer.push({\r\n              'event': 'sailthru',\r\n              'theUrl': url,\r\n              'sailthruEmail': email,\r\n              'sailthruSource': ac\r\n            });\r\n\r\n          }\r\n        });\r\n\r\n      } else if (ac == \"school days referral\") {\r\n        // console.log(`state: ${states}`)\r\n        Sailthru.integration(\"userSignUp\", {\r\n          \"id\": email,\r\n          \"email\": email,\r\n          \"lists\": {\r\n            \"school days referral\": 1\r\n            // \"test list\": 1\r\n          },\r\n          \"vars\": {\r\n            \"ACQUISITION_SOURCE\": ac,\r\n            \"school days refer Organization name\": orgName,\r\n            \"school days refer Organization city\": city,\r\n            \"school days refer Organization state\": states,\r\n            \"school days refer Organization affiliation\": affiliation,\r\n            \"school days refer First Name\": fname,\r\n            \"school days refer Last Name\": lname,\r\n            \"school days refer Phone\": phone,\r\n            \"school days refer Refer Name\": refer\r\n\r\n          },\r\n          \"source\": ac,\r\n          \"onSuccess\": function() {\r\n            console.log(`successfully sent to sailthru! email: ${email} source: ${ac}`);\r\n            // $('.signup .the-form').hide();\r\n            // $('.signup .thanks').show();\r\n\r\n            $('.forms .error, .forms .refer-org').hide();\r\n            $('.forms .success h2').html('Successfully sent!');\r\n            $('.forms .success').show();\r\n\r\n            window.dataLayer.push({\r\n              'event': 'sailthru',\r\n              'theUrl': url,\r\n              'sailthruEmail': email,\r\n              'sailthruSource': ac\r\n            })\r\n\r\n          }\r\n        });\r\n\r\n      } else {\r\n        $('.forms .error').show();\r\n      }\r\n\r\n    } else {\r\n      $('.forms .error').show();\r\n    }\r\n\r\n  });\r\n\r\n});"],"file":"scripts.js"}