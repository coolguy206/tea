
<link rel="stylesheet" type="text/css" href="http://s.tea-global.net/mas_assets/theme/tea_collection/css/fonts.css"/>


{literal}
<style>
.signup {
	overflow: hidden;
    text-align: center;
    font-family: 'Tisa Sans', Arial, Helvetica, sans-serif;
    background: url('mas_assets/theme/tea_collection/images/email-sign-up/17SS-emailSignup-10off_01.png')  center top no-repeat,
    			url('mas_assets/theme/tea_collection/images/email-sign-up/17SS-emailSignup-10off_13.png') center bottom no-repeat, 
    			url('mas_assets/theme/tea_collection/images/email-sign-up/17SS-emailSignup-10off_04.png') right  repeat-y, 
    			url('mas_assets/theme/tea_collection/images/email-sign-up/17SS-emailSignup-10off_05.png') left repeat-y, 
    			#fff;
    width:519px;
    margin: auto;
    /*padding: 10px;*/
    box-sizing:border-box;
}

.signup h2 {
    line-height: 35px;
    font-family: Tisa Sans Medium;
    /*font-size: 26px;*/
    letter-spacing:1px;
    margin:5px 0 0 0;
}

.signup h2 span:first-of-type {
	font-size:35px;
}

.signup h2 span:last-of-type {
	text-transform: uppercase;
	font-size:22px;
}

.signup p {
	line-height:24px;
	color:#58595b;
	margin:10px;
	padding:0;
}

.orange {
	color:#f66c50;
}

.green {
	color:#027b84 !important;
}

.dots {
	letter-spacing:1px;
	font-size:24px;
}

.signup form {
	margin-bottom: 52px;
}

.signup input {
	display:block;
	margin: 20px auto;
}

.signup input[type=text] {
	width:72%;
	padding:10px;
	border:1px solid lightgrey;
	box-sizing:border-box;
	border-radius:0 !important;
}

.signup input[type=submit] {
	width: 22%;
    padding: 10px;
    border: 2px solid #f66c50;
    box-sizing: border-box;
    text-transform: uppercase;
    background: none;
    color: #f66c50;
    font-weight: bold
    border-radius:0 !important;
}

.signup input[type=submit]:hover {
	background:#f66c50;
	cursor:pointer;
	color:#fff;
}

#close-icon {
	display:block;
	text-align:right;
	padding-right:30px;
	position:relative;
	top:20px;
}

#close-icon:hover {
	cursor:pointer;
}

.modalCloseImg {display: none!important;}

div.store-box {
	background: transparent !important;
}

div.store-box div.store-box-content {
	border: none !important;
	background: transparent !important;
	padding: 0;
	width: 519px;
	margin: auto;
}

#errors {
	font-family: "Tisa Sans Medium", Arial;
    color: #990000;
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
	letter-spacing: 1px;
	display:block;
}

#simplemodal-container {
	top: 30% !important;
	left: 30% !important;
}

@media screen and (max-width:768px){
	#simplemodal-container {
		top: 0 !important;
		left: 0 !important;
		width: 100% !important;
		height: 100% !important;
	}

	div.store-box div.store-box-content, .signup {
		width: 100%;
	}

	.signup input[type=submit] {
		width: 30%;
	}

	#tea-promo-subscribe {
		position:absolute;
		top:0;
		z-index:9999;
		width:100%;
		min-height:100%;
	}
}

</style>
{/literal}

<div class="signup">
	<!-- <img src="images/17SS-emailSignup-10off_10.png"> -->
	<!-- <img src="http://www.teacollection.com/mas_assets/theme/tea_collection/images/static/17SS_SITE_EmailSignup_D_10off_Lightbox.jpg" usemap="#popup-links" /> -->

	<div id="close-icon">
		<img src="http://www.teacollection.com/mas_assets/theme/tea_collection/images/static/fancybox-close.png"/>
	</div>
	<h2><span class="orange">10% off</span><br/> <span class="green">your first order</span></h2>
	<p class="green dots">.........</p>
	<p>Shop the latest globally-inspired styles, read exclusive <br/>
		travel stories &amp; get first alerts about sales.
	</p>
	
	<form id="myform1" name="myform" action="https://newsletter.teacollection.com/pub/rf" method="post">
        <input type="hidden" name="_ri_" value="X0Gzc2X%3DYQpglLjHJlYQGithdHzbkYt6wrJJmipyTb5zaIlXuXjazbOVwjpnpgHlpgneHmgJoXX0Gzc2X%3DYQpglLjHJlYQGr8H8PzeToBSW0alzcier1k30zezgwWl52DO"/>
        <input type="hidden" name="ACQUISITION_SOURCE" value="upshotLBdesktop" />
        <input type="hidden" name="EMAIL_PERMISSION_STATUS_" value="I" />
        <input type="hidden" name="activity" value="submit" />
        <input type="hidden" name="COLD_STORAGE" value="N" />
		<span id="errors"></span>
        <input id="emailField" name="email_address_" onFocus="prefillClear(this);" onBlur="prefillClear(this);" type="text" placeholder="Email Address" />
        <input type="submit" value="sign me up" id="submitEmail"/>
        
</form>
</div>


{literal}
<script>
	jQuery(document).ready(function() {
	
		//on press enter
		jQuery('#myform1').on('keyup keypress', function(e) {
		  var keyCode = e.keyCode || e.which;
		  if (keyCode === 13) { 
			e.preventDefault();
			ValidateEmail(document.myform.email_address_);
			//return false;
		  }
		});
		
	});

	//if mobile
	if(jQuery(window).width()<768){
		//remove the <br/> after "exclusive"
		var strArr = $('.signup p:last-of-type').html().split(' ');
		$(strArr).each(function(i,val){
			//console.log(val);
			if(val == '<br>'){
				strArr.splice(i,1);
			}
		});
		//add the <br/> after "read" for mobile
		$(strArr).each(function(i,val){
			//console.log(val);
			if(val == 'read'){
				strArr.splice(i+1,0,'<br>');
			}
		});
		var newStr = strArr.join(' ');
		$('.signup p:last-of-type').html(newStr);
	}

	//close the signup form
	jQuery('#close-icon').click(function(){
		if($(window).width()>768){
			//console.log('close desktop');
			divinity.box.close();
		} else if($(window).width()<768){
			//console.log('close mobile');
			divinity.box.close();
			$('#tea-promo-subscribe').remove();
		}
	});

	//on submit form
	jQuery('#submitEmail').click(function(e){
		//console.log(e);
		e.preventDefault();
		ValidateEmail(document.myform.email_address_);
	});
	
 	// form input prefill clear on focus, and reset on blur (if empty)
	function prefillClear(field) {
		if (field.defaultValue==field.value) { field.value = ''; }
		else if (field.value == '') { field.value = field.defaultValue; }
	}

	//validate
    function ValidateEmail(inputText)  {
		var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;  
		if(inputText.value.match(mailformat))  {  
			document.myform.email_address_.focus();  
			myform.submit();			
			}  
		else  {  
			//alert("You have entered an invalid email address!");
			document.getElementById('errors').innerHTML='Please Enter A Valid Email Address';
			document.myform.email_address_.focus();  
			return false;  
		}  
    }  

</script>
{/literal}
