{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","emailIsValid","email","test","getJSON","result","each","i","val","name","console","log","option","abbreviation","append","on","e","value","attr","fadeOut","fadeIn","preventDefault","first","last","address1","address2","city","zip","state","states","valid","y","position","top","window","scrollTo","Sailthru","integration","show","focus"],"mappings":"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","sourcesContent":["$(document).ready(function() {\n    function emailIsValid(email) {\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\n    }\n\n    //add states\n    $.getJSON(\"https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_titlecase.json\", function(result) {\n        // console.log(result);\n        $.each(result, function(i, val) {\n            // console.log(val.name);\n            switch (val.name) {\n                case 'American Samoa':\n                case 'Federated States Of Micronesia':\n                case 'Guam':\n                case 'Marshall Islands':\n                case 'Northern Mariana Islands':\n                case 'Palau':\n                case 'Puerto Rico':\n                case 'Virgin Islands':\n                    console.log('nope');\n                    break;\n                default:\n                    var option = '<option value=\"' + val.abbreviation + '\">' + val.name + '</option>';\n                    $('#states').append(option);\n            }\n\n        });\n    });\n\n    $('.question').on('click', 'button', function(e) {\n        var value = $(this).attr('data-answer');\n\n        if (value == 'yes') {\n            $('.question').fadeOut(function() {\n                $('.yes').fadeIn();\n            })\n        } else {\n            $('.question').fadeOut(function() {\n                $('.no').fadeIn();\n            })\n        }\n    });\n\n    $('.yes').on('click', 'button', function(e) {\n        e.preventDefault();\n\n        var first = $('.yes .first').val();\n        var last = $('.yes .last').val();\n        var email = $('.yes .email').val();\n        var address1 = $('.yes .address1').val();\n        var address2 = $('.yes .address2').val();\n        var city = $('.yes .city').val();\n        var zip = $('.yes .zip').val();\n        var state = $('.yes #states').val();\n\n        console.log(first, last, email, address1, address2, city, zip, states);\n\n        var valid = emailIsValid(email);\n\n\n        if (valid) {\n            $('.yes').fadeOut(function() {\n                $('.sending').fadeIn();\n            });\n            var y = $('.sending').position().top;\n            window.scrollTo(0, y); \n\n            Sailthru.integration(\"userSignUp\", {\n                \"id\": email,\n                \"email\": email,\n                \"lists\": {\n                    \"test\": 1\n                },\n                \"source\": 'CCPA',\n                \"vars\": {\n                    \"First Name\": first,\n                    \"Last Name\": last,\n                    \"Address 1\": address1,\n                    \"Address 2\": address2,\n                    \"City\": city,\n                    \"State\": state,\n                    \"Zip\": zip,\n                    \"ACQUISITION_SOURCE\": 'CCPA'\n                },\n                \"onSuccess\": function() {\n                    console.log('sailthru success');\n                    $('.sending').fadeOut(function() {\n                        $('.success').fadeIn();\n                    });\n\n                },\n                \"onError\": function() {\n                    console.log('sailthru error');\n                    $('.sending').fadeOut(function() {\n                        $('.error').fadeIn();\n                    });\n                }\n\n            });\n        } else {\n            $('.error-message').show();\n            var y = $('.error-message').position().top;\n            window.scrollTo(0, y); \n            $('.email').focus();\n        }\n\n\n    });\n\n\n});"],"file":"scripts.js"}