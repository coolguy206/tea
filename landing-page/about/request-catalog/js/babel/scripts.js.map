{"version":3,"sources":["../scripts.js"],"names":["jQuery","document","ready","change","cb","prop","val","$","getJSON","result","each","i","name","console","log","option","abbreviation","append","userSrc","value","key","submit","e","preventDefault","hide","show","fname","lname","address1","address2","city","state","zip","email","subscribe","howHear","remove","states","err","closest","before","Sailthru","integration","setTimeout","fadeOut","fadeIn"],"mappings":"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","sourcesContent":["jQuery(document).ready(function() {\r\n  jQuery('#optin').change(function() {\r\n    cb = jQuery(this);\r\n    if (cb.prop('checked')) {\r\n      jQuery(this).val('yes');\r\n    } else {\r\n      jQuery(this).val('no');\r\n    }\r\n  });\r\n\r\n  //add the states\r\n  $.getJSON(\"https://gist.githubusercontent.com/mshafrir/2646763/raw/8b0dbb93521f5d6889502305335104218454c2bf/states_titlecase.json\", function(result) {\r\n    // console.log(result);\r\n    $.each(result, function(i, val) {\r\n      // console.log(val.name);\r\n      switch (val.name) {\r\n        case 'American Samoa':\r\n        case 'Federated States Of Micronesia':\r\n        case 'Guam':\r\n        case 'Marshall Islands':\r\n        case 'Northern Mariana Islands':\r\n        case 'Palau':\r\n        case 'Puerto Rico':\r\n        case 'Virgin Islands':\r\n          console.log('nope');\r\n          break;\r\n        default:\r\n          var option = '<option value=\"' + val.abbreviation + '\">' + val.name + '</option>';\r\n          $('#states').append(option);\r\n      }\r\n\r\n    });\r\n  });\r\n\r\n  var userSrc = [{\r\n      value: 'friend',\r\n      key: 'friend'\r\n    },\r\n    {\r\n      value: 'gift',\r\n      key: 'gift'\r\n    },\r\n    {\r\n      value: 'social media',\r\n      key: 'social media'\r\n    },\r\n    {\r\n      value: 'online ad',\r\n      key: 'online ad'\r\n    },\r\n    {\r\n      value: 'magazine/online article/blog',\r\n      key: 'magazine/online article/blog'\r\n    },\r\n    {\r\n      value: 'search engine',\r\n      key: 'search'\r\n    },\r\n    {\r\n      value: 'children\\'s boutique',\r\n      key: 'children boutique'\r\n    },\r\n    {\r\n      value: 'department store',\r\n      key: 'department store'\r\n    },\r\n    {\r\n      value: 'Amazon',\r\n      key: 'amazon'\r\n    },\r\n    {\r\n      value: 'Zulily',\r\n      key: 'zulily'\r\n    },\r\n    {\r\n      value: 'registry website',\r\n      key: 'registry website'\r\n    },\r\n    {\r\n      value: 'other',\r\n      key: 'other'\r\n    }\r\n  ];\r\n\r\n  //add the user source\r\n  $.each(userSrc, function(i, val) {\r\n    var option = '<option value=\"' + val.key + '\">' + val.value + '</option>';\r\n    $('#user-src').append(option);\r\n  });\r\n\r\n  //submit the form\r\n  $('.responsys').submit(function(e) {\r\n    e.preventDefault();\r\n\r\n    $('form.responsys input[type=\"submit\"]').hide();\r\n    $('form.responsys .sending').show();\r\n\r\n    var fname = $('form.responsys input[name=\"first_name\"]').val();\r\n    var lname = $('form.responsys input[name=\"last_name\"]').val();\r\n    var address1 = $('form.responsys input[name=\"POSTAL_STREET_1_\"]').val();\r\n    var address2 = $('form.responsys input[name=\"POSTAL_STREET_2_\"]').val();\r\n    var city = $('form.responsys input[name=\"CITY_\"]').val();\r\n    var state = $('#states').val();\r\n    var zip = $('form.responsys input[name=\"POSTAL_CODE_\"]').val();\r\n    var email = $('form.responsys input[name=\"EMAIL_ADDRESS_\"]').val();\r\n    var subscribe = $('#optin').val();\r\n    var howHear = $('#user-src').val();\r\n    if (howHear == \"Please Select\") {\r\n      howHear = \"\";\r\n    }\r\n    //remove all errors\r\n    $('.responsys .the-error').remove();\r\n\r\n    //make sure a state is selected\r\n    var states = $('#states').val();\r\n    if (states == 'Please Select*') {\r\n      var err = '<div class=\"the-error\"><label></label><span class=\"error\">Please Select a State</span></div>';\r\n      $('#states').closest('div').before(err);\r\n    } else {\r\n\r\n      Sailthru.integration(\"userSignUp\", {\r\n        \"id\": email,\r\n        \"email\": email,\r\n        \"lists\": {\r\n          \"MASTER_CONTACTS_LIST\": 1\r\n        },\r\n        \"vars\": {\r\n          \"CATALOG_REQUEST\": \"yes\",\r\n          \"first_name\": fname,\r\n          \"last_name\": lname,\r\n          \"Address 1\": address1,\r\n          \"Address 2\": address2,\r\n          \"City\": city,\r\n          \"State\": state,\r\n          \"Zip\": zip,\r\n          \"Subscribe\": subscribe,\r\n          \"How Did You Hear About Tea?\": howHear\r\n        },\r\n        \"onSuccess\": function() {\r\n          $('form.responsys .sending').hide();\r\n          $('form.responsys .success').show();\r\n\r\n          setTimeout(function() {\r\n            $('form.responsys .success').fadeOut(function() {\r\n              $('form.responsys input[type=\"submit\"]').fadeIn();\r\n            });\r\n          }, 2000);\r\n        },\r\n\r\n      });\r\n    }\r\n  });\r\n\r\n  //#states change\r\n  $('#states').change(function(e) {\r\n    var states = $('#states').val();\r\n    if (states !== 'Please Select*') {\r\n      //remove all errors\r\n      $('.responsys .the-error').remove();\r\n    }\r\n  });\r\n});"],"file":"scripts.js"}