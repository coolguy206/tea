<div class="catalog-wrap">
  <h1>Unsubscribe from our Print Catalog</h1>

  <p>Please note that you might get one or two additional catalogs after unsubscribing as it takes time for your request
    to take effect!</p>

  <p>Please fill in the fields below exactly as you see them on your catalog:</p>

  <p class="italic">* Required Fields</p>

  <h2 class="success">successfully unsubscribed!!!</h2>

  <p class="processing">Processing...</p>

  <form class="sailthru">
    <div>
      
      <label>email*</label>
      <span class="error">please enter a valid email</span>
      <input id="email" type="text" name="email" value="" placeholder="Email*" required>
    </div>

    <div>
      <label>first name*</label>
      <input type="text" name="FIRST_NAME" placeholder="First Name*" required>
    </div>

    <div>
      <label>last name*</label>
      <input type="text" name="LAST_NAME" placeholder="Last Name*" required>
    </div>

    <div>
      <label>address 1*</label>
      <input type="text" name="POSTAL_STREET_1_" placeholder="Address 1*" required>
    </div>

    <div>
      <label>address 2</label>
      <input type="text" name="POSTAL_STREET_2_" placeholder="Address 2">
    </div>

    <div>
      <label>city*</label>
      <input type="text" name="CITY_" placeholder="City*" required>
    </div>

    <div>
      <label>State/Province*</label>
      <select name="STATE_" required id="states">
        <option>Please Select*</option>

        <option value="AL">Alabama</option><option value="AK">Alaska</option>undefined<option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">District Of Columbia</option>undefined<option value="FL">Florida</option><option value="GA">Georgia</option>undefined<option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option>undefined<option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option>undefined<option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option>undefined<option value="PA">Pennsylvania</option>undefined<option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option>undefined<option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option>

      </select>
    </div>

    <div>
      <label>ZIP/Postal Code*</label>
      <input type="text" name="POSTAL_CODE_" placeholder="ZIP/Postal Code*" required>
    </div>

    <div>
      <input type="submit" value="Submit">
    </div>

  </form>
</div>

{literal}
<style>
	.catalog-wrap h1{margin:0 0 2rem}.catalog-wrap p{font-size:1rem;margin:0 0 1rem}.catalog-wrap p.italic{font-family:SouvenirStd-LightItalic}.catalog-wrap p.processing{display:none}.catalog-wrap .success{text-transform:uppercase;padding:1rem;color:#39B54A;display:none}.catalog-wrap .sailthru div{display:flex;flex-wrap:wrap;margin:0 0 1rem}.catalog-wrap .sailthru div span.error{display:none;color:red;text-transform:uppercase;font-family:gilroy-bold;flex-basis:100%}.catalog-wrap .sailthru div input,.catalog-wrap .sailthru div label,.catalog-wrap .sailthru div select{display:inline-block;margin:0 1rem 1rem 0;font-family:gilroy-regular}.catalog-wrap .sailthru div label{font-size:1rem;text-transform:capitalize;width:20%;font-family:gilroy-regular;flex-basis:100%}@media screen and (max-width:1024px){.catalog-wrap .sailthru div label{width:30%}}@media screen and (max-width:414px){.catalog-wrap .sailthru div label{width:100%}}.catalog-wrap .sailthru div input,.catalog-wrap .sailthru div select{padding:.75rem 1.125rem;width:28%;margin:0;box-sizing:border-box;background:#EDEBEC}@media screen and (max-width:1024px){.catalog-wrap .sailthru div input,.catalog-wrap .sailthru div select{width:53%;padding:1rem 2rem}}@media screen and (max-width:414px){.catalog-wrap .sailthru div input,.catalog-wrap .sailthru div select{width:100%}}.catalog-wrap .sailthru div input[type="submit"],.catalog-wrap .sailthru div select[type="submit"]{width:auto}.catalog-wrap .sailthru div input[type="submit"],.catalog-wrap .sailthru div select[type="submit"]{text-transform:uppercase;border:2px solid #47363D;background:#fff;color:#47363D;font-family:gilroy-bold;padding:.75rem 1.25rem}@media screen and (max-width:1024px){.catalog-wrap .sailthru div input[type="submit"],.catalog-wrap .sailthru div select[type="submit"]{padding:1rem 2rem}}.catalog-wrap .sailthru div input[type="submit"]:hover,.catalog-wrap .sailthru div select[type="submit"]:hover{background:#75686D;color:#fff}.catalog-wrap .sailthru div input[type="submit"]:active,.catalog-wrap .sailthru div select[type="submit"]:active{background:#47363D}.catalog-wrap .sailthru div .error{color:#D94D52;font-size:1rem}@media screen and (max-width:737px){.catalog-wrap .sailthru div .error{display:block}}.catalog-wrap .sailthru div select option{text-transform:capitalize}
</style>
<script>
	jQuery(document).ready(function () {

	    const ac = "catalog_optout";

	    function emailIsValid(email) {
	        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
	    }

	    //submit the form
	    $('.sailthru').submit(function (e) {
	        e.preventDefault();

	        //remove all errors
	        $('.sailthru .the-error').remove();

	        //make sure a state is selected
	        var states = $('#states').val();
	        if (states == 'Please Select*') {
	            var err = '<div class="the-error"><label></label><span class="error">Please Select a State</span></div>';
	            $('#states').closest('div').before(err);
	        } else {

	            //vars
	            var companyId = `RAd6JR`;
	            var list = `WspXGk`;
	            var email = $('.sailthru input[name="email"]').val();
	            var fname = $('.sailthru input[name="FIRST_NAME"]').val();
	            var lname = $('.sailthru input[name="LAST_NAME"]').val();
	            var address1 = $('.sailthru input[name="POSTAL_STREET_1_"]').val();
	            var address2 = $('.sailthru input[name="POSTAL_STREET_2_"]').val();
	            var city = $('.sailthru input[name="CITY_"]').val();
	            var state = $('.sailthru select[name="STATE_"]').val();
	            var zip = $('.sailthru input[name="POSTAL_CODE_"]').val();

	            //hide form & show processing
	            $('.sailthru').hide();
	            $('.processing').show();

	            var valid = emailIsValid(email);

	            if (valid) {
	                var theData = {
	                    data: {
	                        type: 'profile',
	                        attributes: {
	                            email: email,
	                            first_name: fname,
	                            last_name: lname,
	                            location: {
	                                address1: address1,
	                                address2: address2,
	                                city: city,
	                                country: "United States",
	                                region: state,
	                                zip: zip
	                            },
	                            properties: {
	                                catalog_optout: 'y'
	                            },
	                        }
	                    }
	                }

	                console.log(theData);
	                theData = JSON.stringify(theData);

	                fetch(`https://a.klaviyo.com/client/profiles/?company_id=${companyId}`, {
	                    method: "POST",
	                    headers: {
	                        revision: '2023-12-15',
	                        'content-type': 'application/json'
	                    },
	                    body: theData,
	                }).then((data) => {
	                    console.log('klaviyo success register');
	                    console.log(data);

	                    $('.catalog-wrap .success').show();
	                    $('.sailthru').show();
	                    $('.processing').hide();
	                    $('span.error').hide();

	                    //clear field
	                    $('.sailthru input[name="FIRST_NAME"]').val('');
	                    $('.sailthru input[name="LAST_NAME"]').val('');
	                    $('.sailthru input[name="POSTAL_STREET_1_"]').val('');
	                    $('.sailthru input[name="POSTAL_STREET_2_"]').val('');
	                    $('.sailthru input[name="CITY_"]').val('');
	                    $('.sailthru input[name="POSTAL_CODE_"]').val('');
	                }).catch((err) => {
	                    console.log(`something went wrong`);
	                    console.log(err);
	                });


	            } else {
	                console.log(`email not valid`);
	                $('.sailthru').show();
	                $('.processing').hide();
	                $('span.error').show();
	                $('input#email').focus();
	            }

	        }
	    });

	    //#states change
	    $('#states').change(function (e) {
	        var states = $('#states').val();
	        if (states !== 'Please Select*') {
	            //remove all errors
	            $('.sailthru .the-error').remove();
	        }
	    });
	});
</script>
{/literal}