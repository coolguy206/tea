{"version":3,"sources":["../scripts.js"],"names":["jQuery","document","ready","ac","$","submit","e","preventDefault","remove","states","val","err","closest","before","date","Date","toJSON","replace","email","fname","lname","address1","address2","city","state","zip","hide","show","Sailthru","integration","console","log","change"],"mappings":"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","sourcesContent":["jQuery(document).ready(function () {\r\n\r\n    const ac = \"catalog_optout\";\r\n\r\n    //submit the form\r\n    $('.sailthru').submit(function (e) {\r\n        e.preventDefault();\r\n\r\n        //remove all errors\r\n        $('.sailthru .the-error').remove();\r\n\r\n        //make sure a state is selected\r\n        var states = $('#states').val();\r\n        if (states == 'Please Select*') {\r\n            var err = '<div class=\"the-error\"><label></label><span class=\"error\">Please Select a State</span></div>';\r\n            $('#states').closest('div').before(err);\r\n        } else {\r\n            //push to sail thru\r\n            // console.log('push to sailthru');\r\n\r\n            //set hidden field\r\n            var date = new Date().toJSON();\r\n            // var date = new Date().toSource();\r\n            // date = date.replace('(new Date(', '').replace('))', '');\r\n            date = date.replace(/:/g, '');\r\n            // console.log(date);\r\n            $('.sailthru input[name=\"email\"]').val(date);\r\n\r\n            //vars\r\n            var email = $('.sailthru input[name=\"email\"]').val() + '@teacollection.com';\r\n            var fname = $('.sailthru input[name=\"FIRST_NAME\"]').val();\r\n            var lname = $('.sailthru input[name=\"LAST_NAME\"]').val();\r\n            var address1 = $('.sailthru input[name=\"POSTAL_STREET_1_\"]').val();\r\n            var address2 = $('.sailthru input[name=\"POSTAL_STREET_2_\"]').val();\r\n            var city = $('.sailthru input[name=\"CITY_\"]').val();\r\n            var state = $('.sailthru select[name=\"STATE_\"]').val();\r\n            var zip = $('.sailthru input[name=\"POSTAL_CODE_\"]').val();\r\n            // console.log(email, fname, lname, address1, address2, city, state, zip);\r\n\r\n            //hide form & show processing\r\n            $('.sailthru').hide();\r\n            $('.processing').show();\r\n\r\n            Sailthru.integration(\"userSignUp\", {\r\n                \"email\": email,\r\n                \"lists\": {\r\n                    \"catalog_optouts\": 1\r\n                },\r\n                \"vars\": {\r\n                    \"ACQUISITION_SOURCE\": ac,\r\n                    \"first_name\": fname,\r\n                    \"last_name\": lname,\r\n                    \"address_1\": address1,\r\n                    \"address_2\": address2,\r\n                    \"city\": city,\r\n                    \"state\": state,\r\n                    \"zip\": zip\r\n                },\r\n                \"source\": ac,\r\n                \"onSuccess\": function (e) {\r\n                    // console.log('success');\r\n                    $('.catalog-wrap .success').show();\r\n                    $('.sailthru').show();\r\n                    $('.processing').hide();\r\n                    // console.log(e);\r\n                },\r\n                \"onError\": function (e) {\r\n                    console.log('error');\r\n                    console.log(e);\r\n                }\r\n            });\r\n\r\n            //clear field\r\n            $('.sailthru input[name=\"FIRST_NAME\"]').val('');\r\n            $('.sailthru input[name=\"LAST_NAME\"]').val('');\r\n            $('.sailthru input[name=\"POSTAL_STREET_1_\"]').val('');\r\n            $('.sailthru input[name=\"POSTAL_STREET_2_\"]').val('');\r\n            $('.sailthru input[name=\"CITY_\"]').val('');\r\n            $('.sailthru input[name=\"POSTAL_CODE_\"]').val('');\r\n        }\r\n    });\r\n\r\n    //#states change\r\n    $('#states').change(function (e) {\r\n        var states = $('#states').val();\r\n        if (states !== 'Please Select*') {\r\n            //remove all errors\r\n            $('.sailthru .the-error').remove();\r\n        }\r\n    });\r\n});"],"file":"scripts.js"}