{"version":3,"file":"make-shoe-brands.js","names":["deptCat","require","brandChange","sizeChartArr","shoeBrands","module","exports","$","remove","dept","cat","elem1","elem2","h2","text","select","ul","ol","each","i","val","shoes","j","shoe","k","brand","li","url","li2","option","append","brandsContainer","brandsDropdown","setTimeout"],"sources":["../make-shoe-brands.js"],"sourcesContent":["var deptCat = require('./set-dept-cat.js');\r\nconst brandChange = require('./change-shoe-brand.js');\r\nconst sizeChartArr = require('./measuring-tips.js');\r\nconst shoeBrands = require('./shoe-brands.js');\r\n\r\nmodule.exports = function() {\r\n  //function to make the brand drop down for shoes or sweaters\r\n\r\n  //remove .brands\r\n  $('.brands, .brands-dropdown').remove();\r\n\r\n  var dept = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n  var cat = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n  //only execute if sweaters or shoes\r\n  if (cat == 'sweater + outerwear' || cat == 'shoes + accessories') {\r\n    //make the element to add to the page\r\n    // var elem = '<div class=\"brands\"></div>';\r\n    var elem1 = '<div class=\"brands\"></div>';\r\n    var elem2 = '<div class=\"brands-dropdown\"></div>';\r\n    var h2;\r\n    var text = '<p>Please select a brand from the menu below to view the size chart. Size chart will open in a new window.</p>'\r\n    var select = $('<select class=\"brand\" onchange=\"window.open(this.value)\"><option>Please select a brand</option></select>');\r\n    var ul = $('<ul class=\"brand desktop\"><li>Please select a brand</li></ul>');\r\n    var ol = $('<ol class=\"mobile\"></ol>');\r\n\r\n    //if shoes + accessories\r\n    if (cat == 'shoes + accessories') {\r\n      h2 = '<h2>' + dept + ' shoes size chart</h2>';\r\n\r\n      //add the <option> and <li>\r\n      //loop through the .sizeChartArr\r\n      $.each(sizeChartArr, function(i, val) {\r\n        //find the matched dept\r\n        if (dept == val.dept) {\r\n          //loop through dept shoes\r\n          $.each(val.shoes, function(j, shoe) {\r\n            //loop through the shoeBrands\r\n            $.each(shoeBrands, function(k, brand) {\r\n              //if match output\r\n              if (shoe == brand.brand) {\r\n                //<ul>\r\n                var li = '<li data-url=\"' + brand.url + '\">' + shoe + '</li>';\r\n                //<ol>\r\n                var li2 = '<li><a href=\"' + brand.url + '\" target=\"_blank\">' + shoe + '</a></li>';\r\n                //<select>\r\n                var option = '<option value=\"' + brand.url + '\">' + shoe + '</option>';\r\n\r\n                // $(ul).append(li);\r\n                // $(ol).append(li2);\r\n                $(select).append(option);\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    //else if sweaters + outerwear\r\n    else if (cat == 'sweater + outerwear') {\r\n      h2 = '<h2>' + dept + ' outerwear size chart (other brands)</h2>';\r\n      //<ul>\r\n      // $(ul).append('<li data-url=\"https://www.patagonia.com/size-boys-girls.html\">patagonia</li>');\r\n\r\n      //<ol>\r\n      // $(ol).append('<li><a href=\"https://www.patagonia.com/size-boys-girls.html\" target=\"_blank\">patagonia</a></li>');\r\n\r\n      //<select>\r\n      $(select).append('<option value=\"https://www.patagonia.com/size-boys-girls.html\">patagonia</option>');\r\n    }\r\n\r\n    // console.log(h2, text, select);\r\n\r\n    //append the elements into .brands\r\n\r\n    var brandsContainer = $(elem1).append(h2, text);\r\n\r\n    //because of safari not allowing window.open()\r\n    //if mobile\r\n    // if ($(window).width() < 737) {\r\n    //   //if safari\r\n    //   if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {\r\n    //     var brandsDropdown = $(elem2).append(ol, ul);\r\n    //   }\r\n    //   //not safari\r\n    //   else {\r\n    //     var brandsDropdown = $(elem2).append(select, ul);\r\n    //   }\r\n    // }\r\n    // //not mobile\r\n    // else {\r\n    // var brandsDropdown = $(elem2).append(select, ul);\r\n    var brandsDropdown = $(elem2).append(select);\r\n    // }\r\n\r\n\r\n    //add to page\r\n    $('.size-chart-table').append(brandsContainer);\r\n    $('.size-chart-table').append(brandsDropdown);\r\n\r\n    //because of onload append shoe size chart to .size-chart-table\r\n    setTimeout(function() {\r\n      $('.size-chart-table').append($('.brands'));\r\n      $('.size-chart-table').append($('.brands-dropdown'));\r\n    }, 1500);\r\n\r\n    //on .brand change\r\n    brandChange();\r\n\r\n  }\r\n\r\n};"],"mappings":"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"}