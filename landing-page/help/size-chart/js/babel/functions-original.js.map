{"version":3,"file":"functions-original.js","names":["sheets","$","document","ready","shoeBrands","brand","url","sizeChartArr","dept","shoes","measure","img","chest","hips","waist","cat","name","leftH2","leftP","rightH2","rightP","rightH2Bottom","rightPBottom","prepend","each","i","val","cats","replace","j","push","theCats","join","attr","deptCat","elem1","elem2","Val","window","width","text","changeCats","arr","catD","append","catM","changeBackground","deptVal","catVal","css","imgSrc","split","remove","adjustMeasureCSS","removeAttr","measureStyles","mHeight","minHeight","padding","backgroundPosition","find","adjustTipsCSS","show","hide","addDataAttr","onloadDeptVal","changeRow","d","c","str","html","deptLi","deptOption","selectDeptCat","urlpara","urlParam","location","href","ul","indexOf","paramArr","param","String","s","changeCopy","isSwim","length","addClass","divs","k","obj","removeClass","changeOrder","children","setTimeout","tables","after","hasClass","brandChange","click","undefined","txt","toLowerCase","open","makeBrands","h2","select","ol","shoe","li","li2","option","brandsContainer","navigator","userAgent","brandsDropdown","change","makeTable","catLiChange","e","preventDefault","base","attribute","makeTd","row","rows","tableElem","values","l","td","content","fraction","theFraction","formattedValue","twoFrac","m","frac","fracArray","n","num","twoFracA","twoFracB","htmlFraction","outputTable","data","rowData","tableLength","tableNum","makeTableHeader","subcat","merges","endColumnIndex","colspan","trs","sheet","sheetVal","sheetArr","sheetDept","sheetCatArr","category","sheetId","hidden","getJSON"],"sources":["../functions-original.js"],"sourcesContent":["var sheets;\r\n\r\n$(document).ready(function() {\r\n  // jQuery('img[usemap]').rwdImageMaps();\r\n\r\n  var shoeBrands = [{\r\n      brand: 'yosi samra',\r\n      url: 'https://www.yosisamra.com/pages/size-chart'\r\n    },\r\n    {\r\n      brand: 'vans',\r\n      url: '/static/vans-shoe-size-guide'\r\n    },\r\n    {\r\n      brand: 'elephantito',\r\n      url: 'https://www.elephantito.com/pages/sizing'\r\n    },\r\n    {\r\n      brand: 'old soles',\r\n      url: 'https://www.oldsoles.com.au/features/kids/'\r\n    },\r\n    {\r\n      brand: 'superga',\r\n      url: 'https://www.superga-usa.com/content.jsp?pageName=SizeGuide'\r\n    },\r\n    {\r\n      brand: 'livie & luca',\r\n      url: 'https://www.livieandluca.com/pages/size-chart'\r\n    },\r\n    {\r\n      brand: 'native',\r\n      url: 'https://www.nativeshoes.com/'\r\n    },\r\n    {\r\n      brand: 'saltwater sandal',\r\n      url: 'https://saltwater-sandals.com/sizing-calculator/'\r\n    },\r\n    {\r\n      brand: 'umi',\r\n      url: 'http://www.umishoes.com/shop/includes/sizeChart.html'\r\n    },\r\n    {\r\n      brand: 'onitsuka tiger',\r\n      url: 'http://www.onitsukatiger.com/us/en-us/size-guide'\r\n    },\r\n    {\r\n      brand: 'asics',\r\n      url: 'http://www.asics.com/us/en-us/shoe-size-guide'\r\n    },\r\n    {\r\n      brand: 'asics tiger',\r\n      url: 'http://www.asicstiger.com/us/en-us/size-guide'\r\n    },\r\n    {\r\n      brand: 'toke',\r\n      url: 'https://www.tokeshoes.com/index.php/conversion/toke-conversion-chart'\r\n    },\r\n    {\r\n      brand: 'havaianas',\r\n      url: '/static/havaianas-shoe-size-guide.html'\r\n    },\r\n    {\r\n      brand: 'cienta',\r\n      url: 'https://cientausa.com/'\r\n    },\r\n  ];\r\n\r\n  var sizeChartArr = [{\r\n      dept: 'girl',\r\n      shoes: ['yosi samra', 'vans', 'elephantito', 'old soles', 'superga', 'livie & luca', 'native', 'saltwater sandal', 'umi', 'onitsuka tiger', 'asics', 'asics tiger', 'toke', 'havaianas', 'cienta'],\r\n      measure: {\r\n        img: 'girls/girls-measuring.png',\r\n        chest: 'Wrap a measuring<br class=\"desktop\"> tape under your child\\'s<br class=\"desktop\"> armpits,<br class=\"mobile\"> making sure it<br class=\"desktop\"> passes across the fullest<br class=\"desktop\"> part of her chest<br class=\"mobile\"> and<br class=\"desktop\"> around her shoulder<br class=\"desktop\"> blades. Her arms should<br class=\"desktop\"> be<br class=\"mobile\"> relaxed naturally<br class=\"desktop\"> against her sides.',\r\n        hips: 'Have your child stand<br class=\"desktop\"> with her legs together,<br class=\"desktop\"> not spread<br class=\"mobile\"> apart. Wrap<br class=\"desktop\"> the measuring tape in a<br class=\"desktop\"> loop around the<br class=\"mobile\"> widest<br class=\"desktop\"> part of her hips.',\r\n        waist: 'Tie a string around your<br class=\"desktop\"> child\\'s middle and have<br class=\"desktop\"> her bend<br class=\"mobile\"> from side to<br class=\"desktop\"> side. The string will settle<br class=\"desktop\"> around her natural<br class=\"mobile\"> waist,<br class=\"desktop\"> above her hipbones. Wrap<br class=\"desktop\"> a measuring tape<br class=\"mobile\"> around<br class=\"desktop\"> this part of her waist.',\r\n      },\r\n      cat: [{\r\n          name: 'dresses',\r\n          img: 'girls/girls-dresses.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her chest<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in finding<br class=\"mobile\"> a dress that fits.',\r\n          rightH2: 'Long Live the Dress',\r\n          rightP: 'Many parents tell us that<br> when their daughter is too<br> tall for her favorite Tea dress,<br> she wears it as a tunic!',\r\n        },\r\n        {\r\n          name: 'tops',\r\n          img: 'girls/girls-tops.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her chest<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in finding<br class=\"mobile\"> a top that fits.',\r\n          rightH2: 'Always in Season',\r\n          rightP: 'Thanks to our easy-to-layer<br> purity tees, she can wear<br> that favorite tank or short<br> sleeve top all year long.<br> (Whew, right?!)',\r\n        },\r\n        {\r\n          name: 'bottoms',\r\n          img: 'girls/girls-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her waist<br class=\"mobile\"> measurement is<br class=\"desktop\"> the<br class=\"mobile\"> most important factor<br> in finding pants that<br class=\"mobile\"> fit<br class=\"desktop\"> comfortably—but<br class=\"mobile\"> her hip<br class=\"desktop\"> measurement<br class=\"mobile\"> can make<br class=\"desktop\"> the<br class=\"mobile\"> difference if you\\'re<br> stuck between sizes.',\r\n          rightH2: 'Easy Does it',\r\n          rightP: 'She\\'s got places to go.<br> Like, right now! That\\'s why<br> our pants are designed to be<br> extra easy for her to pull<br> on and off in a jiffy.',\r\n        },\r\n        {\r\n          name: 'swim',\r\n          img: 'girls/girls-swim.png',\r\n          leftH2: 'Tankinis + Bikinis',\r\n          leftP: 'Since our tops<br class=\"mobile\"> and bottoms<br class=\"desktop\"> are<br class=\"mobile\"> sold separately,<br class=\"mobile\"> you<br class=\"desktop\"> can mix sizes<br class=\"mobile\"> to get the<br class=\"desktop\"> best fit.<br class=\"mobile\"> Measure her chest<br class=\"desktop\"> to<br class=\"mobile\"> decide on a top size;<br> measure her hips for<br class=\"mobile\"> the<br class=\"desktop\"> right bottom.',\r\n          rightH2: 'One-Pieces',\r\n          rightP: 'Chest and hip<br> measurements are<br> what you\\'re looking for<br> to find the right size.<br> When in doubt, go with<br> her chest measurement.',\r\n          rightH2Bottom: 'Rash Guards',\r\n          rightPBottom: 'Her chest measurement<br> is the most important<br> factor in finding a rash<br> guard that fits.',\r\n        },\r\n        {\r\n          name: 'sweater + outerwear',\r\n          img: 'girls/girls-sweaters.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'The only<br class=\"mobile\"> measurement<br class=\"desktop\"> you<br class=\"mobile\"> need to determine<br class=\"mobile\"> her<br class=\"desktop\"> size is the<br class=\"mobile\"> circumference<br class=\"desktop\"> of<br class=\"mobile\"> her chest.',\r\n          rightH2: 'Layer Up!',\r\n          rightP: 'We design our outerwear to<br> fit comfortably over all sorts<br> of layers, so don’t be afraid<br> to add that extra sweater.',\r\n        },\r\n        {\r\n          name: 'pajamas',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n        {\r\n          name: 'shoes + accessories',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n\r\n      ],\r\n    },\r\n\r\n    /*-----------------------------------------------------------------------------------------*/\r\n    {\r\n      dept: 'boy',\r\n      shoes: ['yosi samra', 'vans', 'old soles', 'superga', 'livie & luca', 'native', 'saltwater sandal', 'umi', 'onitsuka tiger', 'asics', 'asics tiger', 'havaianas', 'cienta'],\r\n      measure: {\r\n        img: 'boys/boys-measuring.png',\r\n        chest: 'Wrap a measuring<br class=\"desktop\"> tape under your child\\'s<br class=\"desktop\"> armpits,<br class=\"mobile\"> making sure it<br class=\"desktop\"> passes across the fullest<br class=\"desktop\"> part of his chest<br class=\"mobile\"> and<br class=\"desktop\"> around his shoulder<br class=\"desktop\"> blades. His arms should<br class=\"desktop\"> be<br class=\"mobile\"> relaxed naturally<br class=\"desktop\"> against his sides.',\r\n        hips: 'Have your child stand<br class=\"desktop\"> with his legs together,<br class=\"desktop\"> not spread<br class=\"mobile\"> apart. Wrap<br class=\"desktop\"> the measuring tape in a<br class=\"desktop\"> loop around the<br class=\"mobile\"> widest<br class=\"desktop\"> part of his hips.',\r\n        waist: 'Tie a string around your<br class=\"desktop\"> child\\'s middle and have<br class=\"desktop\"> him bend<br class=\"mobile\"> from side to<br class=\"desktop\"> side. The string will settle<br class=\"desktop\"> around his natural<br class=\"mobile\"> waist,<br class=\"desktop\"> above his hipbones. Wrap<br class=\"desktop\"> a measuring tape<br class=\"mobile\"> around<br class=\"desktop\"> this part of his waist.',\r\n      },\r\n      cat: [{\r\n          name: 'tees + shirts',\r\n          img: 'boys/boys-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'His chest<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in finding<br class=\"mobile\"> a shirt that fits.',\r\n          rightH2: 'Always in Season',\r\n          rightP: 'Thanks to our easy-to-layer<br> purity tees, he can wear<br> that favorite sleeve shirt all year long.<br> (Whew, right?!)',\r\n        },\r\n        {\r\n          name: 'bottoms',\r\n          img: 'boys/boys-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'His waist<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in finding<br class=\"mobile\"> pants that fit<br> comfortably—but his<br class=\"mobile\"> hip<br class=\"desktop\"> measurement can<br class=\"mobile\"> make<br class=\"desktop\"> the difference<br class=\"mobile\"> if you\\'re<br class=\"desktop\"> stuck<br class=\"mobile\"> between sizes.',\r\n          rightH2: 'Easy Does it',\r\n          rightP: 'He\\'s got places to go.<br> Like, right now! That\\'s why<br> our pants are designed to be<br> extra easy for him to pull<br> on and off in a jiffy.',\r\n        },\r\n        {\r\n          name: 'swim',\r\n          img: 'boys/boys-swim.png',\r\n          leftH2: 'Swim Trunks',\r\n          leftP: 'His waist<br class=\"mobile\"> measurement<br class=\"desktop\"> is<br class=\"mobile\"> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in choosing<br class=\"mobile\"> trunks that fit<br> comfortably—but his<br class=\"mobile\"> hip<br class=\"desktop\"> measurement can<br class=\"mobile\"> make the<br class=\"desktop\"> difference<br class=\"mobile\"> if you\\'re stuck<br> between sizes.',\r\n          rightH2: 'Rash Guards',\r\n          rightP: 'His chest measurement<br> is the magic number you<br> need to get the right<br> size rash guard. ',\r\n          rightH2Bottom: '',\r\n          rightPBottom: '',\r\n        },\r\n        {\r\n          name: 'sweater + outerwear',\r\n          img: 'boys/boys-sweaters.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'The only<br class=\"mobile\"> measurement<br class=\"desktop\"> you<br class=\"mobile\"> need to determine<br class=\"mobile\"> his<br class=\"desktop\"> size is the<br class=\"mobile\"> circumference<br class=\"desktop\"> of<br class=\"mobile\"> his chest.',\r\n          rightH2: 'Layer Up!',\r\n          rightP: 'We design our outerwear to<br> fit comfortably over all sorts<br> of layers, so don\\'t be afraid<br> to add that extra sweater'\r\n        },\r\n        {\r\n          name: 'pajamas',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n        {\r\n          name: 'shoes + accessories',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: ''\r\n        },\r\n\r\n      ],\r\n    },\r\n    /*-----------------------------------------------------------------------------------------*/\r\n    {\r\n      dept: 'baby girl',\r\n      shoes: ['yosi samra', 'vans', 'elephantito', 'old soles', 'superga', 'livie & luca', 'native', 'saltwater sandal', 'umi', 'onitsuka tiger', 'asics', 'asics tiger', 'toke', 'havaianas', 'cienta'],\r\n      measure: {\r\n        img: 'baby-girl/baby-girl-measuring.png',\r\n        chest: 'Wrap a measuring tape<br class=\"desktop\"> under your child\\'s armpits,<br> making sure it passes<br class=\"desktop\"> across the fullest part of<br class=\"desktop\"> her chest<br class=\"mobile\"> and around her<br class=\"desktop\"> shoulder blades. Her arms<br class=\"desktop\"> should be<br class=\"mobile\"> relaxed naturally<br class=\"desktop\"> against her sides. (Good<br class=\"desktop\"> luck! You\\'re<br class=\"mobile\"> going to have to be superhero-fast!)',\r\n        hips: 'Have your child stand<br class=\"desktop\"> with her legs together,<br class=\"desktop\"> and wrap<br class=\"mobile\"> the measuring<br class=\"desktop\"> tape in a loop around the<br class=\"desktop\"> widest part of<br class=\"mobile\"> her hips.<br class=\"desktop\"> (If she\\'s not standing yet,<br class=\"desktop\"> have her lie down. You<br class=\"mobile\"> might need a partner to<br class=\"desktop\"> keep her distracted—<br>and still—for a minute!)',\r\n        waist: 'Tie a string around your<br class=\"desktop\"> child\\'s middle and help<br class=\"desktop\"> her bend<br class=\"mobile\"> from side to<br class=\"desktop\"> side. The string will settle<br class=\"desktop\"> around her natural<br class=\"mobile\"> waist,<br class=\"desktop\"> above her hipbones. Wrap<br class=\"desktop\"> a measuring tape<br class=\"mobile\"> around<br class=\"desktop\"> this part of her waist.',\r\n      },\r\n      cat: [{\r\n          name: 'rompers',\r\n          img: 'baby-girl/baby-girl-rompers.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her height is<br class=\"mobile\"> the most<br class=\"desktop\"> important<br class=\"mobile\"> factor in finding<br class=\"desktop\"> a<br class=\"mobile\"> romper that fits',\r\n          rightH2: 'Diaper Duty',\r\n          rightP: 'We design our rompers<br> to fit over diapers, but you<br> don\\'t have to include them<br> when you measure. For her<br> correct hip measurement,<br> be sure to leave the diaper<br> out of the equation!',\r\n        },\r\n        {\r\n          name: 'dresses',\r\n          img: 'baby-girl/baby-girl-dresses.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her chest<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in finding<br class=\"mobile\"> a dress that fits.',\r\n          rightH2: 'Matching Bloomers',\r\n          rightP: 'Some of our dresses come<br> with matching bloomers up<br> to size 24m. Check her waist<br> measurement to see how the<br> bloomers will fit.',\r\n        },\r\n        {\r\n          name: 'tops',\r\n          img: 'baby-girl/baby-girl-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her chest<br class=\"mobile\"> measurement is the<br> most important factor<br class=\"mobile\"> in finding<br class=\"desktop\"> a top or<br class=\"mobile\"> bodysuit that fits.',\r\n          rightH2: 'Always in Season',\r\n          rightP: 'Thanks to our easy-to-layer<br> bodysuits, she can wear<br> that adorable tank or short<br> sleeve top all year long.<br> (Whew, right?!)',\r\n        },\r\n        {\r\n          name: 'bottoms',\r\n          img: 'baby-girl/baby-girl-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Her waist<br class=\"mobile\"> measurement is<br class=\"mobile\"> the<br class=\"desktop\"> most important<br class=\"mobile\"> factor in finding<br> pants that fit<br class=\"mobile\"> comfortably—<br class=\"desktop\"> but<br class=\"mobile\"> her hip measurement<br class=\"mobile\"> can<br class=\"desktop\"> make the<br class=\"mobile\"> difference if you\\'re<br> stuck between sizes.',\r\n          rightH2: 'Diaper Duty',\r\n          rightP: 'We design our baby bottoms<br> to fit over diapers, but you<br> don\\'t have to include them<br> when you measure. For her<br> correct hip measurement,<br> be sure to leave the diaper<br> out of the equation!',\r\n        },\r\n        {\r\n          name: 'swim',\r\n          img: 'baby-girl/baby-girl-swim.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'Chest and hip<br class=\"mobile\"> <span class=\"desktop\">(sans diaper)</span><br class=\"desktop\"> measurements are<br class=\"mobile\"> what<br class=\"desktop\"> you\\'re looking<br class=\"mobile\"> for to find the<br class=\"desktop\"> right<br class=\"mobile\"> size. When in doubt,<br class=\"mobile\"> go<br class=\"desktop\"> with her chest<br class=\"mobile\"> measurement.',\r\n          rightH2: 'Two-Piece Tip',\r\n          rightP: 'Experienced parents tell<br> us they love two-piece suits<br> for quick and easy diaper<br> changes at the beach.',\r\n          rightH2Bottom: '',\r\n          rightPBottom: '',\r\n        },\r\n        {\r\n          name: 'sweater + outerwear',\r\n          img: 'baby-girl/baby-girl-sweaters.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'The only<br class=\"mobile\"> measurement<br class=\"desktop\"> you<br class=\"mobile\"> need to determine<br class=\"mobile\"> her<br class=\"desktop\"> size is the<br class=\"mobile\"> circumference<br class=\"desktop\"> of<br class=\"mobile\"> her chest.',\r\n          rightH2: 'Layer Up!',\r\n          rightP: 'We design our outerwear to<br> fit comfortably over all sorts<br> of layers, so don\\'t be afraid to<br> add that extra sweater.',\r\n        },\r\n        {\r\n          name: 'pajamas',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n        {\r\n          name: 'shoes + accessories',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n\r\n      ],\r\n    },\r\n    /*-----------------------------------------------------------------------------------------*/\r\n    {\r\n      dept: 'baby boy',\r\n      shoes: ['yosi samra', 'vans', 'old soles', 'superga', 'livie & luca', 'native', 'saltwater sandal', 'umi', 'onitsuka tiger', 'asics', 'asics tiger', 'havaianas', 'cienta'],\r\n      measure: {\r\n        img: 'baby-boy/baby-boy-measuring.png',\r\n        chest: 'Wrap a measuring tape<br class=\"desktop\"> under your child\\'s armpits,<br> making sure it passes<br class=\"desktop\"> across the fullest part of<br class=\"desktop\"> his chest<br class=\"mobile\"> and around his<br class=\"desktop\"> shoulder blades. His arms<br class=\"desktop\"> should be<br class=\"mobile\"> relaxed naturally<br class=\"desktop\"> against his sides. (Good<br class=\"desktop\"> luck! You\\'re<br class=\"mobile\"> going to have<br class=\"desktop\"> to be superhero-fast!)',\r\n        hips: 'Have your child stand<br class=\"desktop\"> with his legs together,<br class=\"desktop\"> and wrap<br class=\"mobile\"> the measuring<br class=\"desktop\"> tape in a loop around the<br class=\"desktop\"> widest part of<br class=\"mobile\"> his hips.<br class=\"desktop\"> (If he\\'s not standing yet,<br class=\"desktop\"> have him lie down. You<br> might need a partner to<br class=\"desktop\"> keep him distracted—<br>and still—for a minute!)',\r\n        waist: 'Tie a string around your<br class=\"desktop\"> child\\'s middle and help<br class=\"desktop\"> him bend<br class=\"mobile\"> from side to<br class=\"desktop\"> side. The string will settle<br class=\"desktop\"> around his natural<br class=\"mobile\"> waist,<br class=\"desktop\"> above his hipbones. Wrap<br class=\"desktop\"> a measuring tape<br class=\"mobile\"> around<br class=\"desktop\"> this part of his waist.',\r\n      },\r\n      cat: [{\r\n          name: 'rompers',\r\n          img: 'baby-boy/baby-boy-rompers.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'His height is<br class=\"mobile\"> the most<br class=\"desktop\"> important<br class=\"mobile\"> factor in finding<br class=\"desktop\"> a<br class=\"mobile\"> romper that fits',\r\n          rightH2: 'Diaper Duty',\r\n          rightP: 'We design our rompers<br> to fit over diapers, but you<br> don\\'t have to include them<br> when you measure. For his<br> correct hip measurement,<br> be sure to leave the diaper<br> out of the equation!',\r\n        },\r\n        {\r\n          name: 'tees + shirts',\r\n          img: 'baby-boy/baby-boy-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'His chest<br class=\"mobile\"> measurement is the<br> most important factor<br class=\"mobile\"> in finding<br class=\"desktop\"> a top or<br class=\"mobile\"> bodysuit that fits.',\r\n          rightH2: 'Always in Season',\r\n          rightP: 'Thanks to our easy-to-layer<br> bodysuits, he can wear that<br> favorite short sleeve shirt all<br> year long. (Whew, right?!)',\r\n        },\r\n        {\r\n          name: 'bottoms',\r\n          img: 'baby-boy/baby-boy-tops-bottoms.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'His waist<br class=\"mobile\"> measurement is<br class=\"mobile\"> the<br class=\"desktop\"> most important<br class=\"mobile\"> factor in finding<br> bottoms that fit<br class=\"mobile\"> comfortably—<br class=\"desktop\"> but<br class=\"mobile\"> his hip measurement<br class=\"mobile\"> can<br class=\"desktop\"> make the<br class=\"mobile\"> difference if you\\'re<br> stuck between sizes.',\r\n          rightH2: 'Diaper Duty',\r\n          rightP: 'We design our baby bottoms<br> to fit over diapers, but you<br> don\\'t have to include them<br> when you measure. For his<br> correct hip measurement,<br> be sure to leave the diaper<br> out of the equation!',\r\n        },\r\n        {\r\n          name: 'swim',\r\n          img: 'baby-boy/baby-boy-swim.png',\r\n          leftH2: 'Swim Trunks',\r\n          leftP: 'His waist<br class=\"mobile\"> measurement is<br> the most important<br class=\"mobile\"> factor<br class=\"desktop\"> in choosing<br class=\"mobile\"> trunks that fit<br> comfortably—but his<br class=\"mobile\"> hip<br class=\"desktop\"> measurement can<br class=\"mobile\"> make<br class=\"desktop\"> the difference<br class=\"mobile\"> if you\\'re<br class=\"desktop\"> stuck<br class=\"mobile\"> between sizes.',\r\n          rightH2: 'Rash Guard Suits',\r\n          rightP: 'His height is the most<br> important measurement<br> to get the right fit. ',\r\n          rightH2Bottom: 'Rash Guards',\r\n          rightPBottom: 'His chest measurement<br> is the magic number you<br> need to get the right<br> size rash guard. ',\r\n        },\r\n        {\r\n          name: 'sweater + outerwear',\r\n          img: 'baby-boy/baby-boy-sweaters.png',\r\n          leftH2: 'Stuck Between Sizes?',\r\n          leftP: 'The only<br class=\"mobile\"> measurement<br class=\"desktop\"> you<br class=\"mobile\"> need to determine<br class=\"mobile\"> his<br class=\"desktop\"> size is the<br class=\"mobile\"> circumference<br class=\"desktop\"> of<br class=\"mobile\"> his chest.',\r\n          rightH2: 'Layer Up!',\r\n          rightP: 'We design our outerwear to<br> fit comfortably over all sorts<br> of layers, so don\\'t be afraid to<br> add that extra sweater.',\r\n        },\r\n        {\r\n          name: 'pajamas',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n        {\r\n          name: 'shoes + accessories',\r\n          img: '',\r\n          leftH2: '',\r\n          leftP: '',\r\n          rightH2: '',\r\n          rightP: '',\r\n        },\r\n\r\n      ],\r\n    },\r\n    /*-----------------------------------------------------------------------------------------*/\r\n    {\r\n      dept: 'newborn',\r\n      cat: [{\r\n        name: 'all categories',\r\n        img: 'newborn/newborn-all.png',\r\n        leftH2: 'Newborn Needs',\r\n        leftP: 'Brand new babies are a<br> bit messy! Buy a few extra<br> outfits so you don\\'t have<br> to do laundry every day.',\r\n        rightH2: 'Romper Rules',\r\n        rightP: 'Rompers are easy gifts—they<br> keep babies cozy all the way<br> to their tiny toes, plus they\\'re<br> easy to change in a snap!',\r\n      }],\r\n    },\r\n  ];\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //add sizeChartArr to the page for pdp pages\r\n  $('.size-chart-container').prepend('<div id=\"sizeChartArr\"></div>');\r\n  //loop through sizeChartArr and add the attribute to #sizeChartArr\r\n  $.each(sizeChartArr, function(i, val) {\r\n    var cats = [];\r\n    var dept = val.dept;\r\n    dept = dept.replace(' ', '-');\r\n\r\n    //loop through the categories and push to cats\r\n    $.each(val.cat, function(j, cat) {\r\n      cats.push(cat.name);\r\n    });\r\n\r\n    //convert cats to string\r\n    var theCats = cats.join();\r\n    //add data attribute to page\r\n    $('#sizeChartArr').attr('data-' + dept, theCats);\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to set the selected department and category for desktop or mobile\r\n  var deptCat = function(elem1, elem2) {\r\n    var Val;\r\n    //desktop\r\n    if ($(window).width() > 737) {\r\n      //get the value of the .department or .category\r\n      Val = $(elem1).text();\r\n    }\r\n    //mobile\r\n    else {\r\n      //get the value of the .department or .category\r\n      Val = $(elem2).val();\r\n    }\r\n\r\n    return Val\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to change the cats dropdown\r\n  var changeCats = function(sizeChartArr) {\r\n    //get the value of the .department\r\n    var dept;\r\n    //desktop\r\n    if ($(window).width() > 737) {\r\n      dept = $('.size-chart-container ul.department .selected').text();\r\n    }\r\n    //mobile\r\n    else if ($(window).width() < 737) {\r\n      dept = $('.size-chart-container select.department').val();\r\n    }\r\n\r\n    // var deptValD = $('.size-chart-container ul.department .selected').text();\r\n    // var deptValM = $('.size-chart-container select.department').val();\r\n\r\n    $.each(sizeChartArr, function(i, val) {\r\n      //get the cats that match the dept\r\n      if (val.dept == dept) {\r\n        //loop through the cats and add to page\r\n        $.each(val.cat, function(j, arr) {\r\n          //<ul>\r\n          var catD = '<li>' + arr.name + '</li>';\r\n          $('.size-chart-container ul.category').append(catD);\r\n          //<select>\r\n          var catM = '<option value=\"' + arr.name + '\">' + arr.name + '</option>';\r\n          $('.size-chart-container select.category').append(catM);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to change the background image\r\n  var changeBackground = function(sizeChartArr) {\r\n\r\n    var deptVal = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var catVal = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    $.each(sizeChartArr, function(i, val) {\r\n      //get the dept that match\r\n      if (deptVal == val.dept) {\r\n        $.each(val.cat, function(j, arr) {\r\n          //get the cat that match\r\n          if (catVal == arr.name) {\r\n            //add the background img to the page\r\n\r\n            //desktop\r\n            if ($(window).width() > 737) {\r\n              //var img = 'url(../images/'+arr.img+')';\r\n              var img = 'url(https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/' + arr.img + ')';\r\n              $('.size-chart-container .measure-tips').css('background-image', img);\r\n            }\r\n            //mobile\r\n            else if ($(window).width() < 737) {\r\n              //add the loading\r\n              $('.measure-tips').prepend('<span class=\"loading\" style=\"text-transform:uppercase; text-align:center; font-size:15px; font-family:brown-pro-bold !important\">loading...</span>');\r\n              var imgSrc = arr.img;\r\n              imgSrc = imgSrc.split('.');\r\n              imgSrc = imgSrc[0] + '-m.' + imgSrc[1];\r\n              //console.log(imgSrc);\r\n\r\n              var img = 'url(https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/' + imgSrc + ')';\r\n              $('.size-chart-container .measure-tips').css('background-image', img);\r\n              //remove the loading\r\n              $('.measure-tips span.loading').remove();\r\n            }\r\n\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to adjust css for .measure-tips\r\n  var adjustMeasureCSS = function() {\r\n    //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n    // var catVal = $('.size-chart-container .category').val();\r\n\r\n    var deptVal = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var catVal = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    //if mobile change the height of the .measure-tips div\r\n    if ($(window).width() < 737) {\r\n      //if .measure-tips div has style remove it\r\n      $('.measure-tips div').removeAttr('style');\r\n\r\n      //if .measure-tips css min-height: 0 set to auto\r\n      var measureStyles = $('.measure-tips').attr('style');\r\n      measureStyles = measureStyles.split(';');\r\n      measureStyles = measureStyles[0];\r\n      $('.measure-tips').attr('style', measureStyles);\r\n\r\n      //get the height\r\n      var mHeight = $('.measure-tips').css('height');\r\n\r\n      //set the height\r\n      $('.measure-tips div').css('height', mHeight);\r\n    }\r\n\r\n    if (catVal == 'shoes + accessories' || catVal == 'pajamas') {\r\n      //desktop\r\n      if ($(window).width() > 737) {\r\n        $('.measure-tips').css({\r\n          minHeight: '0',\r\n          padding: '0 0 33px 0'\r\n        });\r\n      }\r\n      //mobile\r\n      if ($(window).width() < 737) {\r\n        $('.measure-tips').css('min-height', '0');\r\n        //reset the height of .measure-tips div\r\n        $('.measure-tips div').css('height', '0px');\r\n      }\r\n\r\n    } else if (deptVal == 'baby boy' || deptVal == 'baby girl') {\r\n      //desktop\r\n      if ($(window).width() > 737) {\r\n        $('.measure-tips').css({\r\n          minHeight: '420px',\r\n          padding: '196px 0 0 0'\r\n        });\r\n      }\r\n      //mobile\r\n      if ($(window).width() < 737) {\r\n        $('.measure-tips').css({\r\n          minHeight: '290px',\r\n          backgroundPosition: 'center -23px'\r\n        });\r\n\r\n        //get the height\r\n        var mHeight = $('.measure-tips').css('min-height');\r\n\r\n        //set the height\r\n        $('.measure-tips div').css('height', mHeight);\r\n      }\r\n    } else if (deptVal == 'newborn') {\r\n      //desktop\r\n      if ($(window).width() > 737) {\r\n        $('.measure-tips').css({\r\n          minHeight: '360px',\r\n          padding: '196px 0 0 0'\r\n        });\r\n      }\r\n      //mobile\r\n      if ($(window).width() < 737) {\r\n        $('.measure-tips').css({\r\n          minHeight: '237px',\r\n          backgroundPosition: 'center -21px'\r\n        });\r\n        //reset the height of .measure-tips div\r\n        $('.measure-tips div').css('height', '0px');\r\n      }\r\n    }\r\n\r\n    // else remove the style attribute on .tips and change css on .measure-tips\r\n    else {\r\n      //$('.size-chart-container').find($('.tips')).removeAttr('style');\r\n      var measureStyles = $('.size-chart-container').find($('.measure-tips')).attr('style');\r\n      measureStyles = measureStyles.split(';');\r\n      measureStyles = measureStyles[0];\r\n      $('.size-chart-container').find($('.measure-tips')).attr('style', measureStyles);\r\n    }\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //function to adjust css for .tips\r\n  var adjustTipsCSS = function() {\r\n    var deptVal = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var catVal = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n    // var deptVal = $('.size-chart-container .department').val();\r\n\r\n    if (deptVal == 'baby girl' || deptVal == 'baby boy') {\r\n      //desktop\r\n      if ($(window).width() > 737) {\r\n        //if bottoms\r\n        // if(catVal == 'bottoms'){\r\n        //   $('.size-chart-container').find($('.tips')).css('top','180px');\r\n        // } else {\r\n        //   $('.size-chart-container').find($('.tips')).css('top','148px');\r\n        // }\r\n\r\n        $('.size-chart-container').find($('.tips')).css('top', '128px');\r\n\r\n        $('.size-chart-container').find($('.tips')).show();\r\n      }\r\n      //mobile\r\n      if ($(window).width() < 737) {\r\n        if (catVal == 'shoes + accessories' || catVal == 'pajamas') {\r\n          $('.size-chart-container').find($('.tips')).hide();\r\n        } else {\r\n          $('.size-chart-container').find($('.tips')).show();\r\n\r\n          //change the css positioning\r\n          $('.size-chart-container').find($('.tips')).css('top', '189px');\r\n        }\r\n      }\r\n\r\n    }\r\n    //else if newborn hide .tips\r\n    else if (deptVal == 'newborn') {\r\n      $('.size-chart-container').find($('.tips')).hide()\r\n    }\r\n    // if category is shoes + accessories  or pajams\r\n    else if (catVal == 'shoes + accessories' || catVal == 'pajamas') {\r\n      $('.size-chart-container').find($('.tips')).hide();\r\n    }\r\n    // else remove the style attribute on .tips\r\n    else {\r\n      $('.size-chart-container').find($('.tips')).removeAttr('style');\r\n    }\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to add data-dept attr to .tips\r\n  var addDataAttr = function() {\r\n    //add class to .tips\r\n    var onloadDeptVal = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    // var onloadDeptVal = $('.size-chart-container .department').val();\r\n\r\n    $('.size-chart-container').find($('.tips')).attr('data-dept', onloadDeptVal);\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to change the 1st row of the size chart table\r\n  var changeRow = function() {\r\n    var d = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var c = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    // var d = $('.size-chart-container .department').val();\r\n    // var c = $('.size-chart-container .category').val();\r\n\r\n    var str;\r\n\r\n    if (d == 'newborn') {\r\n      str = d + ' size chart';\r\n    } else if (c == 'sweater + outerwear') {\r\n      str = d + ' outerwear size chart (sweaters + jackets)';\r\n    } else if (d == 'baby girl' && c == 'tops') {\r\n      str = d + ' tops, hoodies + bodysuits size chart';\r\n    } else if (d == 'baby boy' && c == 'tees + shirts') {\r\n      str = d + ' tees, shirts, hoodies + bodysuits size chart';\r\n    } else {\r\n      str = d + ' ' + c + ' size chart';\r\n    }\r\n\r\n    $('.size-chart-table table .size-chart-header th').html(str);\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //onload make the department dropdown\r\n  //make the department dropdown\r\n  $.each(sizeChartArr, function(i, val) {\r\n    //<ul>\r\n    var deptLi = '<li>' + val.dept + '</li>';\r\n    $('.size-chart-container ul.department').append(deptLi);\r\n    //<select>\r\n    var deptOption = '<option value=\"' + val.dept + '\">' + val.dept + '</option>';\r\n    $('.size-chart-container select.department').append(deptOption);\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to select the department & category based  url params\r\n  var selectDeptCat = function(urlpara, elem1, elem2) {\r\n    //onload check if parameters in url for department and category\r\n    var urlParam = window.location.href;\r\n\r\n    var ul = elem1;\r\n    ul = ul.replace('li', '');\r\n\r\n    //check if parameters\r\n    if (urlParam.indexOf('?') !== -1) {\r\n      var paramArr = urlParam.split('?');\r\n      //split the parameters into an array\r\n      paramArr = paramArr[1].split('&');\r\n      //loop through the array to find selectedDept & selectedCat then change the selected values from the dropdown\r\n      $.each(paramArr, function(i, val) {\r\n        var param = val.split('=');\r\n        if (param[0] == urlpara) {\r\n          var dept = param[1];\r\n          //if 20% in variable change to ' '\r\n          dept = String(dept.replace(/%20/g, ' '));\r\n\r\n          //change the value selected from the dropdown\r\n          //<ul>\r\n          $(ul).prepend('<li class=\"selected\">' + dept + '</li>');\r\n\r\n          //<select>\r\n          $(elem2).val(dept);\r\n        }\r\n\r\n      });\r\n\r\n    } else {\r\n\r\n      //for desktop defaults to prepend <li class=\"selected\">dept/cat</li> to both ul.department & ul.category\r\n      var s = $(elem1 + ':first-of-type').text();\r\n      $(ul).prepend('<li class=\"selected\">' + s + '</li>');\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to change the copy in .measure-tips\r\n  var changeCopy = function(sizeChartArr) {\r\n    //get the value of the selected department and category\r\n    var deptVal = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var catVal = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    $.each(sizeChartArr, function(i, val) {\r\n      //get the dept that match\r\n      if (deptVal == val.dept) {\r\n\r\n        //if swim\r\n        if (catVal == 'swim') {\r\n          //check if swim already on page\r\n          var isSwim = $('.measure-tips .swim');\r\n          //desktop\r\n          if ($(window).width() > 737) {\r\n            if (isSwim.length == 0) {\r\n              //find the .measure-tips div:nth-of-type(2) and prepend <span class=\"top\"> & <span class=\"bottom\">\r\n              $('.measure-tips div:nth-of-type(2)').prepend('<span class=\"top\"></span><span class=\"bottom\"><h2></h2><p></p></span>');\r\n              //move the h2 and p into .top\r\n              $('.measure-tips div:nth-of-type(2) .top').append($('.measure-tips div:nth-of-type(2) > h2, .measure-tips div:nth-of-type(2) > p'));\r\n            }\r\n\r\n            //if baby boy swim\r\n            if (deptVal == 'baby boy') {\r\n              $('.measure-tips div:first-of-type').addClass('baby-boy-swim');\r\n              $('.measure-tips div:nth-of-type(2)').addClass('baby-boy-swim');\r\n            }\r\n          }\r\n\r\n          //add the content\r\n          $.each(val.cat, function(j, arr) {\r\n\r\n            //get the cat that match\r\n            if (catVal == arr.name) {\r\n              //change the copy\r\n              // console.log(arr);\r\n              var divs = $('.size-chart-container .measure-tips div');\r\n              // console.log(divs);\r\n\r\n              $.each(divs, function(k, obj) {\r\n                if (k == 0) {\r\n                  //change the h2\r\n                  $(obj).find('h2').html(arr.leftH2);\r\n                  //change the p\r\n                  $(obj).find('p').html(arr.leftP);\r\n                } else if (k == 1) {\r\n                  //desktop\r\n                  if ($(window).width() > 737) {\r\n\r\n                    if (arr.rightH2Bottom !== '') {\r\n                      //add .swim to .measure-tips div:first-of-type\r\n                      $('.measure-tips div:first-of-type').addClass('swim');\r\n                      //add .two-rows to .measure-tips div:nth-of-type(2)\r\n                      $('.measure-tips div:nth-of-type(2)').addClass('two-rows');\r\n                    } else {\r\n                      $('.measure-tips div:nth-of-type(2)').removeClass('two-rows');\r\n                    }\r\n\r\n                    //change the h2 .top\r\n                    $(obj).find('.top').find('h2').html(arr.rightH2);\r\n                    //change the p .top\r\n                    $(obj).find('.top').find('p').html(arr.rightP);\r\n                    //change the h2 .bottom\r\n                    $(obj).find('.bottom').find('h2').html(arr.rightH2Bottom);\r\n                    //change the p .bottom\r\n                    $(obj).find('.bottom').find('p').html(arr.rightPBottom);\r\n\r\n                  }\r\n\r\n                  //mobile\r\n                  if ($(window).width() < 737) {\r\n                    //change the h2\r\n                    $(obj).find('h2').html(arr.leftH2);\r\n                    //change the p\r\n                    $(obj).find('p').html(arr.leftP);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n\r\n        } else {\r\n\r\n          $.each(val.cat, function(j, arr) {\r\n            //move .top contents out\r\n            $('.measure-tips div:nth-of-type(2)').append($('.measure-tips .top h2, .measure-tips .top p'));\r\n            //remove .top & .bottom because of swim\r\n            $('.measure-tips div:nth-of-type(2) .top, .measure-tips div:nth-of-type(2) .bottom').remove();\r\n            //remove .swim & .baby-boy-swim from .measure-tips div:first-of-type\r\n            $('.measure-tips div:first-of-type').removeClass('swim');\r\n            $('.measure-tips div:first-of-type').removeClass('baby-boy-swim');\r\n\r\n            $('.measure-tips div:nth-of-type(2)').removeClass('two-rows');\r\n            $('.measure-tips div:nth-of-type(2)').removeClass('baby-boy-swim');\r\n\r\n            //get the cat that match\r\n            if (catVal == arr.name) {\r\n              //change the copy\r\n              // console.log(arr);\r\n              var divs = $('.size-chart-container .measure-tips div');\r\n              // console.log(divs);\r\n\r\n              $.each(divs, function(k, obj) {\r\n                if (k == 0) {\r\n                  //change the h2\r\n                  $(obj).find('h2').html(arr.leftH2);\r\n                  //change the p\r\n                  $(obj).find('p').html(arr.leftP);\r\n                } else if (k == 1) {\r\n                  //desktop\r\n                  if ($(window).width() > 737) {\r\n                    //change the h2\r\n                    $(obj).find('h2').html(arr.rightH2);\r\n                    //change the p\r\n                    $(obj).find('p').html(arr.rightP);\r\n                  }\r\n                  //mobile\r\n                  if ($(window).width() < 737) {\r\n\r\n                    //if newborn hide div\r\n                    if (deptVal == 'newborn') {\r\n                      $(obj).hide();\r\n                    }\r\n                    // not newborn\r\n                    else {\r\n                      $(obj).show();\r\n                    }\r\n                    //change the h2\r\n                    $(obj).find('h2').html(arr.leftH2);\r\n                    //change the p\r\n                    $(obj).find('p').html(arr.leftP);\r\n                  }\r\n\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to change the order of the tables for shoes + accessories\r\n  var changeOrder = function() {\r\n    var cat = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    //if shoes + accessories re-order the tables\r\n    if (cat == 'shoes + accessories') {\r\n\r\n      //hide the .size-chart-table children\r\n      $('.size-chart-table').children().hide();\r\n\r\n      //add the loading\r\n      $('.size-chart-table').prepend('<div style=\"text-align:center; font-size:15px; font-family:brown-pro-bold !important\" class=\"tables-loading\">LOADING...</div>');\r\n\r\n      setTimeout(function() {\r\n        var tables = $('.size-chart-table table');\r\n\r\n        //loop through and re-order\r\n        $.each(tables, function(i, val) {\r\n          var str = $(val).find('.size-chart-header th').text();\r\n          // console.log(str);\r\n          //if hat make 1st\r\n          if (str.indexOf('hat') !== -1) {\r\n            $('.size-chart-table').prepend($(val));\r\n          }\r\n\r\n          //if headband make 2nd\r\n          if (str.indexOf('headband') !== -1) {\r\n            $('.size-chart-table table:nth-of-type(2)').after($(val));\r\n          }\r\n\r\n          //if socks make last\r\n          if (str.indexOf('socks') !== -1) {\r\n            $('.size-chart-table').append($(val));\r\n          }\r\n\r\n        });\r\n\r\n        //move the 2T/2 message to the bottom\r\n        $('.size-chart-table').append($('.align-center'));\r\n\r\n        //remove the loading\r\n        $('.tables-loading').remove();\r\n\r\n        //show the .size-chart-table table but not .the-table\r\n        var children = $('.size-chart-table').children();\r\n        $.each(children, function(i, val) {\r\n          //don't show if has class .the-table\r\n          if (!$(val).hasClass('the-table')) {\r\n            $(val).show();\r\n          }\r\n        });\r\n\r\n      }, 1100);\r\n\r\n    }\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //function on elem change go to ext url\r\n  var brandChange = function() {\r\n\r\n    //collapse ul.brand on .brands click\r\n    $('.brands, table, .measure-tips').click(function() {\r\n      $('ul.brand').removeAttr('style');\r\n    });\r\n\r\n    //expand or collapse\r\n    //desktop dropdown to expand and collapse\r\n    $('ul.brand').click(function() {\r\n      //check if has style attr remove it\r\n      if ($(this).attr('style') !== undefined) {\r\n        $(this).removeAttr('style');\r\n      }\r\n      // if doesn't have style attr add css to expand\r\n      else {\r\n        $(this).css('height', 'auto');\r\n      }\r\n\r\n    });\r\n\r\n    //on .shoes change\r\n    //<ul>\r\n    $('.size-chart-table').find('ul.brand li').click(function() {\r\n      var txt = $(this).text();\r\n      txt = txt.toLowerCase();\r\n      var brand = $(this).attr('data-url');\r\n      if (txt !== 'please select a brand') {\r\n        window.open(brand, '_blank');\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to make the brand drop down for shoes or sweaters\r\n  var makeBrands = function() {\r\n    //remove .brands\r\n    $('.brands, .brands-dropdown').remove();\r\n\r\n    var dept = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var cat = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    //only execute if sweaters or shoes\r\n    if (cat == 'sweater + outerwear' || cat == 'shoes + accessories') {\r\n      //make the element to add to the page\r\n      // var elem = '<div class=\"brands\"></div>';\r\n      var elem1 = '<div class=\"brands\"></div>';\r\n      var elem2 = '<div class=\"brands-dropdown\"></div>';\r\n      var h2;\r\n      var text = '<p>Please select a brand from the menu below to view<br> the size chart. Size chart will open in a new window.</p>'\r\n      var select = $('<select class=\"brand mobile\" onchange=\"window.open(this.value)\"><option>Please select a brand</option></select>');\r\n      var ul = $('<ul class=\"brand desktop\"><li>Please select a brand</li></ul>');\r\n      var ol = $('<ol class=\"mobile\"></ol>');\r\n\r\n      //if shoes + accessories\r\n      if (cat == 'shoes + accessories') {\r\n        h2 = '<h2>' + dept + ' shoes size chart</h2>';\r\n\r\n        //add the <option> and <li>\r\n        //loop through the .sizeChartArr\r\n        $.each(sizeChartArr, function(i, val) {\r\n          //find the matched dept\r\n          if (dept == val.dept) {\r\n            //loop through dept shoes\r\n            $.each(val.shoes, function(j, shoe) {\r\n              //loop through the shoeBrands\r\n              $.each(shoeBrands, function(k, brand) {\r\n                //if match output\r\n                if (shoe == brand.brand) {\r\n                  //<ul>\r\n                  var li = '<li data-url=\"' + brand.url + '\">' + shoe + '</li>';\r\n                  //<ol>\r\n                  var li2 = '<li><a href=\"' + brand.url + '\" target=\"_blank\">' + shoe + '</a></li>';\r\n                  //<select>\r\n                  var option = '<option value=\"' + brand.url + '\">' + shoe + '</option>';\r\n\r\n                  $(ul).append(li);\r\n                  $(ol).append(li2);\r\n                  $(select).append(option);\r\n                }\r\n              });\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      //else if sweaters + outerwear\r\n      else if (cat == 'sweater + outerwear') {\r\n        h2 = '<h2>' + dept + ' outerwear size chart (other brands)</h2>';\r\n        //<ul>\r\n        $(ul).append('<li data-url=\"https://www.patagonia.com/size-boys-girls.html\">patagonia</li>');\r\n\r\n        //<ol>\r\n        $(ol).append('<li><a href=\"https://www.patagonia.com/size-boys-girls.html\" target=\"_blank\">patagonia</a></li>');\r\n\r\n        //<select>\r\n        $(select).append('<option value=\"https://www.patagonia.com/size-boys-girls.html\">patagonia</option>');\r\n      }\r\n\r\n      // console.log(h2, text, select);\r\n\r\n      //append the elements into .brands\r\n\r\n      var brandsContainer = $(elem1).append(h2, text);\r\n\r\n      //because of safari not allowing window.open()\r\n      //if mobile\r\n      if ($(window).width() < 737) {\r\n        //if safari\r\n        if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) {\r\n          var brandsDropdown = $(elem2).append(ol, ul);\r\n        }\r\n        //not safari\r\n        else {\r\n          var brandsDropdown = $(elem2).append(select, ul);\r\n        }\r\n      }\r\n      //not mobile\r\n      else {\r\n        var brandsDropdown = $(elem2).append(select, ul);\r\n      }\r\n\r\n\r\n      //add to page\r\n      $('.size-chart-table').append(brandsContainer);\r\n      $('.size-chart-table').append(brandsDropdown);\r\n\r\n      //because of onload append shoe size chart to .size-chart-table\r\n      setTimeout(function() {\r\n        $('.size-chart-table').append($('.brands'));\r\n        $('.size-chart-table').append($('.brands-dropdown'));\r\n      }, 1500);\r\n\r\n      //on .brand change\r\n      brandChange();\r\n\r\n    }\r\n  };\r\n\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //onload select Dept based on url params\r\n  selectDeptCat('selectedDept', '.size-chart-container ul.department li', '.size-chart-container select.department');\r\n\r\n  //onload change the cats dropdown\r\n  //make the category dropdown\r\n  changeCats(sizeChartArr)\r\n\r\n  //onload select Cat based on url params\r\n  selectDeptCat('selectedCat', '.size-chart-container ul.category li', '.size-chart-container select.category');\r\n\r\n  //onload change the background image\r\n  changeBackground(sizeChartArr);\r\n\r\n  //onload change the copy\r\n  changeCopy(sizeChartArr);\r\n\r\n  //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n  adjustMeasureCSS();\r\n\r\n  //if baby boy or baby girl adjust css on .tips\r\n  adjustTipsCSS();\r\n\r\n  //add class to .tips\r\n  addDataAttr();\r\n\r\n  //change <th> of the .size-chart-table table\r\n  changeRow();\r\n\r\n  //if shoes + accessories or sweaters + outerwear add the brands drop down\r\n  makeBrands();\r\n\r\n  //re-order the tables if shoes + accessories\r\n  changeOrder();\r\n\r\n\r\n\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //on .department change\r\n  $('.size-chart-container select.department').change(function() {\r\n\r\n    //remove all the <option> in .category\r\n    $('.size-chart-container select.category option').remove();\r\n\r\n    //change the cats dropdown\r\n    changeCats(sizeChartArr);\r\n\r\n    //change the background image\r\n    changeBackground(sizeChartArr);\r\n\r\n    //change the copy\r\n    changeCopy(sizeChartArr);\r\n\r\n    //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n    adjustMeasureCSS();\r\n\r\n    //if baby boy or baby girl adjust css on .tips\r\n    adjustTipsCSS();\r\n\r\n    //add class to .tips\r\n    addDataAttr();\r\n\r\n    //change <th> of the .size-chart-table table\r\n    changeRow();\r\n\r\n    //make the table\r\n    makeTable();\r\n\r\n    //if shoes + accessories or sweaters + outerwear add the brands drop down\r\n    makeBrands();\r\n\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //on .category change\r\n  $('.size-chart-container select.category').change(function() {\r\n\r\n    //change the background image\r\n    changeBackground(sizeChartArr);\r\n\r\n    //change the copy\r\n    changeCopy(sizeChartArr);\r\n\r\n    //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n    adjustMeasureCSS();\r\n\r\n    //if baby boy or baby girl adjust css on .tips\r\n    adjustTipsCSS();\r\n\r\n    //change <th> of the .size-chart-table table\r\n    changeRow();\r\n\r\n    //make the table\r\n    makeTable();\r\n\r\n    //if shoes + accessories or sweaters + outerwear add the brands drop down\r\n    makeBrands();\r\n\r\n    //re-order the tables if shoes + accessories\r\n    changeOrder();\r\n\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //desktop dropdown to expand and collapse\r\n  $('ul.department, ul.category').click(function() {\r\n    //check if has style attr remove it\r\n    if ($(this).attr('style') !== undefined) {\r\n      $(this).removeAttr('style');\r\n    }\r\n    // if doesn't have style attr add css to expand\r\n    else {\r\n      $(this).css('height', 'auto');\r\n      $(this).find('li.selected').text('please select');\r\n    }\r\n\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //desktop dropdown to select new department\r\n  $('ul.department li').click(function() {\r\n\r\n    if ($(this).attr('class') !== 'selected') {\r\n      //get the clicked li text\r\n      var txt = $(this).text();\r\n      //change the text of .selected\r\n      $('ul.department .selected').text(txt);\r\n\r\n      //remove all the li in ul.category\r\n      $('ul.category li').remove();\r\n\r\n      //change the cats dropdown\r\n      changeCats(sizeChartArr);\r\n\r\n      //prepend <li class=\"selected\">cat</li> to ul.category\r\n      var s = $('ul.category li:first-of-type').text();\r\n      $('ul.category').prepend('<li class=\"selected\">' + s + '</li>');\r\n\r\n      //change the background image\r\n      changeBackground(sizeChartArr);\r\n\r\n      //change the copy\r\n      changeCopy(sizeChartArr);\r\n\r\n      //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n      adjustMeasureCSS();\r\n\r\n      //if baby boy or baby girl adjust css on .tips\r\n      adjustTipsCSS();\r\n\r\n      //add class to .tips\r\n      addDataAttr();\r\n\r\n      //change <th> of the .size-chart-table table\r\n      changeRow();\r\n\r\n      //make the table\r\n      makeTable();\r\n\r\n      //if shoes + accessories or sweaters + outerwear add the brands drop down\r\n      makeBrands();\r\n\r\n      //if user changes the ul.category\r\n      catLiChange();\r\n    }\r\n\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //function for desktop dropdown to select new category\r\n  var catLiChange = function() {\r\n    $('ul.category li').click(function() {\r\n\r\n      if ($(this).attr('class') !== 'selected') {\r\n        //get the clicked li text\r\n        var txt = $(this).text();\r\n        //change the text of .selected\r\n        $('ul.category .selected').text(txt);\r\n\r\n        //change the background image\r\n        changeBackground(sizeChartArr);\r\n\r\n        //change the copy\r\n        changeCopy(sizeChartArr);\r\n\r\n        //if shoes + accessories hide .tips & change min-height and padding of .measure-tips\r\n        adjustMeasureCSS();\r\n\r\n        //if baby boy or baby girl adjust css on .tips\r\n        adjustTipsCSS();\r\n\r\n        //add class to .tips\r\n        addDataAttr();\r\n\r\n        //change <th> of the .size-chart-table table\r\n        changeRow();\r\n\r\n        //make the table\r\n        makeTable();\r\n\r\n        //if shoes + accessories or sweaters + outerwear add the brands drop down\r\n        makeBrands();\r\n\r\n        //re-order the tables if shoes + accessories\r\n        changeOrder();\r\n\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  //onpage load call this\r\n  catLiChange();\r\n\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  // on click .tips\r\n  $('.size-chart-container').find($('.tips')).click(function(e) {\r\n    e.preventDefault();\r\n\r\n    //get the data-dept\r\n    var dept = $(this).attr('data-dept');\r\n\r\n    //hide h1\r\n    $('.size-chart-container h1').hide();\r\n\r\n    //add the content to .measure-take-over\r\n    $.each(sizeChartArr, function(i, val) {\r\n      if (dept == val.dept) {\r\n        //add the image\r\n        //desktop\r\n        if ($(window).width() > 737) {\r\n          $('.measure-content img').attr('src', 'https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/' + val.measure.img);\r\n        }\r\n        //mobile\r\n        else if ($(window).width() < 737) {\r\n          var imgSrc = val.measure.img;\r\n\r\n          imgSrc = imgSrc.split('.');\r\n          imgSrc = imgSrc[0] + '-m.' + imgSrc[1];\r\n\r\n          $('.measure-content img').attr('src', 'https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/' + imgSrc);\r\n        }\r\n\r\n        //add the chest text\r\n        $('.measure-content .text .chest p').html(val.measure.chest);\r\n        //add the hips text\r\n        $('.measure-content .text .hips p').html(val.measure.hips);\r\n        //add the waist text\r\n        $('.measure-content .text .waist p').html(val.measure.waist);\r\n      }\r\n    });\r\n\r\n    //hide the other elements\r\n    var base = '.size-chart-container';\r\n    $(base + ' .dropdowns, ' + base + ' .measure-tips, ' + base + ' .size-chart-table').hide();\r\n\r\n    //show .measure-take-over\r\n    $('.measure-take-over').show();\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //collapse ul.department & ul.category when click on .measure-tips\r\n  $('.measure-tips').click(function() {\r\n    var dept = $('ul.department')\r\n    var cat = $('ul.category')\r\n\r\n    var arr = [dept, cat];\r\n\r\n    $.each(arr, function(i, val) {\r\n      var attribute = $(val).attr('style');\r\n      if (attribute !== undefined) {\r\n        $(val).removeAttr('style');\r\n      }\r\n    });\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n  //collapse ul.brand when click on .size-chart-table\r\n  $('.brands h2').click(function() {\r\n\r\n    $('ul.brand').removeAttr('style');\r\n\r\n  });\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //close the .measure-take-over\r\n  $('.measure-take-over .measure, .measure-take-over .return').click(function() {\r\n\r\n    //show h1\r\n    $('.size-chart-container h1').show();\r\n\r\n    //hide .measure-take-over\r\n    $('.measure-take-over').hide();\r\n    //show the other elements\r\n    var base = '.size-chart-container';\r\n    $(base + ' .dropdowns, ' + base + ' .measure-tips, ' + base + ' .size-chart-table').show();\r\n\r\n    //reset the .measure-content\r\n    //the image\r\n    $('.measure-content img').attr('src', '');\r\n    //the chest text\r\n    $('.measure-content .text .chest p').html('');\r\n    //the hips text\r\n    $('.measure-content .text .hips p').html('');\r\n    //the waist text\r\n    $('.measure-content .text .waist p').html('');\r\n  });\r\n\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to make th <td>\r\n  var makeTd = function(k, row, rows, tableElem) {\r\n    // console.log(tableElem);\r\n    // console.log(k, row, rows);\r\n\r\n    //add the data <td>\r\n    $.each(row.values, function(l, td) {\r\n      //loop only to the rows variable\r\n      if (l <= rows) {\r\n        var content;\r\n        var fraction;\r\n        var theFraction;\r\n        // console.log(l, rows, row);\r\n\r\n        if (td.formattedValue !== undefined) {\r\n          content = td.formattedValue;\r\n          // console.log(content);\r\n          content = content.toLowerCase();\r\n          content = content.replace(' - ', '&ndash;');\r\n          content = content.replace('months', 'mos');\r\n          content = content.replace('years', 'yrs');\r\n\r\n          if (content.indexOf('inches') !== -1 || content.indexOf('pounds') !== -1) {\r\n            content = content.split('\\n');\r\n            // console.log(content);\r\n\r\n            content = content[0] + '<span>' + content[1] + '</span>';\r\n          }\r\n\r\n          if (content == 'shoe size') {\r\n            content = '<span class=\"shoe-size\">' + content + '</span>';\r\n          }\r\n\r\n\r\n          fraction = td.formattedValue;\r\n          // console.log('the fraction: ',fraction);\r\n          //for shoes + accessories if not L/XL\r\n          if (fraction !== 'L/XL' && fraction !== '2T/2' && fraction !== '3T/3' && fraction !== '4T/4') {\r\n            //if cell has two fractions example 58 1/2 - 61 1/2\r\n            if (fraction.indexOf('/') !== -1 && fraction.indexOf('-') !== -1) {\r\n              fraction = fraction.split('-');\r\n              var twoFrac = [];\r\n              $.each(fraction, function(m, frac) {\r\n                var fracArray = frac.split(' ');\r\n                $.each(fracArray, function(n, num) {\r\n                  if (num !== '') {\r\n                    twoFrac.push(num);\r\n                  }\r\n                })\r\n              });\r\n\r\n              // console.log(twoFrac);\r\n\r\n              //output\r\n              //example 61 1/2 - 64\r\n              if (twoFrac[1].indexOf('/') !== -1 && twoFrac[3] == undefined) {\r\n                var twoFracA = twoFrac[1].split('/');\r\n                twoFrac[1] = '<sup class=\"frac\">' + twoFracA[0] + '</sup>&frasl;<span class=\"frac\">' + twoFracA[1] + '</span>';\r\n                $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + twoFrac[0] + ' ' + twoFrac[1] + ' &ndash; ' + twoFrac[2] + '</td>');\r\n              }\r\n\r\n              //example 61 - 61 1/2\r\n              else if (twoFrac[1].indexOf('/') == -1 && twoFrac[2].indexOf('/') !== -1) {\r\n                var twoFracA = twoFrac[2].split('/');\r\n                twoFrac[2] = '<sup class=\"frac\">' + twoFracA[0] + '</sup>&frasl;<span class=\"frac\">' + twoFracA[1] + '</span>';\r\n                $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + twoFrac[0] + ' &ndash; ' + twoFrac[1] + ' ' + twoFrac[2] + '</td>');\r\n              }\r\n\r\n              //example 58 1/2 - 61 1/2\r\n              else if (twoFrac[1].indexOf('/') !== -1 && twoFrac[1] !== undefined && twoFrac[3].indexOf('/') !== -1 && twoFrac[3] !== undefined) {\r\n\r\n                var twoFracA = twoFrac[1].split('/');\r\n                twoFrac[1] = '<sup class=\"frac\">' + twoFracA[0] + '</sup>&frasl;<span class=\"frac\">' + twoFracA[1] + '</span>';\r\n\r\n                var twoFracB = twoFrac[3].split('/');\r\n                twoFrac[3] = '<sup class=\"frac\">' + twoFracB[0] + '</sup>&frasl;<span class=\"frac\">' + twoFracB[1] + '</span>';\r\n                $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + twoFrac[0] + ' ' + twoFrac[1] + ' &ndash; ' + twoFrac[2] + ' ' + twoFrac[3] + '</td>');\r\n              }\r\n\r\n            }\r\n\r\n            //only one fraction\r\n            else {\r\n              fraction = fraction.split(' ');\r\n              $.each(fraction, function(m, frac) {\r\n                // console.log(m, frac);\r\n                if (frac.indexOf('/') !== -1) {\r\n                  theFraction = frac;\r\n                  // console.log('theFraction: ',theFraction);\r\n                }\r\n              });\r\n\r\n              //output\r\n              if (theFraction !== undefined && theFraction.indexOf('/') !== -1) {\r\n                theFraction = theFraction.split('/');\r\n                htmlFraction = '<sup class=\"frac\">' + theFraction[0] + '</sup>&frasl;<span class=\"frac\">' + theFraction[1] + '</span>';\r\n                $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + fraction[0] + ' ' + htmlFraction + '</td>');\r\n              } else {\r\n                $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + content + '</td>');\r\n              }\r\n            }\r\n\r\n            //output sizes 'L/XL','2T/2','3T/3','4T/4'\r\n          } else if (fraction == 'L/XL' || fraction == '2T/2' || fraction == '3T/3' || fraction == '4T/4') {\r\n            // console.log('yo buddy: ', fraction);\r\n            $(tableElem + ' tr[data-num=\"' + k + '\"]').append('<td>' + fraction + '</td>');\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to output the table contents\r\n  var outputTable = function(i, val, rows) {\r\n\r\n    //output the table\r\n    $.each(val.data[0].rowData, function(k, row) {\r\n      //add the row <tr>\r\n      if (k > 2) {\r\n\r\n        var tableLength = $('.size-chart-table table').length;\r\n        // console.log(tableLength);\r\n\r\n        //check if the number of rows is even or odd then add class\r\n        var tableNum = val.data[0].rowData.length - 4;\r\n\r\n        //if only one table (not shoes + accessories)\r\n        if (tableLength == 1) {\r\n\r\n          $('.size-chart-container .the-table').append('<tr data-num=\"' + k + '\"></tr>');\r\n\r\n          //add the data <td>\r\n          makeTd(k, row, rows, '.size-chart-container .the-table');\r\n        }\r\n        //if multiple tables (shoes + accessories)\r\n        else if (tableLength > 1) {\r\n          // console.log(row.values[0].formattedValue);\r\n\r\n          //only make a row if the 1st td of the row has data\r\n          if (row.values[0].formattedValue !== undefined) {\r\n\r\n            $('.size-chart-table table[data-num=\"' + i + '\"]').append('<tr data-num=\"' + k + '\"></tr>');\r\n\r\n            // console.log('more then one table\\n this is the index\\n' + i);\r\n\r\n            //add the data <td>\r\n            makeTd(k, row, rows, '.size-chart-table table[data-num=\"' + i + '\"]');\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to make table header because of shoes + accessories have multiple tables\r\n  var makeTableHeader = function(i, val, dept, subcat) {\r\n\r\n    //add new table\r\n    $('.size-chart-table').append('<table data-num=\"' + i + '\"><tr class=\"size-chart-header\"><th>' + dept + ' ' + subcat + ' size chart</th></tr></table>');\r\n    // console.log('rows: ', val);\r\n    rows = val.merges[0].endColumnIndex - 1;\r\n    colspan = val.merges[0].endColumnIndex;\r\n    // console.log(colspan);\r\n\r\n    //add colspan to .size-chart-header\r\n    $('.size-chart-table table[data-num=\"' + i + '\"] th').attr('colspan', colspan);\r\n\r\n    return rows;\r\n  };\r\n\r\n  /*-----------------------------------------------------------------------------------------*/\r\n\r\n  //function to create the tables\r\n  var makeTable = function() {\r\n    //show .the-table\r\n    $('.size-chart-table .the-table').show();\r\n\r\n    //remove all <tr> except the 1st one\r\n    var trs = $('.size-chart-table table tr');\r\n    $.each(trs, function(i, val) {\r\n      if ($(val).attr('class') !== 'size-chart-header') {\r\n        $(val).remove();\r\n      }\r\n    });\r\n\r\n    //remove all the tables except the .the-table\r\n    var tables = $('.size-chart-table table');\r\n    $.each(tables, function(i, val) {\r\n      if ($(val).attr('class') !== 'the-table') {\r\n        $(val).remove();\r\n      }\r\n    });\r\n\r\n    //the selected values\r\n    var dept = deptCat('.size-chart-container ul.department .selected', '.size-chart-container select.department');\r\n    var cat = deptCat('.size-chart-container ul.category .selected', '.size-chart-container select.category');\r\n\r\n    var sheet = sheets;\r\n\r\n    //loop through sheet and find the matched table\r\n    $.each(sheet, function(i, val) {\r\n      var sheetVal = val.data[0].rowData[2].values[0].formattedValue;\r\n      var sheetArr = sheetVal.split(':');\r\n      var sheetDept = sheetArr[0];\r\n      var sheetCatArr = sheetArr[1].split(',');\r\n      // console.log(sheetCatArr);\r\n\r\n      //if baby\r\n      if (sheetDept == 'baby') {\r\n        sheetDept = ['baby girl', 'baby boy'];\r\n      }\r\n\r\n      //check if dept matches\r\n      if (sheetDept == dept || sheetDept[0] == dept || sheetDept[1] == dept) {\r\n        //check if cat matches\r\n        $.each(sheetCatArr, function(j, category) {\r\n          if (category == cat) {\r\n            // console.log(i,val);\r\n            var rows;\r\n            var colspan;\r\n\r\n            //if newborn department or category is shoes + accessories\r\n            if (dept == 'newborn' || cat == 'shoes + accessories') {\r\n              //hide the top table\r\n              $('.size-chart-container .the-table').hide();\r\n\r\n              var subcat = val.data[0].rowData[2].values[0].formattedValue;\r\n\r\n              //if not newborn\r\n              if (dept !== 'newborn') {\r\n                subcat = subcat.split(',')[1];\r\n              } else {\r\n                //this is newborn\r\n                subcat = subcat.split(',');\r\n\r\n                if (subcat[1] !== undefined) {\r\n                  subcat = subcat[1];\r\n                } else {\r\n                  subcat = 'all categories';\r\n                }\r\n\r\n              }\r\n\r\n              // console.log(subcat);\r\n\r\n              //if girl\r\n              if (dept == 'girl') {\r\n                rows = makeTableHeader(i, val, dept, subcat);\r\n              }\r\n\r\n              //if boy || baby girl || baby baby\r\n              if (dept == 'boy' || dept == 'baby girl' || dept == 'baby boy') {\r\n                rows = makeTableHeader(i, val, dept, subcat);\r\n              }\r\n\r\n              //if newborn\r\n              if (dept == 'newborn') {\r\n                rows = makeTableHeader(i, val, dept, subcat);\r\n              }\r\n\r\n              //output the table contents\r\n              outputTable(i, val, rows);\r\n\r\n              //stop the function\r\n              return false;\r\n\r\n            } else {\r\n\r\n              rows = val.merges[0].endColumnIndex - 1;\r\n              colspan = val.merges[0].endColumnIndex;\r\n\r\n              //add colspan to .size-chart-header\r\n              $('.size-chart-header th').attr('colspan', colspan);\r\n\r\n              //output the table contents\r\n              outputTable(i, val, rows);\r\n\r\n              //stop the function\r\n              return false;\r\n            }\r\n\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n  };\r\n\r\n  //add the loading\r\n  $('.size-chart-table').append('<div style=\"text-align:center; font-size:15px; font-family:brown-pro-bold !important\" class=\"tables-loading\">LOADING...</div>');\r\n\r\n  // var sheetId = '1guudkOtlPolTXiMskAmMqplxY9NM11W6UW1hxmpPpH0';\r\n  var sheetId = '1_uxw0nK5cwnP02JM4ks9SvQo8qeXel41BgQM3a19xwY';\r\n  // var hidden = 'AIzaSyDHknRbkWGT1ozvC_H_rNtFlLsGGjXFs';\r\n  var hidden = 'AIzaSyCya37AW8ylhzoeU3FDFuUG824MfdW8wY8';\r\n\r\n  //if sheets is undefined make the $.get call else just call makeTable() and remove the loading\r\n  if (sheets == undefined) {\r\n    // console.log('no sheets');\r\n    //make the get call\r\n    $.getJSON('https://sheets.googleapis.com/v4/spreadsheets/' + sheetId + '?key=' + hidden + '&includeGridData=true', function(data) {\r\n\r\n      // console.log(data);\r\n      sheets = data.sheets;\r\n\r\n      //make the table\r\n      makeTable();\r\n\r\n      //remove the loading\r\n      $('.tables-loading').remove();\r\n    });\r\n  } else {\r\n    // console.log('sheets found');\r\n\r\n    //make the table\r\n    makeTable();\r\n\r\n    //remove the loading\r\n    $('.tables-loading').remove();\r\n\r\n  }\r\n\r\n});"],"mappings":"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"}