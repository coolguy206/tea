{"version":3,"file":"pdp-function.js","names":["$","click","e","preventDefault","dept","attr","toLowerCase","cat","indexOf","setCats","window","open"],"sources":["../pdp-function.js"],"sourcesContent":["//on .size-chart click\r\n$('.size-chart').click(function(e) {\r\n  e.preventDefault();\r\n  //console.log(e);\r\n\r\n  //get the department & category\r\n  //var dept = $('#the-dept-cat').attr('data-department').toLowerCase();\r\n  //var cat = $('#the-dept-cat').attr('data-category').toLowerCase();\r\n\r\n  //prod\r\n  var dept = $('#the-mpd').attr('data-department').toLowerCase();\r\n  var cat = $('#the-mpd').attr('data-category').toLowerCase();\r\n\r\n  //if statements\r\n  if (dept == 'kid girl' || dept == '') {\r\n    dept = 'girl';\r\n  }\r\n\r\n  if (dept == 'little girl') {\r\n    dept = 'baby girl';\r\n  }\r\n\r\n  if (dept == 'little boy') {\r\n    dept = 'baby boy';\r\n  }\r\n\r\n  if (dept.indexOf('newborn') !== -1 || dept.indexOf('layette') !== -1 ) {\r\n    dept = 'newborn';\r\n    cat = 'all categories';\r\n  }\r\n\r\n  var setCats = function() {\r\n    // console.log('function setCats: ', dept,cat);\r\n\r\n    if (cat == 'hoodies' || cat == 'tops') {\r\n      if (dept == 'girl' || dept == 'baby girl') {\r\n        cat = 'tops';\r\n      }\r\n      if (dept == 'boy' || dept == 'baby boy') {\r\n        cat = 'tees + shirts';\r\n      }\r\n    } else if (cat == 'dresses') {\r\n      cat = 'dresses';\r\n    } else if (cat == 'leggings' || cat == 'pants' || cat == 'skirts' || cat == 'bottoms') {\r\n      cat = 'bottoms';\r\n    } else if (cat == 'swimwear') {\r\n      cat = 'swim';\r\n    } else if (cat == 'outerwear' || cat == 'sweaters') {\r\n      cat = 'sweater + outerwear';\r\n    } else if (cat == 'sleepwear') {\r\n      cat = 'pajamas';\r\n    } else if (cat == 'accessories' || cat == 'shoes') {\r\n      cat = 'shoes + accessories';\r\n    } else {\r\n      if (dept == 'girl') {\r\n        // console.log('its girl defaults');\r\n        cat = 'dresses'\r\n      } else if (dept == 'boy') {\r\n        // console.log('its boy defaults');\r\n        cat = 'tees + shirts';\r\n      } \r\n      \r\n      // else if (dept == 'baby girl' || dept == 'baby boy') {\r\n        // console.log('its baby girl & baby boy defaults');\r\n        // cat = 'rompers';\r\n      // }\r\n    }\r\n\r\n    // console.log('results ',cat);\r\n  };\r\n\r\n  //set defautls\r\n  setCats();\r\n  // console.log('after setCats: ',cat);\r\n\r\n  //set the <a> to open in a new window with the URL parameters\r\n  $(this).attr('target', '_blank');\r\n  $(this).attr('href', '/here-to-help/size-chart?selectedDept=' + dept + '&selectedCat=' + cat);\r\n  window.open('/here-to-help/size-chart?selectedDept=' + dept + '&selectedCat=' + cat, '_blank');\r\n\r\n  /*\r\n  ! THIS CODE DOESN'T WORK AND NEEDS FIXING\r\n\r\n  ! FOR DEV\r\n  // var dept = 'girl';\r\n  // var cat = 'dresses';\r\n\r\n  ! THE SIZE CHART URL \r\n  var url = '/cms/size-chart/size-chart-tea-collection/1.html';\r\n\r\n  ! APPEND THE PARAMETERS AT THE END OF THE URL\r\n  var params = encodeURI('selectedDept=' + dept + '&selectedCat=' + cat);\r\n  var thisUrl = window.location.href;\r\n  \r\n  !CHECK IF HAVE PARAMETERS ALREADY\r\n  if (thisUrl.indexOf('?') !== -1) {\r\n    window.location.href = thisUrl + '&' + params;\r\n  } else {\r\n    window.location.href = thisUrl + '?' + params;\r\n  }\r\n\r\n  !MAKE THE GET CALL\r\n  $.get(url, function(data) {\r\n\r\n    !FIND THE SIZE CHART\r\n    var sizeChart = $(data).find('#size-chart-section').html();\r\n    //console.log(sizeChart);\r\n\r\n    //desktop\r\n    if ($(window).width() > 737) {\r\n      ! MAKE THE OVERLAY ELEMENT \r\n      var overlay = '<div class=\"overlay\" style=\"width:100%; height:100%; background:#000; opacity:.5; position:fixed; z-index:99999;\"></div>';\r\n\r\n      ! MAKE THE CONTENT ELEMENT\r\n      var overlayContent = $('<div class=\"overlay-content\" style=\"background: #fff; position: fixed; top: 5%; left: 29%; width: 700px; height: 87%; overflow: auto; z-index: 999999; padding-bottom: 20px;\"></div>');\r\n\r\n      //prepend overlay element to body\r\n      $('body').prepend(overlay);\r\n\r\n      //prepend overlay content element to body\r\n      $('body').prepend(overlayContent);\r\n\r\n      //append sizeChart to overlayContent\r\n      $('.overlay-content').append(sizeChart);\r\n    }\r\n\r\n    //mobile\r\n    else if ($(window).width() < 737) {\r\n\r\n      !MAKE THE CONTENT ELEMENT\r\n      var overlayContent = $('<div class=\"overlay-content\" style=\"background: #fff; position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: auto; z-index: 999999; padding-bottom: 20px;\"></div>');\r\n\r\n      //prepend overlay content element to body\r\n      $('body').prepend(overlayContent);\r\n\r\n      //append sizeChart to overlayContent\r\n      $('.overlay-content').append(sizeChart);\r\n    }\r\n\r\n    //hide the h1 in overlayContent\r\n    // $('.size-chart-container h1').text('');\r\n\r\n    //add h1 background image of the x\r\n    $('.size-chart-container h1').css({\r\n      background: \"url('https://www.teacollection.com/mas_assets/theme/tea_collection/images/static/size-chart/171121/close.png') no-repeat 24px center\",\r\n      padding: \"17px 0\"\r\n    });\r\n\r\n    //add css for hover h1 and overlay\r\n    $('.size-chart-container h1, .overlay').hover(function() {\r\n      $(this).css('cursor', 'pointer');\r\n    }, function() {\r\n      $(this).css('cursor', 'none');\r\n    });\r\n\r\n    ! CLOSE THE LIGHTBOX\r\n    $('.overlay, .size-chart-container h1').click(function() {\r\n      //remove the url parameters\r\n      var theUrl = window.location.href;\r\n      var newUrl;\r\n      if (theUrl.indexOf('?' + params) !== -1) {\r\n        newUrl = theUrl.replace('?' + params, '');\r\n      } else {\r\n        newUrl = theUrl.replace('&' + params, '');\r\n      }\r\n      window.location.href = newUrl;\r\n\r\n      //remove the elements\r\n      $('.overlay, .overlay-content').remove();\r\n    });\r\n  });\r\n*/\r\n\r\n});"],"mappings":"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"}