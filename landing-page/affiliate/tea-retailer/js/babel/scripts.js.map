{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","emailIsValid","email","test","submit","e","preventDefault","companyId","list","custom_source","firstName","val","lastName","phone","type","company","website","city","state","valid","show","hide","theData","data","attributes","list_id","properties","first_name","last_name","store_type","country","region","phone_number","console","log","JSON","stringify","ajax","url","headers","revision","success","status","xhr","setTimeout","fadeOut","fadeIn","focus"],"mappings":"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","sourcesContent":["import {\r\n  phoneConvert\r\n} from './phone.js';\r\n\r\n$(document).ready(function () {\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  $('.content-wrap form').submit(function (e) {\r\n    e.preventDefault();\r\n    var companyId = `RAd6JR`;\r\n    var list = `YmWmN9`;\r\n    var custom_source = ``;\r\n    var firstName = $('#first_name').val();\r\n    var lastName = $('#last_name').val();\r\n    var email = $('#email').val();\r\n    var phone = $('#phone').val();\r\n\r\n    var type = $(\"input[name='type']:checked\").val()\r\n    var company = $('#company').val();\r\n    var website = $('#URL').val();\r\n    var city = $('#city').val();\r\n    var state = $('#state').val();\r\n\r\n    var valid = emailIsValid(email);\r\n\r\n    if (valid) {\r\n\r\n      $('.content-wrap form .processing').show();\r\n      $('.content-wrap form button').hide();\r\n\r\n      var theData = {\r\n        data: {\r\n          type: \"subscription\",\r\n          attributes: {\r\n            list_id: list,\r\n            custom_source: custom_source,\r\n            email: email,\r\n            properties: {\r\n              first_name: firstName,\r\n              last_name: lastName,\r\n              store_type: type,\r\n              company: company,\r\n              website: website,\r\n              city: city,\r\n              country: \"United States\",\r\n              region: state,\r\n            },\r\n\r\n          }\r\n        }\r\n      }\r\n\r\n      if (phone !== ``) {\r\n        phone = phoneConvert(phone);\r\n        theData.data.attributes.phone_number = phone;\r\n      }\r\n\r\n      console.log(theData);\r\n\r\n      theData = JSON.stringify(theData);\r\n\r\n      $.ajax({\r\n        url: `https://a.klaviyo.com/client/subscriptions/?company_id=${companyId}`,\r\n        type: 'post',\r\n        data: theData,\r\n        headers: {\r\n          revision: '2023-02-22',\r\n          'content-type': 'application/json'\r\n        },\r\n        success: function (data, status, xhr) {\r\n          console.log('klaviyo success register');\r\n          // jQuery(document).trigger('klaviyoSuccess', data);\r\n          $('span.error').hide();\r\n          $('.content-wrap form .processing').hide();\r\n          $('.content-wrap form .sent').show();\r\n          // $('#emailField').val('')\r\n          setTimeout(function () {\r\n            $('.content-wrap form .sent').fadeOut();\r\n            $('.content-wrap form button').fadeIn();\r\n          }, 2000);\r\n        }\r\n      });\r\n\r\n    } else {\r\n      console.log(`email not valid`);\r\n      $('span.error').show();\r\n      $('input#email').focus();\r\n    }\r\n\r\n  });\r\n});"],"file":"scripts.js"}