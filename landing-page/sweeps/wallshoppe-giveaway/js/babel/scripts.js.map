{"version":3,"file":"scripts.js","names":["_inview","require","_phone","$","document","ready","notifiedDate","html","inview","companyId","list","custom_source","emailIsValid","email","test","on","e","val","replace","click","preventDefault","fname","lname","instagram","phone","checkbox","prop","valid","hide","show","theData","data","type","attributes","profile","properties","first_name","last_name","relationships","id","length","phoneConvert","phone_number","console","log","JSON","stringify","ajax","url","concat","headers","revision","success","status","xhr","css","addClass"],"sources":["../scripts.js"],"sourcesContent":["import {\r\n  inview\r\n} from './inview.js';\r\nimport {\r\n  phoneConvert\r\n} from './phone.js';\r\n// console.log(keys);\r\n\r\n$(document).ready(function () {\r\n\r\n  var notifiedDate = `March 30, 2025`;\r\n  $('.notified-date').html(notifiedDate);\r\n\r\n  inview('.content-wrap');\r\n\r\n  var companyId = `RAd6JR`;\r\n  var list = `SvJjsG`;\r\n  var custom_source = `SBEG0325`;\r\n\r\n  function emailIsValid(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n  }\r\n\r\n  //? force phone to only be numbers\r\n  $('.this-form input[name=\"the-phone\"]').on('input', function (e) {\r\n    $(this).val($(this).val().replace(/[^0-9]/g, ''));\r\n  });\r\n\r\n  $('.this-form form button').click(function (e) {\r\n    e.preventDefault();\r\n    // console.log(e.target);\r\n    var fname = $('.this-form input[name=\"fname\"]').val();\r\n    var lname = $('.this-form input[name=\"lname\"]').val();\r\n    var instagram = $('.this-form input[name=\"instagram\"]').val();\r\n    var email = $('.this-form input[name=\"email\"]').val();\r\n    // var childAge = $('.this-form input[name=\"childAge\"]').val();\r\n    var phone = $('.this-form input[name=\"the-phone\"]').val();\r\n    var checkbox = $('.this-form input[type=checkbox]').prop('checked');\r\n    var valid = emailIsValid(email);\r\n    // console.log(`\r\n    //   fname: ${fname}\r\n    //   lname: ${lname}\r\n    //   email: ${email}\r\n    //   checkbox: ${checkbox}\r\n    //   valid: ${valid}`);\r\n\r\n    if (valid && checkbox && fname !== '' && lname !== '' && instagram !== '') {\r\n      $('.this-form form').hide();\r\n      $('.this-form .sending').show();\r\n\r\n      var theData = {\r\n        data: {\r\n          type: \"subscription\",\r\n          attributes: {\r\n            profile: {\r\n              data: {\r\n                type: \"profile\",\r\n                attributes: {\r\n                  properties: { instagram: instagram },\r\n                  first_name: fname,\r\n                  last_name: lname,\r\n                  email: email,\r\n                },\r\n              }\r\n            },\r\n            custom_source: custom_source\r\n          },\r\n          relationships: {\r\n            list: { data: { type: \"list\", id: list } }\r\n          }\r\n        }\r\n      }\r\n\r\n      // if (childAge !== ``) {\r\n      //   theData.data.attributes.properties.child_age = childAge;\r\n      // }\r\n\r\n      if (phone !== `` && phone.length == 10) {\r\n        phone = phoneConvert(phone);\r\n        theData.data.attributes.profile.data.attributes.phone_number = phone;\r\n      }\r\n\r\n      console.log(theData);\r\n\r\n      theData = JSON.stringify(theData);\r\n\r\n      $.ajax({\r\n        url: `https://a.klaviyo.com/client/subscriptions/?company_id=${companyId}`,\r\n        type: 'post',\r\n        data: theData,\r\n        headers: {\r\n          revision: '2024-10-15',\r\n          'content-type': 'application/json'\r\n        },\r\n        success: function (data, status, xhr) {\r\n          console.log('klaviyo success register');\r\n          // jQuery(document).trigger('klaviyoSuccess', data);\r\n          $('.this-form .sending').hide();\r\n          $('.this-form .successfully-sent').show();\r\n        }\r\n      });\r\n\r\n    } else {\r\n      console.log('error');\r\n      $('.this-form .sending').hide();\r\n      $('.this-form form').show();\r\n      $('.this-form .this-error').css('display', 'block');\r\n      $('.this-form input[name=\"fname\"], .this-form input[name=\"lname\"], .this-form input[name=\"instagram\"], .this-form input[name=\"email\"], .this-form input[type=checkbox]').addClass('error-border')\r\n      // $('.this-form input').focus();\r\n    }\r\n  });\r\n\r\n});"],"mappings":"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","ignoreList":[]}