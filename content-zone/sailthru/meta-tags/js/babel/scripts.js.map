{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","url","window","location","href","color","text","toLowerCase","mpd","json","JSON","parse","gender","attr","category","colorTag","colorName","thePrice","priceTag","imgURL","sku","sig","price","inventory","Number","tags","replace","each","parent_data","i","val","thisColor","indexOf","large_image_url","theSku","split","store_price","substring","slice","undefined","Sailthru","track","onSuccess","console","log","onError"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B,MAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA1B;AAEA,MAAIC,KAAK,GAAGP,CAAC,CAAC,iDAAD,CAAD,CAAqDQ,IAArD,GAA4DC,WAA5D,EAAZ,CAH2B,CAI3B;;AAGA,MAAIC,GAAG,GAAGV,CAAC,CAAC,UAAD,CAAD,CAAcQ,IAAd,EAAV;AACA,MAAIG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAX;AACA,MAAII,MAAM,GAAGd,CAAC,CAAC,UAAD,CAAD,CAAce,IAAd,CAAmB,iBAAnB,EAAsCN,WAAtC,EAAb;AACA,MAAIO,QAAQ,GAAGhB,CAAC,CAAC,UAAD,CAAD,CAAce,IAAd,CAAmB,eAAnB,EAAoCN,WAApC,EAAf;AACA,MAAIQ,QAAQ,GAAGjB,CAAC,CAAC,UAAD,CAAD,CAAce,IAAd,CAAmB,YAAnB,EAAiCN,WAAjC,EAAf;AACA,MAAIS,SAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,MAAJ;AACA,MAAIC,GAAJ;AACA,MAAIC,GAAJ;AACA,MAAIC,KAAJ;AACA,MAAIC,SAAS,GAAGC,MAAM,CAAC1B,CAAC,CAAC,wBAAD,CAAD,CAA4Be,IAA5B,CAAiC,SAAjC,CAAD,CAAtB;AACA,MAAIY,IAAI,+FAAwFb,MAAxF,eAAmGE,QAAnG,CAAR;;AACA,MAAIC,QAAQ,KAAK,EAAjB,EAAqB;AACnBU,IAAAA,IAAI,aAAMA,IAAN,eAAeV,QAAf,CAAJ;AACD,GAvB0B,CAwB3B;;;AAGAV,EAAAA,KAAK,GAAGA,KAAK,CAACqB,OAAN,CAAc,MAAd,EAAsB,GAAtB,CAAR;AAEA5B,EAAAA,CAAC,CAAC6B,IAAF,CAAOlB,IAAI,CAACmB,WAAZ,EAAyB,UAASC,CAAT,EAAYC,GAAZ,EAAiB;AACxC,QAAIC,SAAS,GAAGD,GAAG,CAACzB,KAApB;AACA0B,IAAAA,SAAS,GAAGA,SAAS,CAACxB,WAAV,EAAZ;;AAGA,QAAIwB,SAAS,CAACC,OAAV,CAAkB3B,KAAlB,MAA6B,CAAC,CAAlC,EAAqC;AAEnCc,MAAAA,MAAM,GAAGW,GAAG,CAACG,eAAb;AAEAjB,MAAAA,SAAS,GAAGe,SAAZ;AAEA,UAAIG,MAAM,GAAGJ,GAAG,CAACV,GAAjB;AACAc,MAAAA,MAAM,GAAGA,MAAM,CAACC,KAAP,CAAa,GAAb,CAAT;AACAD,MAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAN,GAAY,GAAZ,GAAkBA,MAAM,CAAC,CAAD,CAAjC;AACAd,MAAAA,GAAG,GAAGc,MAAN,CATmC,CAUnC;;AAEAjB,MAAAA,QAAQ,GAAGa,GAAG,CAACM,WAAf;AACAnB,MAAAA,QAAQ,GAAGO,MAAM,CAACP,QAAQ,CAACoB,SAAT,CAAmB,CAAnB,CAAD,CAAjB;AAEAf,MAAAA,KAAK,GAAGQ,GAAG,CAACM,WAAZ;AACAd,MAAAA,KAAK,GAAGE,MAAM,CAACF,KAAK,CAACgB,KAAN,CAAY,CAAZ,CAAD,CAAN,GAAyB,GAAjC,CAhBmC,CAkBnC;AACD;AACF,GAzBD,EA7B2B,CAyD3B;;AAEA,MAAIrB,QAAQ,IAAI,EAAhB,EAAoB;AAClBC,IAAAA,QAAQ,eAAR;AACD,GAFD,MAEO,IAAID,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,IAAI,EAAjC,EAAqC;AAC1CC,IAAAA,QAAQ,gBAAR;AACD,GAFM,MAEA,IAAID,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,IAAI,EAAjC,EAAqC;AAC1CC,IAAAA,QAAQ,gBAAR;AACD,GAFM,MAEA,IAAID,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,IAAI,GAAjC,EAAsC;AAC3CC,IAAAA,QAAQ,iBAAR;AACD,GAFM,MAEA,IAAID,QAAQ,GAAG,GAAf,EAAoB;AACzBC,IAAAA,QAAQ,eAAR;AACD,GArE0B,CAuE3B;;;AAEAO,EAAAA,IAAI,aAAMA,IAAN,eAAeT,SAAf,eAA6BE,QAA7B,CAAJ;;AAEA,MAAIO,IAAI,KAAKc,SAAb,EAAwB;AACtBzC,IAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCe,IAAhC,CAAqC,SAArC,EAAgDY,IAAhD;AACD;;AAED,MAAIN,MAAM,KAAKoB,SAAf,EAA0B;AACxBzC,IAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCe,IAAtC,CAA2C,SAA3C,EAAsDM,MAAtD;AACD;;AAED,MAAIC,GAAG,KAAKmB,SAAZ,EAAuB;AACrBzC,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBe,IAAtB,CAA2B,SAA3B,EAAsCO,GAAtC;AACD;;AAED,MAAIE,KAAK,KAAKiB,SAAd,EAAyB;AACvBzC,IAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiCe,IAAjC,CAAsC,SAAtC,EAAiDS,KAAjD;AACD;;AAEDkB,EAAAA,QAAQ,CAACC,KAAT,CAAe,UAAf,EAA2B;AACzB,WAAOxC,GADkB;AAEzByC,IAAAA,SAAS,EAAE,qBAAW;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,KAJwB;AAKzBC,IAAAA,OAAO,EAAE,mBAAW;AAClBF,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD;AAPwB,GAA3B;AAUD,CArGD","sourcesContent":["$(document).ready(function() {\r\n  var url = window.location.href;\r\n\r\n  var color = $('.pdp-item-details-attributes dt .selected-value').text().toLowerCase();\r\n  // console.log(`color: ${color}`);\r\n\r\n\r\n  var mpd = $('#the-mpd').text();\r\n  var json = JSON.parse(mpd);\r\n  var gender = $('#the-mpd').attr('data-department').toLowerCase();\r\n  var category = $('#the-mpd').attr('data-category').toLowerCase();\r\n  var colorTag = $('#the-mpd').attr('data-color').toLowerCase();\r\n  var colorName;\r\n  var thePrice;\r\n  var priceTag;\r\n  var imgURL;\r\n  var sku;\r\n  var sig;\r\n  var price;\r\n  var inventory = Number($('meta[name=\"inventory\"]').attr('content'));\r\n  var tags = `tea, tea-collection, kids-clothes, children-clothes, kids-clothing, kids-outfits, ${gender}, ${category}`;\r\n  if (colorTag !== \"\") {\r\n    tags = `${tags}, ${colorTag}`;\r\n  }\r\n  // console.log(`inventory: ${inventory}`);\r\n\r\n\r\n  color = color.replace(/%20/g, \" \");\r\n\r\n  $.each(json.parent_data, function(i, val) {\r\n    var thisColor = val.color;\r\n    thisColor = thisColor.toLowerCase();\r\n\r\n\r\n    if (thisColor.indexOf(color) !== -1) {\r\n\r\n      imgURL = val.large_image_url;\r\n\r\n      colorName = thisColor;\r\n\r\n      var theSku = val.sku;\r\n      theSku = theSku.split('-');\r\n      theSku = theSku[0] + '-' + theSku[1];\r\n      sku = theSku;\r\n      // console.log(theSku);\r\n\r\n      thePrice = val.store_price;\r\n      thePrice = Number(thePrice.substring(1));\r\n\r\n      price = val.store_price;\r\n      price = Number(price.slice(1)) * 100;\r\n\r\n      //console.log(price);\r\n    }\r\n  });\r\n\r\n\r\n  // console.log(`thePrice: ${thePrice}`);\r\n\r\n  if (thePrice <= 25) {\r\n    priceTag = `price-0-25`;\r\n  } else if (thePrice > 25 && thePrice <= 50) {\r\n    priceTag = `price-25-50`;\r\n  } else if (thePrice > 50 && thePrice <= 75) {\r\n    priceTag = `price-50-75`;\r\n  } else if (thePrice > 75 && thePrice <= 100) {\r\n    priceTag = `price-75-100`;\r\n  } else if (thePrice > 100) {\r\n    priceTag = `price-100+`\r\n  }\r\n\r\n  // console.log(`priceTag: ${priceTag}`);\r\n\r\n  tags = `${tags}, ${colorName}, ${priceTag}`\r\n\r\n  if (tags !== undefined) {\r\n    $('meta[name=\"sailthru.tags\"]').attr('content', tags);\r\n  }\r\n\r\n  if (imgURL !== undefined) {\r\n    $('meta[name=\"sailthru.image.full\"]').attr('content', imgURL);\r\n  }\r\n\r\n  if (sku !== undefined) {\r\n    $('meta[name=\"sku\"]').attr('content', sku);\r\n  }\r\n\r\n  if (price !== undefined) {\r\n    $('meta[name=\"sailthru.price\"]').attr('content', price);\r\n  }\r\n\r\n  Sailthru.track('pageview', {\r\n    \"url\": url,\r\n    onSuccess: function() {\r\n      console.log('trackPageView success');\r\n    },\r\n    onError: function() {\r\n      console.log('trackPageView failure');\r\n    }\r\n  });\r\n\r\n});\r\n"],"file":"scripts.js"}