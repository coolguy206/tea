{"version":3,"sources":["../scripts.js"],"names":["$","document","ready","id","Sailthru","init","customerId","isCustom","personalize","sections","vars","onSuccess","data","jsonArr","JSON","parse","json","console","log","each","i","val","url","img","image","price","toFixed","title","undefined","indexOf","elem","append","bxSlider","minSlides","maxSlides","slideWidth","moveSlides","controls","nextText","prevText","pager","onError","err"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AAC3B;AACA;AACA;AAEA;AACA,MAAIC,EAAE,yCAAN,CAN2B,CAQ3B;AACA;;AAEAC,EAAAA,QAAQ,CAACC,IAAT,CAAc;AACZC,IAAAA,UAAU,EAAE,kCADA;AAEZC,IAAAA,QAAQ,EAAE;AAFE,GAAd;AAMAH,EAAAA,QAAQ,CAACI,WAAT,CAAqB;AAEnBC,IAAAA,QAAQ,EAAE,CAAC;AACTN,MAAAA,EAAE,EAAEA;AADK,KAAD,CAFS;AAKnBO,IAAAA,IAAI,EAAE,EALa;AAMnBC,IAAAA,SAAS,EAAE,mBAASC,IAAT,EAAe;AACxB;AAEA,UAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACT,EAAD,CAAJ,CAASa,IAApB,CAAd,CAHwB,CAKxB;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AAEAb,MAAAA,CAAC,CAACmB,IAAF,CAAON,OAAP,EAAgB,UAASO,CAAT,EAAYC,GAAZ,EAAiB;AAE/B,YAAIC,GAAG,GAAGD,GAAG,CAACC,GAAd;AACA,YAAIC,GAAG,GAAGF,GAAG,CAACG,KAAd;AACA,YAAIC,KAAK,GAAGJ,GAAG,CAACI,KAAhB;AACAA,QAAAA,KAAK,GAAGA,KAAK,GAAG,GAAhB;AACAA,QAAAA,KAAK,GAAGA,KAAK,CAACC,OAAN,CAAc,CAAd,CAAR;AACA,YAAIC,KAAK,GAAGN,GAAG,CAACM,KAAhB,CAP+B,CAS/B;;AACA,YAAIL,GAAG,KAAKM,SAAR,IAAqBN,GAAG,CAACO,OAAJ,CAAY,aAAZ,KAA8B,CAAC,CAApD,IAAyDP,GAAG,CAACO,OAAJ,CAAY,UAAZ,KAA2B,CAAC,CAAzF,EAA4F;AAC1F;AACA,cAAIN,GAAG,KAAKK,SAAR,IAAqBH,KAAK,KAAKG,SAA/B,IAA4CD,KAAK,KAAKC,SAA1D,EAAqE;AACnE,gBAAIE,IAAI,yDAEKR,GAFL,6CAGQC,GAHR,sBAGqBI,KAHrB,oFAMOL,GANP,gBAMeK,KANf,uGASwBF,KATxB,mDAAR;AAaAzB,YAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,MAApB,CAA2BD,IAA3B;AACD;AAEF;AAGF,OAhCD;AAkCA9B,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBgC,QAApB,CAA6B;AAC3BC,QAAAA,SAAS,EAAE,CADgB;AAE3BC,QAAAA,SAAS,EAAE,CAFgB;AAG3BC,QAAAA,UAAU,EAAE,GAHe;AAI3BC,QAAAA,UAAU,EAAE,CAJe;AAK3BC,QAAAA,QAAQ,EAAE,IALiB;AAM3BC,QAAAA,QAAQ,EAAE,4CANiB;AAO3BC,QAAAA,QAAQ,EAAE,2CAPiB;AAQ3BC,QAAAA,KAAK,EAAE;AARoB,OAA7B;AAWD,KA3DkB;AA4DnBC,IAAAA,OAAO,EAAE,iBAASC,GAAT,EAAc;AACrBzB,MAAAA,OAAO,CAACC,GAAR,CAAYwB,GAAZ;AACD;AA9DkB,GAArB;AAkED,CAnFD","sourcesContent":["$(document).ready(function() {\r\n  //popular or trending\r\n  // var id = '8286a49c-84e0-11ea-91cc-002590d1a41a';\r\n  // console.log(id);\r\n\r\n  //context or viewed\r\n  var id = `2c3a95ec-a5cb-11ea-87c0-002590d1a2f6`;\r\n\r\n  //viewed or purchased\r\n  // var id = `134796ac-8591-11ea-b811-002590d1a41a`;\r\n\r\n  Sailthru.init({\r\n    customerId: '856bfba3e6c8f69c9faad446ffedbce0',\r\n    isCustom: true,\r\n  });\r\n\r\n\r\n  Sailthru.personalize({\r\n\r\n    sections: [{\r\n      id: id\r\n    }],\r\n    vars: {},\r\n    onSuccess: function(data) {\r\n      //console.log(data);\r\n\r\n      var jsonArr = JSON.parse(data[id].json);\r\n\r\n      // console.log(typeof jsonArr);\r\n      console.log(jsonArr);\r\n\r\n      $.each(jsonArr, function(i, val) {\r\n\r\n        var url = val.url;\r\n        var img = val.image;\r\n        var price = val.price;\r\n        price = price / 100;\r\n        price = price.toFixed(2);\r\n        var title = val.title;\r\n\r\n        // console.log(url, img, price, title);\r\n        if (url !== undefined && url.indexOf('teashowroom') == -1 && url.indexOf('sandbox.') == -1) {\r\n          // console.log('tea pdp');\r\n          if (img !== undefined && price !== undefined && title !== undefined) {\r\n            var elem = `\r\n            <li>\r\n              <a href=\"${url}\">\r\n                <img src=\"${img}\" alt=\"${title}\">\r\n              </a>\r\n              <h3>\r\n                <a href=\"${url}\">${title}</a>\r\n              </h3>\r\n              <p>\r\n                <span class=\"sale_price\">$${price}</span>\r\n              </p>\r\n            </li>`;\r\n\r\n            $('.sailthru-list').append(elem);\r\n          }\r\n\r\n        }\r\n\r\n\r\n      });\r\n\r\n      $('.sailthru-list').bxSlider({\r\n        minSlides: 1,\r\n        maxSlides: 4,\r\n        slideWidth: 300,\r\n        moveSlides: 1,\r\n        controls: true,\r\n        nextText: '<span class=\"fas fa-chevron-right\"></span>',\r\n        prevText: '<span class=\"fas fa-chevron-left\"></span>',\r\n        pager: false\r\n      });\r\n\r\n    },\r\n    onError: function(err) {\r\n      console.log(err);\r\n    }\r\n\r\n  });\r\n\r\n});\r\n"],"file":"scripts.js"}