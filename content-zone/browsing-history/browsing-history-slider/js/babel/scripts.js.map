{"version":3,"file":"scripts.js","names":["_inview","require","_glide","_interopRequireDefault","obj","__esModule","$","document","ready","url","window","location","pathname","browsingHistory","localStorage","getItem","browsingHistoryLength","length","JSON","parse","items","reverse","map","val","i","pdpURL","undefined","urlParams","qv","concat","pdpColor","pdpName","elem","pdpImgURL","pdpPrice","pdpSizes","append","btn","css","innerWidth","Glide","type","animationDuration","perView","hoverpause","gap","bound","rewind","breakpoints","perSwipe","mount","hide","addClass","inview"],"sources":["../scripts.js"],"sourcesContent":["\r\nimport {\r\n  inview\r\n} from './inview.js';\r\nimport Glide from '@glidejs/glide'\r\n\r\n$(document).ready(function () {\r\n\r\n  var url = window.location.pathname;\r\n  // console.log(`url: ${url}`);\r\n\r\n  if (url !== '/product/EGIFTCARD-999-NS/tea-collection-gift-certificate-gift-card.html') {\r\n\r\n    var browsingHistory = window.localStorage.getItem('browseHistory');\r\n    // console.log(browsingHistory);\r\n\r\n    var browsingHistoryLength = $('.browsing-history li').length;\r\n    // console.log(`browsingHistoryLength: ${browsingHistoryLength}`)\r\n\r\n    if (browsingHistory !== null && browsingHistoryLength == 0) {\r\n\r\n      browsingHistory = JSON.parse(browsingHistory);\r\n      // console.log(browsingHistory);\r\n\r\n      var items = browsingHistory.reverse();\r\n\r\n      items.map((val, i) => {\r\n        // console.log(i);\r\n        // console.log(val[0]);\r\n\r\n        if (i < 15) {\r\n          // var color = val[0].Url;\r\n          // color = color.split('#')[1];\r\n\r\n          // var promoClass = \"promo-teaser-thumb\";\r\n          // var strike = val[0].Metadata.CompareAtPrice;\r\n          // if (strike == val[0].Metadata.Price) {\r\n          //   strike = \"\";\r\n          //   promoClass = \"\";\r\n          // }\r\n\r\n          //! QUICK VIEW DOESN'T WORK... KEEPS ADDING MORE ITEMS TO SLIDESHOW\r\n          // var qv = `<span data-href=\"${url}\" data-color=\"${color}\" class=\"js-qv \">Quick View</span>`;\r\n          // //? ONLY SHOW QUICK VIEW IF NOT ON PDP PAGE\r\n          // var thisPageUrl = window.location.pathname;\r\n          // if(thisPageUrl.indexOf('product') !== -1){\r\n          //   qv = \"\";\r\n          // }\r\n\r\n          if (val.pdpURL !== undefined) {\r\n\r\n            var urlParams = `?utm_campaign=recently_viewed&utm_medium=recently_viewed&utm_source=recently_viewed`;\r\n\r\n            var qv = `<span data-href=\"${val.pdpURL}\" data-color=\"${val.pdpColor}\" class=\"js-qv ${val.pdpName}\">Quick View</span>`;\r\n\r\n            var elem = `\r\n                        <li>\r\n                            <div class=\"thumb-grid item\">\r\n                                <span class=\"img\">\r\n                                    <a href=\"${val.pdpURL}${urlParams}\"\r\n                                        data-hash=\"\" class=\"browsing-history ${val.pdpName}\">\r\n                                        <img class=\"image\" src=\"${val.pdpImgURL}\" alt=\"${val.pdpName}\" width=\"500\" height=\"500\">\r\n                                    </a>\r\n                                    ${qv}\r\n                                </span>\r\n                                <div class=\"thumb-content\">\r\n                                    <a class=\"name browsing-history\"\r\n                                        href=\"${val.pdpURL}${urlParams}\"\r\n                                        data-hash=\"\">\r\n                                        <span class=\"model\">${val.pdpName}</span>\r\n                                    </a>\r\n                        \r\n                                    <div class=\"price-wrap\">\r\n                                        <div class=\"price\">\r\n                                            <strike></strike>\r\n                                            <span id=\"store_price\" class=\"price \">${val.pdpPrice}</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <p class=\"size\">\r\n                                      <span class=\"thumb-sizes\">\r\n                                        ${val.pdpSizes}\r\n                                      </span>\r\n                                    </p>\r\n                        \r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        `;\r\n\r\n            $('.browsing-history ul').append(elem);\r\n\r\n            var btn = `<button class=\"glide__bullet\" data-glide-dir=\"=${i}\"></button>`;\r\n            $('div[data-glide-el=\"controls[nav]\"]').append(btn);\r\n          }\r\n        }\r\n      })\r\n\r\n\r\n      $('.browsing-history').css('opacity', 1);\r\n\r\n      //? IF BOUGHT ITEMS ARE MORE THAN 5 EXECUTE SLIDER\r\n      if ($('.browsing-history li').length >= 5 || window.innerWidth < 431) {\r\n        new Glide('.browsing-history .glide', {\r\n          type: 'slider',\r\n          // autoplay: 4000,\r\n          animationDuration: 500,\r\n          perView: 4,\r\n          hoverpause: true,\r\n          gap: 0,\r\n          bound: true,\r\n          rewind: false,\r\n          breakpoints: {\r\n            821: {\r\n              perView: 3,\r\n              perSwipe: '|',\r\n            },\r\n            431: {\r\n              perView: 1,\r\n              perSwipe: '|',\r\n            },\r\n          }\r\n        }).mount();\r\n      } else {\r\n        //? BOUGHT ITEMS ARE LESS THAN 5 HIDE SCROLL ARROWS AND ADD CLASS WIDTH-300\r\n        $('.browsing-history div[data-glide-el=\"controls\"]').hide();\r\n        $('.browsing-history ul').addClass('width-300');\r\n      }\r\n\r\n    } else {\r\n      $('.browsing-history').hide();\r\n    }\r\n\r\n    inview('.browsing-history');\r\n\r\n  }\r\n\r\n});"],"mappings":"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"}