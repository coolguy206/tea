{"version":3,"file":"scripts.js","names":["$","document","ready","url","window","location","pathname","pdpInfo","dataLayer","each","i","val","pdpEvent","console","log","json","browseHistory","localStorage","getItem","obj","JSON","stringify","setItem","parse","length","shift","push","splice"],"sources":["../scripts.js"],"sourcesContent":["\r\n$(document).ready(function () {\r\n\r\n    //? FOR TESTING TO REMOVE BROWSEHISTORY LOCALSTORAGE\r\n    //console.log(`remove browseHistory`);\r\n    //localStorage.removeItem(\"browseHistory\");\r\n\r\n    var url = window.location.pathname;\r\n    // console.log(`url: ${url}`);\r\n\r\n    if (url !== '/product/EGIFTCARD-999-NS/tea-collection-gift-certificate-gift-card.html') {\r\n\r\n        var pdpInfo = dataLayer;\r\n        $(pdpInfo).each(function (i, val) {\r\n            // console.log(i);\r\n            // console.log(val);\r\n            if (val.pdpEvent == 'pdp to local storage') {\r\n                console.log(`found it`);\r\n                console.log(val);\r\n                pdpInfo = val;\r\n            }\r\n        });\r\n\r\n        var json = ``;\r\n        var browseHistory = localStorage.getItem(\"browseHistory\");\r\n\r\n        if (browseHistory == null) {\r\n\r\n            var obj = [pdpInfo];\r\n            json = JSON.stringify(obj);\r\n            console.log(`no browseHistory`)\r\n            // console.log(obj);\r\n            // console.log(json);\r\n            localStorage.setItem(\"browseHistory\", json);\r\n        } else {\r\n            console.log(`browseHistory found`);\r\n            browseHistory = JSON.parse(browseHistory);\r\n            console.log(browseHistory)\r\n\r\n            if (browseHistory.length >= 16) {\r\n                console.log(`browseHistory at 16 remove 1st item`);\r\n                browseHistory.shift();\r\n                browseHistory.push(pdpInfo);\r\n                console.log(browseHistory);\r\n\r\n            } else {\r\n                browseHistory.push(pdpInfo);\r\n            }\r\n\r\n            //? CHECK IF ANY ARE NULL THEN REMOVE FROM ARRAY\r\n            $(browseHistory).each(function (i, val) {\r\n                if (val == null) {\r\n                    browseHistory.splice(i, 1);\r\n                }\r\n            })\r\n\r\n            json = JSON.stringify(browseHistory);\r\n            // console.log(browseHistory);\r\n            // console.log(json);\r\n            localStorage.setItem(\"browseHistory\", json);\r\n        }\r\n\r\n    }\r\n});\r\n\r\n"],"mappings":";;AACAA,CAAC,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAY;EAE1B;EACA;EACA;;EAEA,IAAIC,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ;EAClC;;EAEA,IAAIH,GAAG,KAAK,0EAA0E,EAAE;IAEpF,IAAII,OAAO,GAAGC,SAAS;IACvBR,CAAC,CAACO,OAAO,CAAC,CAACE,IAAI,CAAC,UAAUC,CAAC,EAAEC,GAAG,EAAE;MAC9B;MACA;MACA,IAAIA,GAAG,CAACC,QAAQ,IAAI,sBAAsB,EAAE;QACxCC,OAAO,CAACC,GAAG,WAAW,CAAC;QACvBD,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;QAChBJ,OAAO,GAAGI,GAAG;MACjB;IACJ,CAAC,CAAC;IAEF,IAAII,IAAI,KAAK;IACb,IAAIC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;IAEzD,IAAIF,aAAa,IAAI,IAAI,EAAE;MAEvB,IAAIG,GAAG,GAAG,CAACZ,OAAO,CAAC;MACnBQ,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACF,GAAG,CAAC;MAC1BN,OAAO,CAACC,GAAG,mBAAmB,CAAC;MAC/B;MACA;MACAG,YAAY,CAACK,OAAO,CAAC,eAAe,EAAEP,IAAI,CAAC;IAC/C,CAAC,MAAM;MACHF,OAAO,CAACC,GAAG,sBAAsB,CAAC;MAClCE,aAAa,GAAGI,IAAI,CAACG,KAAK,CAACP,aAAa,CAAC;MACzCH,OAAO,CAACC,GAAG,CAACE,aAAa,CAAC;MAE1B,IAAIA,aAAa,CAACQ,MAAM,IAAI,EAAE,EAAE;QAC5BX,OAAO,CAACC,GAAG,sCAAsC,CAAC;QAClDE,aAAa,CAACS,KAAK,CAAC,CAAC;QACrBT,aAAa,CAACU,IAAI,CAACnB,OAAO,CAAC;QAC3BM,OAAO,CAACC,GAAG,CAACE,aAAa,CAAC;MAE9B,CAAC,MAAM;QACHA,aAAa,CAACU,IAAI,CAACnB,OAAO,CAAC;MAC/B;;MAEA;MACAP,CAAC,CAACgB,aAAa,CAAC,CAACP,IAAI,CAAC,UAAUC,CAAC,EAAEC,GAAG,EAAE;QACpC,IAAIA,GAAG,IAAI,IAAI,EAAE;UACbK,aAAa,CAACW,MAAM,CAACjB,CAAC,EAAE,CAAC,CAAC;QAC9B;MACJ,CAAC,CAAC;MAEFK,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACL,aAAa,CAAC;MACpC;MACA;MACAC,YAAY,CAACK,OAAO,CAAC,eAAe,EAAEP,IAAI,CAAC;IAC/C;EAEJ;AACJ,CAAC,CAAC"}