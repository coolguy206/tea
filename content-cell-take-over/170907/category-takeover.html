
{literal}
<style>
.single-item-box img {
	max-width:100%;
}
</style>

<script>
    jQuery(document).ready(function() {

    	var baseUrl = 'https://www.teacollection.com/mas_assets/theme/tea_collection/images/categories/headers/170907/';
    	var productUrl = 'https://www.teacollection.com/product/';
    	var urlPath = window.location.pathname;

        //if mobile window width change
        if($(window).width()< 737){
            $(window).resize(function(){
                //get the new height
                var height = Math.round($('.single-item-box')[1].getBoundingClientRect().height * 10)/10;

                //change the height on the items
                var items = $('.single-item-box');
                $(items).each(function(i,val){
                    //if has class cell
                    var yes = $(val).hasClass('cell');
                    if(yes){
                        $(val).css({'height': height, 'overflow':'hidden'});
                    }
                });
                // $('.single-item-box').hasClass('cell').css({'height': height, 'overflow':'hidden'});
            });
        }

        //function to output to page
    	var outPut = function(num, productUrl, code, baseUrl, val, prev){

    		var elem;

    		//if desktop
    		if($(window).width() > 768){
              
    			//make the element if has url or not
    			if(code !== ''){
    				elem = '<section class="item cell'+num+'"><a href="'+productUrl+code+'"><img src="'+baseUrl+val.img+'-d.jpg" alt="content cell '+ num +'"></a></section>';
    			} else {
    				elem = '<section class="item cell'+num+'"><img src="'+baseUrl+val.img+'-d.jpg" alt="content cell '+ num +'"></section>';
    			}

                //output item to page
                if(num !== null){
                    jQuery('.items-list-wrapper .item').eq(prev).before(elem);
                }

    			
    		}

    		// if mobile
    		else {
                //get the height
                var height = Math.round($('.single-item-box')[1].getBoundingClientRect().height * 10)/10;

                // add a space between products 
                // for girls tea active only
                // comment this code out for boys tea active
                if(num == 22){
                    elem = '<div class="single-item-box cell" style="height:'+height+'px; overflow:hidden;"></div><div class="single-item-box cell" style="height:'+height+'px; overflow:hidden;"><a href="'+productUrl+code+'"><img src="'+baseUrl+val.img+'-m.jpg" alt="content cell '+ num +'"></a></div>';
                }
    			//make the element if has url or not
    			else if(code !== ''){
    				elem = '<div class="single-item-box cell" style="height:'+height+'px; overflow:hidden;"><a href="'+productUrl+code+'"><img src="'+baseUrl+val.img+'-m.jpg" alt="content cell '+ num +'"></a></div>';
    			} else {
    				elem = '<div class="single-item-box cell" style="height:'+height+'px; overflow:hidden;"><img src="'+baseUrl+val.img+'-m.jpg" alt="content cell '+ num +'"></div>';
    			}

    			//output item to mobile page
                if(num !== null){
                    jQuery('.thumb-wrapper .single-item-box').eq(prev).before(elem);
                }
    		}
    	};

    	//the content cell take over
    	var images = [
    		{img:'170907-colorblock-zip-hoodie-cell', url:'7F22126', g:22,b:1},
    		{img:'170907-celtic-park-sport-tee-cell', url:'7F22122', g:30,b:9},
    		{img:'170907-zip-pocket-joggers-pine-cell', url:'7f22203/zip-pocket-joggers.html#scotch pine', g:35,b:14},
    		{img:'170907-zip-pocket-joggers-oasis-cell', url:'7f22203/zip-pocket-joggers.html#oasis', g:null, b:null},
            {img:'170907-meow-sport-hoodie-cell', url:'7F12129', g:1,b:19},
            {img:'170907-colorblock-sport-leggings-berry-cell', url:'7F12210', g:6,b:24},
            {img:'170907-colorblock-sport-leggings-pink-cell', url:'7f12210/colorblock-sport-leggings.html#parasol pink', g:10,b:28},
            {img:'170907-dealan-de-3d-popover-cell', url:'7f12113/dealan-de-3d-popover.html#shocking fuschia',g:17,b:35},
    	];

        //make new empty array for sorted content cell take over
        var orderedImages = [];

        //sort the content cell take over based on if girl or boy page
        //if girl
        if(urlPath == '/girls-girl-active'){
            orderedImages = images.sort(function(obj1, obj2){
                var first = obj1.g;
                var second = obj2.g;
                return first - second;
            });
        }

        // if boy
        else if (urlPath == '/boys/tea-active'){
            orderedImages = images.sort(function(obj1, obj2){
                var first = obj1.b;
                var second = obj2.b;
                return first - second;
            });
        } 

        
        //loop through the content cell take overs
    	$(orderedImages).each(function(i,val){

    		//if girl
    		if(urlPath == '/girls-girl-active'){
    			var num = val.g;
    			
                //the prev item
    			var prev = num -1;

                //the product url
    			var code = val.url;

                //output to screen
    			outPut(num, productUrl, code, baseUrl, val, prev);

    		}

    		// if boy
    		else if (urlPath == '/boys/tea-active'){
    			var num = val.b;
    			
                //the prev item
    			var prev = num -1;

                //the product url
    			var code = val.url;

                //output to screen
    			outPut(num, productUrl, code, baseUrl, val, prev);
    		}
    	});

    });
</script>
{/literal}