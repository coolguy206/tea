<!-- dev styles -->
<!-- <link rel="stylesheet" type="text/css" href="../css/styles.css"> -->

<!-- OVERALL DESKTOP PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<div class="the-promo">

	<!-- banner with no image map -->
	<a href="#details-promo" class="mobile-promo-fat see-details" alt="promo banner">
		<!-- desktop -->
		<!-- <img src="/mas_assets/media/tea_collection/promos/rompers/2019/0720/v1/190720-banner-d.png" alt="" class="promo-img-alt" /> -->
		<!-- mobile -->
		<img src="/mas_assets/media/tea_collection/promos/rompers/2019/0720/v1/190720-banner-m.png" alt="" class="promo-img-alt" />
	</a>


	<!-- banner with image map -->
	<img src="/mas_assets/media/tea_collection/promos/rompers/2019/0720/v1/190720-banner-d.png" alt="" usemap="#map-d" class="desktop-promo-fat promo-img-alt" />
	<map name="map-d">
		<area target="" alt="" title="" href="/girls-clothing/favorites/limited-time-sale" coords="447,0,513,58" shape="rect">
		<area target="" alt="" title="" href="/tween-girls-clothing/favorites/limited-time-sale" coords="520,1,613,59" shape="rect">
		<area target="" alt="" title="" href="/baby-girl-clothes/favorites/limited-time-sale" coords="625,0,732,59" shape="rect">
		<area target="" alt="" title="" href="/baby-boy-clothes/favorites/limited-time-sale" coords="747,0,861,59" shape="rect">
		<area class="see-details" target="" alt="" title="" href="#details-promo" coords="871,0,987,59" shape="rect">
	</map>

	<!-- <img src="/mas_assets/media/tea_collection/promos/rompers/2019/0720/v1/190720-banner-m.png" alt="" usemap="#map-m" class="mobile-promo-fat promo-img-alt" />
	<map name="map-m">
		<area  alt="" title="" href="/girls-clothing/new-arrivals" shape="rect" coords="0,101,136,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/boys-clothing/new-arrivals" shape="rect" coords="142,100,251,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-girl-clothes/new-arrivals" shape="rect" coords="256,100,434,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-boy-clothes/new-arrivals" shape="rect" coords="438,100,610,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/clothing-sale" shape="rect" coords="615,100,750,160" style="outline:none;" target="_self"     />
		<area  class="see-details" alt="" title="" href="#details-promo" shape="rect" coords="0,0,750,99" style="outline:none;" target="_self"     />
	</map> -->
</div>


<!-- FINE PRINT -->
<div id="details-promo">
	<div class="details-container">
		<div class="mobile-promo-fat cta-drop-down">
			<a href="/girls-clothing/favorites/limited-time-sale" alt="promo banner">shop girl</a>
			<a href="/baby-girl-clothes/favorites/limited-time-sale" alt="promo banner">shop baby girl</a>
			<a href="/baby-boy-clothes/favorites/limited-time-sale" alt="promo banner">shop baby boy</a>
			<a href="/tween-girls-clothing/favorites/limited-time-sale" alt="promo banner">shop tween</a>
			<!-- <a href="/baby-boy-pajamas" alt="promo banner">baby boy</a> -->
			<!-- <a href="/sale/tween-girls-clothing" class="sale-cta" alt="promo banner">tween</a> -->
			<!-- <a href="/newborn-clothing" class="newborn-cta" alt="promo banner">newborn</a> -->
			<!-- <a href="/clothing-sale" class="sale-cta" alt="promo banner">sale</a> -->
		</div>
		<h2>Details</h2>
		<p>
			No code necessary. Prices as marked. Valid on items marked ‘$16 rompers’ at Teacollection.com. Offer valid through 7/21/2019 at 11:59 PM PT. Does not apply to Patagonia, Livie & Luca, and Saltwater. Discount taken pre-tax. Cannot be combined with
			other promotions. No adjustments on previous purchases. Not redeemable for cash. Cannot be combined with other offers. Limited to stock on hand.
		</p>

		<p><a href="#" class="close-fancy">CLOSE</a></p>
	</div>
</div>



<!-- dev resources -->
<!-- <link rel="stylesheet" type="text/css" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<!--prod resources -->
<link rel="stylesheet" type="text/css" href="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script>

<!-- toolkit -->
<style>
	html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}.the-promo img{max-width:100%}.desktop-promo-fat img,.mobile-promo-fat img{image-rendering:-webkit-optimize-contrast;max-width:100%}@media screen and (max-width:736px){.desktop-promo-fat{display:none}}.mobile-promo-fat{display:none}@media screen and (max-width:736px){.mobile-promo-fat{display:block}}#details-promo{display:none;width:600px;min-height:158px;background:#fff}@media screen and (max-width:736px){#details-promo{width:100%;position:absolute;z-index:9999;height:100%;background:#fff}}#details-promo .details-container{margin:27px;padding:20px 0;background:#fff}#details-promo .details-container h2{text-transform:uppercase;font-size:15px;letter-spacing:1px}#details-promo .details-container p{font-size:13px;line-height:20px}#details-promo .details-container .close-fancy{display:none;text-align:center}@media screen and (max-width:768px){#details-promo .details-container .close-fancy{display:block}}.cta-drop-down{overflow:hidden;background:#fff}.cta-drop-down a{font-size:10px;position:relative;padding:9px 0 7px;box-sizing:border-box;text-transform:uppercase;display:inline-block;width:45%;margin-right:2em;margin-bottom:2em;text-align:center;background:#ECD868;color:#B7555C;text-decoration:none;letter-spacing:1px;font-family:brown-pro-bold !important}.cta-drop-down a:nth-of-type(even){margin-right:0}.cta-drop-down a.newborn-cta,.cta-drop-down a.sale-cta{width:94%}@media screen and (max-width:737px){.cta-drop-down a.newborn-cta,.cta-drop-down a.sale-cta{width:98%;left:0}}
</style>

<script>
	jQuery(document).ready(function() {

		//CHANGE THE STRING FOR THE ALT FOR ALL PROMO DESKTOP AND MOBILE IMAGES
		var alt = "48 hours only! $16 rompers";

		$('.promo-img-alt').attr('alt', alt);


		//function to add alt to area
		var addAltArea = function(map, str) {
			var area = $(map).find('area');
			$(area).each(function(i, val) {

				var href = $(val).attr('href');
				href = href.replace("/", "");
				var cat = href.split("-");
				if (cat[0] == 'baby') {
					cat = cat[0] + " " + cat[1];
				} else if (cat[0].indexOf('#') !== -1) {
					cat = 'see details';
				} else {
					cat = cat[0]
				}

				//add the alt
				$(val).attr('alt', cat + areaAlt + ' ' + str);

			});
		};


		var areaAlt = ' promo banner cta';
		//add the alt to areas
		addAltArea('map[name="map-d"]', 'desktop')
		addAltArea('map[name="map-m"]', 'mobile')

		//responsive image map
		jQuery('img[usemap]').rwdImageMaps();
		//array of urls to hide the banners
		var urlArray = [{
				name: 'hp',
				url: '/',
			},
			// {
			// 	name: 'black-friday',
			// 	url: '/black-friday'
			// },
			// {
			// 	name:'sale-page',
			// 	url:'/clothing-sale'
			// },
		];

		//function to hide or show the banner
		var hideBanners = function() {
			var url = window.location.pathname;

			//desktop
			if ($(window).width() > 769) {
				//show the fineprint in a lightbox
				$('.the-promo .see-details').fancybox();

				//for when resize going up hide the mobile banners
				$('.mobile-promo-fat').hide();
			}

			$.each(urlArray, function(i, val) {
				if (url == val.url) {
					$('div[data-zone="sitewide_banner"]').hide();
					$('div[data-zone="sitewide_banner_mobile"]').hide();
				}
				// else if (url.split('/')[1] == 'select-styles') {
				// 	$('div[data-zone="sitewide_banner"]').hide();
				// 	$('div[data-zone="sitewide_banner_mobile"]').hide();
				// 	return false;
				// }
			});

			//if black friday landing page change dropdown cta urls
			// if (url.split('/')[1] == 'black-friday') {
			// 	//desktop
			// 	if ($(window).width() > 737) {
			// 		var area = $('map[name="map-d"] area');
			// 		$.each(area, function(i, val) {
			// 			var text = $(val).attr('name');
			// 			if (text == 'girl') {
			// 				$(val).attr('href', '/black-friday/girl');
			// 			} else if (text == 'boy') {
			// 				$(val).attr('href', '/black-friday/boy');
			// 			} else if (text == 'baby girl') {
			// 				$(val).attr('href', '/black-friday/baby-girl');
			// 			} else if (text == 'baby boy') {
			// 				$(val).attr('href', '/black-friday/baby-boy');
			// 			} else if (text == 'tween') {
			// 				$(val).attr('href', '/black-friday/tween');
			// 			}
			// 		});
			// 	}
			// 	//mobile
			// 	else {
			// 		var ctas = $('.cta-drop-down a');
			// 		$.each(ctas, function(i, val) {
			// 			var text = $(val).text();
			// 			if (text == 'girl') {
			// 				$(val).attr('href', '/black-friday/girl');
			// 			} else if (text == 'boy') {
			// 				$(val).attr('href', '/black-friday/boy');
			// 			} else if (text == 'baby girl') {
			// 				$(val).attr('href', '/black-friday/baby-girl');
			// 			} else if (text == 'baby boy') {
			// 				$(val).attr('href', '/black-friday/baby-boy');
			// 			} else if (text == 'tween') {
			// 				$(val).attr('href', '/black-friday/tween');
			// 			}
			// 		});
			// 	}
			// }
		};

		//on page load call hideBanners
		hideBanners();

		//on window resize call hideBanners
		$(window).resize(function() {
			hideBanners();
		});

		// slide toggle the fineprint
		// $('.mobile-promo-fat.see-details, #details-promo .close-fancy, .the-promo .see-details').click(function(e) {
		// 	e.preventDefault();
		// 	if ($(window).width() > 769) {
		// 		if(e.target.className == 'see-details'){
		// 			$('.the-promo .see-details').fancybox();
		// 		}
		// 	}
		// 	if ($(window).width() < 769) {
		// 		if(e.target.className == 'see-details'){
		// 				$('#details-promo').slideToggle();
		// 		}
		// 	}
		// });

		$('.the-promo').click(function(e) {
			// console.log(e.target.parentNode.className);
			// e.preventDefault();
			if ($(window).width() > 767) {
				if (e.target.className == 'see-details') {
					$('.the-promo .see-details').fancybox();
				}
			}
			if ($(window).width() < 767) {
				e.preventDefault();
				if (e.target.parentNode.className == "mobile-promo-fat see-details") {
					$('#details-promo').slideToggle();
				}
			}
		});


		$('.close-fancy').click(function(e) {
			// e.preventDefault();
			if ($(window).width() == 768) {
				$.fancybox.close();
			}
			if ($(window).width() < 767) {
				$('#details-promo').slideToggle();
			}
		});


	});
</script>