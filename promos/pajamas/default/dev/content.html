<!-- dev styles -->
<!-- <link rel="stylesheet" type="text/css" href="../css/styles.css"> -->

<!-- OVERALL DESKTOP PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<div class="the-promo">

	<!-- banner with no image map -->
	<a href="#details-promo" class="mobile-promo-fat see-details" alt="promo banner">
		<!-- desktop -->
		<!-- <img src="/mas_assets/media/tea_collection/promos/pajamas/2019/0618/v1/190618-banner-d.png" alt="" class="promo-img-alt" /> -->
		<!-- mobile -->
		<img src="/mas_assets/media/tea_collection/promos/pajamas/2019/0618/v1/190618-banner-m.png" alt="" class="promo-img-alt" />
	</a>


	<!-- banner with image map -->
	<img src="/mas_assets/media/tea_collection/promos/pajamas/2019/0618/v1/190618-banner-d.png" alt="" usemap="#map-d" class="desktop-promo-fat promo-img-alt" />
	<map name="map-d">
		<area target="" alt="" title="" href="/girls-pajamas-sleepwear" coords="485,0,575,59" shape="rect">
		<area target="" alt="" title="" href="/boys-pajamas-sleepwear" coords="578,1,636,58" shape="rect">
		<area target="" alt="" title="" href="/baby-girl-pajamas" coords="640,0,730,58" shape="rect">
		<area target="" alt="" title="" href="/baby-boy-pajamas" coords="734,0,845,59" shape="rect">
		<area class="see-details" target="" alt="" title="" href="#details-promo" coords="872,1,1000,57" shape="rect">
	</map>

	<!-- <img src="/mas_assets/media/tea_collection/promos/pajamas/2019/0618/v1/190618-banner-m.png" alt="" usemap="#map-m" class="mobile-promo-fat promo-img-alt" />
	<map name="map-m">
		<area  alt="" title="" href="/girls-clothing/new-arrivals" shape="rect" coords="0,101,136,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/boys-clothing/new-arrivals" shape="rect" coords="142,100,251,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-girl-clothes/new-arrivals" shape="rect" coords="256,100,434,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-boy-clothes/new-arrivals" shape="rect" coords="438,100,610,160" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/clothing-sale" shape="rect" coords="615,100,750,160" style="outline:none;" target="_self"     />
		<area  class="see-details" alt="" title="" href="#details-promo" shape="rect" coords="0,0,750,99" style="outline:none;" target="_self"     />
	</map> -->
</div>


<!-- FINE PRINT -->
<div id="details-promo">
	<div class="details-container">
		<div class="mobile-promo-fat cta-drop-down">
			<a href="/girls-pajamas-sleepwear" alt="promo banner">girl</a>
			<a href="/boys-pajamas-sleepwear" alt="promo banner">boy</a>
			<a href="/baby-girl-pajamas" alt="promo banner">baby girl</a>
			<a href="/baby-boy-pajamas" alt="promo banner">baby boy</a>
			<!-- <a href="/sale/tween-girls-clothing" class="sale-cta" alt="promo banner">tween</a> -->
			<!-- <a href="/newborn-clothing" class="newborn-cta" alt="promo banner">newborn</a> -->
			<!-- <a href="/clothing-sale" class="sale-cta" alt="promo banner">sale</a> -->
		</div>
		<h2>Details</h2>
		<p>
			Enter code PJS0619 at Teacollection.com valid through 6/20/2019 at 11:59 PM PT to receive $20 pajamas. Offer not valid on sale and clearance items, third party brand items or Everyday Playsets. Discount taken pre-tax. Cannot be combined with
			other promotions. Not combinable with code DREAMER. Offer cannot be applied to previous purchases or the purchase of gift cards and cannot be redeemed for cash or used in combination with any other. Limited to stock on hand.
		</p>

		<p><a href="#" class="close-fancy">CLOSE</a></p>
	</div>
</div>



<!-- dev resources -->
<!-- <link rel="stylesheet" type="text/css" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<!--prod resources -->
<link rel="stylesheet" type="text/css" href="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script>

<!-- toolkit -->
<style>
	include "../css/styles.css"
</style>

<script>
	jQuery(document).ready(function() {

		//CHANGE THE STRING FOR THE ALT FOR ALL PROMO DESKTOP AND MOBILE IMAGES
		var alt = "All Pjs just $20 USE CODE: PJS0619";

		$('.promo-img-alt').attr('alt', alt);


		//function to add alt to area
		var addAltArea = function(map, str) {
			var area = $(map).find('area');
			$(area).each(function(i, val) {

				var href = $(val).attr('href');
				href = href.replace("/", "");
				var cat = href.split("-");
				if (cat[0] == 'baby') {
					cat = cat[0] + " " + cat[1];
				} else if (cat[0].indexOf('#') !== -1) {
					cat = 'see details';
				} else {
					cat = cat[0]
				}

				//add the alt
				$(val).attr('alt', cat + areaAlt + ' ' + str);

			});
		};


		var areaAlt = ' promo banner cta';
		//add the alt to areas
		addAltArea('map[name="map-d"]', 'desktop')
		addAltArea('map[name="map-m"]', 'mobile')

		//responsive image map
		jQuery('img[usemap]').rwdImageMaps();
		//array of urls to hide the banners
		var urlArray = [{
				name: 'hp',
				url: '/',
			},
			// {
			// 	name: 'black-friday',
			// 	url: '/black-friday'
			// },
			// {
			// 	name:'sale-page',
			// 	url:'/clothing-sale'
			// },
		];

		//function to hide or show the banner
		var hideBanners = function() {
			var url = window.location.pathname;

			//desktop
			if ($(window).width() > 769) {
				//show the fineprint in a lightbox
				$('.the-promo .see-details').fancybox();

				//for when resize going up hide the mobile banners
				$('.mobile-promo-fat').hide();
			}

			$.each(urlArray, function(i, val) {
				if (url == val.url) {
					$('div[data-zone="sitewide_banner"]').hide();
					$('div[data-zone="sitewide_banner_mobile"]').hide();
				}
				// else if (url.split('/')[1] == 'select-styles') {
				// 	$('div[data-zone="sitewide_banner"]').hide();
				// 	$('div[data-zone="sitewide_banner_mobile"]').hide();
				// 	return false;
				// }
			});

			//if black friday landing page change dropdown cta urls
			// if (url.split('/')[1] == 'black-friday') {
			// 	//desktop
			// 	if ($(window).width() > 737) {
			// 		var area = $('map[name="map-d"] area');
			// 		$.each(area, function(i, val) {
			// 			var text = $(val).attr('name');
			// 			if (text == 'girl') {
			// 				$(val).attr('href', '/black-friday/girl');
			// 			} else if (text == 'boy') {
			// 				$(val).attr('href', '/black-friday/boy');
			// 			} else if (text == 'baby girl') {
			// 				$(val).attr('href', '/black-friday/baby-girl');
			// 			} else if (text == 'baby boy') {
			// 				$(val).attr('href', '/black-friday/baby-boy');
			// 			} else if (text == 'tween') {
			// 				$(val).attr('href', '/black-friday/tween');
			// 			}
			// 		});
			// 	}
			// 	//mobile
			// 	else {
			// 		var ctas = $('.cta-drop-down a');
			// 		$.each(ctas, function(i, val) {
			// 			var text = $(val).text();
			// 			if (text == 'girl') {
			// 				$(val).attr('href', '/black-friday/girl');
			// 			} else if (text == 'boy') {
			// 				$(val).attr('href', '/black-friday/boy');
			// 			} else if (text == 'baby girl') {
			// 				$(val).attr('href', '/black-friday/baby-girl');
			// 			} else if (text == 'baby boy') {
			// 				$(val).attr('href', '/black-friday/baby-boy');
			// 			} else if (text == 'tween') {
			// 				$(val).attr('href', '/black-friday/tween');
			// 			}
			// 		});
			// 	}
			// }
		};

		//on page load call hideBanners
		hideBanners();

		//on window resize call hideBanners
		$(window).resize(function() {
			hideBanners();
		});

		// slide toggle the fineprint
		// $('.mobile-promo-fat.see-details, #details-promo .close-fancy, .the-promo .see-details').click(function(e) {
		// 	e.preventDefault();
		// 	if ($(window).width() > 769) {
		// 		if(e.target.className == 'see-details'){
		// 			$('.the-promo .see-details').fancybox();
		// 		}
		// 	}
		// 	if ($(window).width() < 769) {
		// 		if(e.target.className == 'see-details'){
		// 				$('#details-promo').slideToggle();
		// 		}
		// 	}
		// });

		$('.the-promo').click(function(e) {
			// console.log(e.target.parentNode.className);
			// e.preventDefault();
			if ($(window).width() > 767) {
				if (e.target.className == 'see-details') {
					$('.the-promo .see-details').fancybox();
				}
			}
			if ($(window).width() < 767) {
				e.preventDefault();
				if (e.target.parentNode.className == "mobile-promo-fat see-details") {
					$('#details-promo').slideToggle();
				}
			}
		});


		$('.close-fancy').click(function(e) {
			// e.preventDefault();
			if ($(window).width() == 768) {
				$.fancybox.close();
			}
			if ($(window).width() < 767) {
				$('#details-promo').slideToggle();
			}
		});


	});
</script>