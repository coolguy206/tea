<!-- toolkit -->
<style>
	include "../css/styles.css"
</style>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- dev styles -->
<!-- <link rel="stylesheet" type="text/css" href="../css/styles.css"> -->
  
<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- HOMEPAGE ONLY DESKTOP PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<!-- <div class="desktop-promo-hp"> -->

	<!--banner with no image map-->

	<!--<a href="#details-promo" class="see-details">
			<img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-d.jpg" alt="" class="promo-img-alt"/>
		</a> -->

	<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!--banner with image map -->

	<!-- <img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-d.jpg" alt="" usemap="#hp-map-d" class="promo-img-alt"/>
	<map name="hp-map-d">
		<area  alt="" title="" href="/girls-clothing/view-all" shape="rect" coords="357,55,432,105" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/boys-clothing/view-all" shape="rect" coords="436,56,496,104" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-girl-clothes/view-all" shape="rect" coords="500,56,600,108" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-boy-clothes/view-all" shape="rect" coords="600,48,708,109" style="outline:none;" target="_self"     />
		<area class="see-details" alt="" title="" href="#details-promo" shape="rect" coords="712,0,1000,121" style="outline:none;" target="_self"     />
	</map> -->
<!-- </div> -->

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- HOMEPAGE ONLY MOBILE PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<!-- <div class="mobile-promo-hp"> -->

	<!-- banner with no image map -->

	<!-- <a href="#details-promo" class="see-details"><img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-m.jpg" alt="" class="promo-img-alt"/></a> -->

	<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- banner with image map -->

	<!-- <img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-m.jpg" alt="" usemap="#hp-map-m" class="promo-img-alt"/>
	<map name="hp-map-m">
		<area class="see-details" alt="" title="" href="#details-promo" shape="rect" coords="0,0,750,92" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/girls-clothing" shape="rect" coords="0,93,103,154" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/boys-clothing" shape="rect" coords="109,93,219,154" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-girl-clothes" shape="rect" coords="222,93,403,154" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/baby-boy-clothes" shape="rect" coords="406,93,577,154" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/newborn-clothes" shape="rect" coords="583,94,750,154" style="outline:none;" target="_self"     />
	</map> -->
<!-- </div> -->

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- OVERALL DESKTOP PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<div class="desktop-promo">

	<!-- banner with no image map -->

	<!-- <a href="#details-promo" class="see-details"><img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-d.jpg" alt="" class="promo-img-alt"/></a> -->

	<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- banner with image map -->

	<img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-d.jpg" alt="" usemap="#map-d" class="promo-img-alt"/>
	<map name="map-d">
		<area  alt="" title="" href="/swimwear" shape="rect" coords="0,0,891,60" style="outline:none;" target="_self"     />
		<area class="see-details"  alt="" title="" href="#details-promo" shape="rect" coords="895,0,1000,60" style="outline:none;" target="_self"     />
	</map>
</div>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- OVERALL MOBILE PROMO -->
<!-- UNCOMMENT IF NEEDED -->
<div class="mobile-promo">

	<!-- banner with no image map -->
	
	<!-- <a href="#details-promo" class="see-details" target="_blank"><img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-m.jpg" alt="" class="promo-img-alt"/></a> -->

	<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- banner with image map -->

	<img src="/mas_assets/media/tea_collection/promos/swim/2018/180531-m.jpg" alt="" usemap="#map-m" class="promo-img-alt" />
	<map name="map-m">
		<area class="see-details"  alt="" title="" href="#details-promo" shape="rect" coords="0,0,573,136" style="outline:none;" target="_self"     />
		<area  alt="" title="" href="/swimwear" shape="rect" coords="578,0,750,136" style="outline:none;" target="_self"     />
	</map>
</div>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- FINE PRINT -->
<div id="details-promo">
	<div class="details-container">
		<div class="mobile-promo cta-drop-down">
			<a href="/girls-swimwear">girl</a>
			<!-- <a href="/tween-girls-clothing" class="">tween</a> -->
			<a href="/boys-swimwear">boy</a>
			<a href="/baby-girl-swimwear">baby girl</a>
			<a href="/baby-boy-swimwear">baby boy</a>
			<!-- <a href="/newborn-clothes" class="">newborn</a> -->
			<!-- <a href="/clothing-sale" class="sale-cta">sale</a> -->
		</div>
		<h2>Details</h2> 
		<p>
			Enter code CANNONBALL during checkout to receive 50% off swimwear in your order on TeaCollection.com. Offer expires 6/3/2018 at 11:59 PM PT. Discount taken will be pre-tax. Cannot be combined with other promotions. No adjustments on previous purchases. Not redeemable for cash. Limited to stock on hand. 
		</p>

		<p><a href="#" class="close-fancy mobile">CLOSE</a></p>
	</div>
</div>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- dev resources -->
<!-- <link rel="stylesheet" type="text/css" href="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="https://www.teacollection.com/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script> -->

<!--prod resources -->
<link rel="stylesheet" type="text/css" href="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.css">
<script src="/mas_assets/theme/tea_collection/js/fancybox_2.0/jquery.fancybox.js"></script>
<script src="/mas_assets/theme/tea_collection/js/jquery.rwdImageMaps.min.js"></script>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////// -->

<script>
	jQuery(document).ready(function(){
		//dev image src
		// var imgs = $('.desktop-promo img, .desktop-promo-hp img, .mobile-promo img, .mobile-promo-hp img');
		// $.each(imgs, function(i,val){
		// 	var src = $(val).attr('src');
		// 	var newSrc = 'https://www.teacollection.com' + src;
		// 	$(val).attr('src', newSrc)
		// });

		//CHANGE THE STRING FOR THE ALT FOR ALL PROMO DESKTOP AND MOBILE IMAGES
		var alt = "50% off All Swim USE CODE: CANNONBALL";

		$('.promo-img-alt').attr('alt', alt);


		//function to add alt to area
		var addAltArea = function(map, str){
			var area = $(map).find('area');
			$(area).each(function(i,val){

				var href = $(val).attr('href');
				href = href.replace("/","");
				var cat = href.split("-");
				if(cat[0] == 'baby'){
					cat = cat[0] + " " + cat[1];
				} else if(cat[0].indexOf('#') !== -1) {
					cat = 'see details';
				} else {
					cat = cat[0]
				}

				//add the alt
				$(val).attr('alt', cat + areaAlt + ' ' + str);

			});
		};

		
		var areaAlt = ' promo banner cta';
		//add the alt to areas
		addAltArea('map[name="map-d"]', 'desktop')
		addAltArea('map[name="map-m"]', 'mobile')


		// hide on login page on mobile
		if(jQuery(window).width()<768) {
			var url = window.location.pathname;

			var path = window.location.href;
			var path = path.split('?');
			path = path[1];
			if(path == 'page=login') {
				jQuery('.desktop-promo, .mobile-promo').hide();
			}

		}

		//responsive image map
		jQuery('img[usemap]').rwdImageMaps();



	//function to hide or show the banner
	var hideBanners = function() {
		
		var url = window.location.pathname;

		//for black friday
		// var bf = url.split('/');
		// if(bf[2] !== undefined){
		// 	bf = bf[2].split('-');
		// 	bf = bf[0];
		// 	console.log(bf);
		// } else {
		// 	bf = bf[1];
		// }

		// console.log(url); 

		//desktop
		if(jQuery(window).width()>737){

			//show the fineprint in a lightbox
			jQuery('.desktop-promo .see-details').fancybox();

			//if homepage show homepage banner
			// if(url == '/'){
			// 	jQuery('.desktop-promo-hp').show();
			// 	jQuery('.desktop-promo').hide();
			//}

			// hide banner on homepage page
			// if(url == '/') {
			// 	jQuery('.desktop-promo, .desktop-promo-hp').hide();
			// }

			// hide banner on black friday page
			// if(url == '/black-friday') {
			// 	jQuery('.desktop-promo, .desktop-promo-hp').hide();
			// }

			//hide banners on all sub cats of black friday
			// if(bf.indexOf('black') !== -1){
			// 	jQuery('.desktop-promo, .desktop-promo-hp').hide();
			// }

			//show the banner on the baby boy & baby girl black friday page
			// if(url == '/baby-boy-black-friday' || url == '/baby-girl-black-friday'){
			// 	jQuery('.desktop-promo, .desktop-promo-hp').show();
			// }

			// hide banner on sale page
			// if(url == '/clothing-sale') {
			// 	jQuery('.desktop-promo, .desktop-promo-hp').hide();
			// }	

			//for when resize going up hide the mobile banners
			jQuery('.mobile-promo-hp, .mobile-promo').hide();

		// mobile 
		} else if(jQuery(window).width()<737){
			//hide the desktop banners
			//jQuery('.desktop-promo-hp, .desktop-promo').hide();

			//if homepage show homepage banner
			// if(url == '/'){
			// 	jQuery('.mobile-promo-hp').show();
			// 	jQuery('.mobile-promo').hide();
			// }

			//hide banner on homepage page
			// if(url == '/') {
			// 	jQuery('.mobile-promo, .mobile-promo-hp').hide(); 
			// }

			//hide banner on black friday page
			// if(url == '/black-friday') {
			// 	jQuery('.mobile-promo, .mobile-promo-hp').hide();
			// }

			//hide banners on all sub cats of black friday
			// if(bf.indexOf('black') !== -1){
			// 	jQuery('.mobile-promo, .mobile-promo-hp').hide();
			// }

			//hide banner on sale page
			// if(url == '/clothing-sale') {
			// 	jQuery('.mobile-promo, .mobile-promo-hp').hide();
			// }
		} 
	};

		//on page load call hideBanners
		hideBanners();
		
		//on window resize call hideBanners
		$(window).resize(function(){
			hideBanners();
		});

		// slide toggle the fineprint
		jQuery('.desktop-promo .see-details,.mobile-promo .see-details, #details-promo .close-fancy').click(function(e){
			e.preventDefault();
			jQuery('#details-promo').slideToggle();
		});
		
	}); 
</script>

