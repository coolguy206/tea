$(document).ready(function(){
	//array of zipcodes
	var zipCodes = [70501,70502,70503,70504,70505,70506,70507,70508,70509,70510,70511,70512,70513,70514,70515,70516,70517,70518,70519,70520,70521,70522,70523,70524,70525,70526,70527,70528,70529,70531,70532,70533,70534,70535,70537,70538,70540,70541,70542,70543,70544,70546,70548,70549,70550,70551,70552,70554,70555,70556,70558,70559,70560,70562,70563,70569,70570,70571,70575,70576,70577,70578,70580,70581,70582,70583,70584,70586,70589,70591,70592,70593,70596,70598,70601,70602,70605,70606,70607,70609,70611,70612,70615,70616,70629,70630,70631,70632,70633,70634,70637,70639,70640,70643,70644,70645,70646,70647,70648,70650,70651,70652,70653,70654,70655,70656,70657,70658,70659,70660,70661,70662,70663,70664,70665,70668,70669,70750,71345,71353,71358,71367,71463,77001,77002,77003,77004,77005,77006,77007,77008,77009,77010,77011,77012,77013,77014,77015,77016,77017,77018,77019,77020,77021,77022,77023,77024,77025,77026,77027,77028,77029,77030,77031,77032,77033,77034,77035,77036,77037,77038,77039,77040,77041,77042,77043,77044,77045,77046,77047,77048,77049,77050,77051,77052,77053,77054,77055,77056,77057,77058,77059,77060,77061,77062,77063,77064,77065,77066,77067,77068,77069,77070,77071,77072,77073,77074,77075,77076,77077,77078,77079,77080,77081,77082,77083,77084,77085,77086,77087,77088,77089,77090,77091,77092,77093,77094,77095,77096,77097,77098,77099,77201,77202,77203,77204,77205,77206,77207,77208,77209,77210,77212,77213,77215,77216,77217,77218,77219,77220,77221,77222,77223,77224,77225,77226,77227,77228,77229,77230,77231,77233,77234,77235,77236,77237,77238,77240,77241,77242,77243,77244,77245,77247,77248,77249,77250,77251,77252,77253,77254,77255,77256,77257,77258,77259,77261,77262,77263,77265,77266,77267,77268,77269,77270,77271,77272,77273,77274,77275,77276,77277,77278,77279,77280,77282,77284,77287,77288,77289,77290,77291,77292,77293,77294,77296,77297,77298,77299,77301,77302,77303,77304,77305,77306,77315,77325,77327,77328,77331,77336,77337,77338,77339,77345,77346,77347,77353,77354,77355,77357,77362,77365,77368,77369,77371,77372,77373,77374,77375,77376,77377,77379,77380,77381,77382,77383,77384,77385,77386,77387,77388,77389,77391,77393,77396,77401,77402,77404,77406,77407,77410,77411,77412,77413,77414,77415,77417,77418,77419,77420,77422,77423,77428,77429,77430,77431,77432,77433,77434,77435,77436,77437,77440,77441,77442,77443,77444,77445,77446,77447,77448,77449,77450,77451,77452,77453,77454,77455,77456,77457,77458,77459,77460,77461,77463,77464,77465,77466,77467,77468,77469,77470,77471,77473,77474,77475,77476,77477,77478,77479,77480,77481,77482,77483,77484,77485,77486,77487,77488,77489,77491,77492,77493,77494,77496,77497,77498,77501,77502,77503,77504,77505,77506,77507,77508,77510,77511,77512,77514,77515,77516,77517,77518,77519,77520,77521,77522,77523,77530,77531,77532,77533,77534,77535,77536,77538,77539,77541,77542,77545,77546,77547,77549,77550,77551,77552,77553,77554,77555,77560,77561,77562,77563,77564,77565,77566,77568,77571,77572,77573,77574,77575,77577,77578,77580,77581,77582,77583,77584,77585,77586,77587,77588,77590,77591,77592,77597,77598,77611,77612,77613,77614,77615,77616,77617,77619,77622,77623,77624,77625,77626,77627,77629,77630,77631,77632,77639,77640,77641,77642,77643,77650,77651,77655,77656,77657,77659,77660,77661,77662,77663,77664,77665,77670,77701,77702,77703,77704,77705,77706,77707,77708,77709,77710,77713,77720,77725,77726,77901,77902,77903,77904,77905,77950,77951,77954,77957,77960,77961,77962,77963,77964,77967,77968,77969,77970,77971,77973,77974,77975,77976,77977,77978,77979,77982,77983,77984,77986,77987,77988,77989,77990,77991,77993,77994,77995,78107,78111,78116,78118,78119,78122,78125,78140,78141,78142,78146,78151,78159,78162,78164,78381,78382,78931,78933,78934,78935,78943,78944,78950,78951,78956,78962,70001,70002,70003,70004,70005,70006,70009,70010,70011,70030,70031,70032,70033,70036,70037,70038,70039,70040,70041,70043,70044,70047,70049,70050,70053,70054,70055,70056,70057,70058,70059,70060,70062,70063,70064,70065,70067,70070,70072,70073,70075,70078,70079,70080,70081,70082,70083,70085,70086,70087,70090,70091,70092,70093,70094,70096,70097,70112,70113,70114,70115,70116,70117,70118,70119,70121,70122,70123,70124,70125,70126,70130,70131,70139,70140,70141,70142,70143,70145,70146,70148,70149,70150,70151,70152,70153,70154,70156,70157,70158,70159,70160,70161,70162,70163,70164,70165,70166,70167,70170,70172,70174,70175,70176,70177,70178,70179,70181,70182,70183,70184,70185,70186,70187,70190,70195,70301,70302,70310,70339,70340,70341,70342,70343,70344,70345,70346,70352,70353,70354,70355,70356,70357,70358,70359,70360,70361,70363,70364,70371,70372,70373,70374,70375,70377,70380,70381,70390,70391,70392,70393,70394,70395,70397,70500,70585,70595,70638,70704,70706,70707,70710,70712,70714,70715,70718,70719,70721,70722,70723,70725,70726,70727,70728,70729,70730,70732,70734,70736,70737,70738,70739,70740,70743,70747,70748,70749,70752,70753,70755,70756,70757,70759,70760,70761,70762,70763,70764,70765,70767,70769,70770,70772,70773,70774,70775,70776,70777,70778,70780,70782,70783,70784,70786,70787,70788,70789,70791,70792,70801,70802,70803,70804,70805,70806,70807,70808,70809,70810,70811,70812,70813,70814,70815,70816,70817,70818,70819,70820,70821,70822,70823,70825,70826,70827,70831,70833,70835,70836,70837,70873,70874,70879,70884,70891,70892,70893,70894,70895,70896,70898,71322,71356,75862,75928,75932,75933,75936,75938,75942,75951,75956,75966,75977,75979,75990,77246,77260,77285,77286,77316,77318,77320,77326,77332,77333,77334,77335,77340,77341,77342,77343,77344,77348,77349,77350,77351,77356,77358,77359,77360,77363,77364,77367,77378,77399,77426,77863,77878,77880,78022,78060,78071,78102,78104,78143,78144,78145,78330,78332,78333,78335,78336,78338,78339,78340,78341,78342,78343,78347,78349,78350,78351,78352,78353,78355,78357,78358,78359,78362,78363,78364,78368,78370,78372,78373,78374,78375,78376,78377,78379,78380,78383,78384,78385,78387,78389,78390,78391,78393,78401,78402,78403,78404,78405,78406,78407,78408,78409,78410,78411,78412,78413,78414,78415,78416,78417,78418,78419,78426,78427,78460,78461,78463,78465,78466,78467,78468,78469,78470,78471,78472,78473,78474,78475,78476,78477,78478,78480,78604,78614,78629,78677,78938,78940,];

	//function to check for zipcode
	var checkZip = function(zipCodes){
		//wait 500ms in case changing address with google dropdown on input fields for #address1 and #address2
		setTimeout(function(){
			//get the #zip val
			var theVal = $('#zip').val();
			//run the loop
			$(zipCodes).each(function(i,val){

				//change the number into a string
				var zip = val.toString();

				//if zipcode matches
				if(theVal.indexOf(zip) !== -1){
					//insert the warning message
					$('ol li.required-hint.left.clear').before('<li class="harvey" style="clear: both; width: 95%; text-align: left; border: none; color:#e0645a; font-family: brown-pro-bold !important; font-size: 100%; padding-left: 61px;">Due to Hurricane Harvey, we are holding all shipments to select <u class="show-codes">Texas and Louisiana zip codes.</u> We will ship affected orders as soon as our delivery partners resume regular operations. Thank you for your patience. </li>');
					//stop the loop
					return false;	
				} else {
					//remove the .harvey li
					$('.harvey').remove();
				}
			});


			//open new window for zip codes on click
			$('.show-codes').click(function(){
				var message = $('<style>.zips{list-style-type:none;}.zips li{padding: 10px;}.zips li:nth-of-type(odd){background:#e0645a;}</style><h1>Texas and Louisiana zip codes</h1><ul class="zips"></ul>');
				$(zipCodes).each(function(i,val){
					$(message[2]).append('<li>'+val+'</li>');
				});
				console.log(message);
				var newWindow = window.open("","", "top=0, width=500, height=500");
				newWindow.document.write(message[0].outerHTML + message[1].outerHTML + message[2].outerHTML);
			});

			//on hover show pointer
			$('.show-codes').hover(function(){
				$(this).css('cursor','pointer');
			},function(){
				$(this).css('cursor','none');
			});
		}, 500);				
	};

	//on page load check run the checkZip funct
	//run the checkZip funct
	checkZip(zipCodes);

	//on #address1 or #address2 change
	$('#address1, #address2').change(function(){
		//run the checkZip function
		checkZip(zipCodes);
	});

	//on #zip change
	$('#zip').change(function(){
		//run the checkZip function
		checkZip(zipCodes);
	});

});